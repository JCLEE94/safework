import*as Qu from"lucide-react";import{X as os,Menu as Yu,Search as Pt,Bell as sn,TrendingUp as ln,Users as ba,Activity as an,ShieldCheck as Ku,Calendar as on,Zap as Xu,AlertTriangle as jt,FileText as Se,RefreshCw as nt,CheckCircle as Ht,Shield as cs,Volume2 as Gu,Wind as yi,Thermometer as Ju,Settings as Zu,BarChart3 as _l,Clock as jr,AlertCircle as Nr,Monitor as ed,Heart as Fo,ArrowLeft as Sn,Save as it,Plus as qe,Edit as Pr,Trash2 as Nt,User as Wr,BookOpen as vi,Eye as Wt,Download as wr,FileEdit as Qr,RotateCcw as td,Building as kl,MapPin as rd,Phone as nd,Mail as sd,Hash as ld,CheckSquare as ad,File as id,FolderOpen as Xs,Upload as Yr,XCircle as od,Database as ji,Edit3 as cd,Type as ud,Square as dd,Signature as md,Loader2 as pd}from"lucide-react";import{useEmbed as fd,EmbedPDF as xd}from"@simplepdf/react-embed-pdf";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function hd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oo={exports:{}},Fs={},Mo={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cn=Symbol.for("react.element"),gd=Symbol.for("react.portal"),yd=Symbol.for("react.fragment"),vd=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),Nd=Symbol.for("react.provider"),wd=Symbol.for("react.context"),bd=Symbol.for("react.forward_ref"),_d=Symbol.for("react.suspense"),kd=Symbol.for("react.memo"),Sd=Symbol.for("react.lazy"),Ni=Symbol.iterator;function Cd(e){return e===null||typeof e!="object"?null:(e=Ni&&e[Ni]||e["@@iterator"],typeof e=="function"?e:null)}var Ro={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Io=Object.assign,Ao={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=Ao,this.updater=n||Ro}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $o(){}$o.prototype=Dr.prototype;function _a(e,t,n){this.props=e,this.context=t,this.refs=Ao,this.updater=n||Ro}var ka=_a.prototype=new $o;ka.constructor=_a;Io(ka,Dr.prototype);ka.isPureReactComponent=!0;var wi=Array.isArray,Uo=Object.prototype.hasOwnProperty,Sa={current:null},qo={key:!0,ref:!0,__self:!0,__source:!0};function Bo(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Uo.call(t,s)&&!qo.hasOwnProperty(s)&&(l[s]=t[s]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var o=Array(c),p=0;p<c;p++)o[p]=arguments[p+2];l.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)l[s]===void 0&&(l[s]=c[s]);return{$$typeof:Cn,type:e,key:a,ref:i,props:l,_owner:Sa.current}}function Ed(e,t){return{$$typeof:Cn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ca(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cn}function zd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bi=/\/+/g;function Gs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zd(""+e.key):t.toString(36)}function Xn(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Cn:case gd:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Gs(i,0):s,wi(l)?(n="",e!=null&&(n=e.replace(bi,"$&/")+"/"),Xn(l,t,n,"",function(p){return p})):l!=null&&(Ca(l)&&(l=Ed(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(bi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",wi(e))for(var c=0;c<e.length;c++){a=e[c];var o=s+Gs(a,c);i+=Xn(a,t,n,o,l)}else if(o=Cd(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=s+Gs(a,c++),i+=Xn(a,t,n,o,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ln(e,t,n){if(e==null)return e;var s=[],l=0;return Xn(e,s,"","",function(a){return t.call(n,a,l++)}),s}function Pd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Gn={transition:null},Dd={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Gn,ReactCurrentOwner:Sa};function Vo(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Ln,forEach:function(e,t,n){Ln(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ln(e,function(){t++}),t},toArray:function(e){return Ln(e,function(t){return t})||[]},only:function(e){if(!Ca(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Dr;B.Fragment=yd;B.Profiler=jd;B.PureComponent=_a;B.StrictMode=vd;B.Suspense=_d;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dd;B.act=Vo;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Io({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Sa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Uo.call(t,o)&&!qo.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){c=Array(o);for(var p=0;p<o;p++)c[p]=arguments[p+2];s.children=c}return{$$typeof:Cn,type:e.type,key:l,ref:a,props:s,_owner:i}};B.createContext=function(e){return e={$$typeof:wd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nd,_context:e},e.Consumer=e};B.createElement=Bo;B.createFactory=function(e){var t=Bo.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:bd,render:e}};B.isValidElement=Ca;B.lazy=function(e){return{$$typeof:Sd,_payload:{_status:-1,_result:e},_init:Pd}};B.memo=function(e,t){return{$$typeof:kd,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Gn.transition;Gn.transition={};try{e()}finally{Gn.transition=t}};B.unstable_act=Vo;B.useCallback=function(e,t){return ye.current.useCallback(e,t)};B.useContext=function(e){return ye.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};B.useEffect=function(e,t){return ye.current.useEffect(e,t)};B.useId=function(){return ye.current.useId()};B.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return ye.current.useMemo(e,t)};B.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};B.useRef=function(e){return ye.current.useRef(e)};B.useState=function(e){return ye.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return ye.current.useTransition()};B.version="18.3.1";Mo.exports=B;var E=Mo.exports;const Sl=hd(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=E,Ld=Symbol.for("react.element"),Fd=Symbol.for("react.fragment"),Od=Object.prototype.hasOwnProperty,Md=Td.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rd={key:!0,ref:!0,__self:!0,__source:!0};function Ho(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Od.call(t,s)&&!Rd.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Ld,type:e,key:a,ref:i,props:l,_owner:Md.current}}Fs.Fragment=Fd;Fs.jsx=Ho;Fs.jsxs=Ho;Oo.exports=Fs;var r=Oo.exports,Cl={},Wo={exports:{}},Pe={},Qo={exports:{}},Yo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,F){var _=C.length;C.push(F);e:for(;0<_;){var M=_-1>>>1,A=C[M];if(0<l(A,F))C[M]=F,C[_]=A,_=M;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var F=C[0],_=C.pop();if(_!==F){C[0]=_;e:for(var M=0,A=C.length,Qe=A>>>1;M<Qe;){var Ye=2*(M+1)-1,et=C[Ye],Rt=Ye+1,Tn=C[Rt];if(0>l(et,_))Rt<A&&0>l(Tn,et)?(C[M]=Tn,C[Rt]=_,M=Rt):(C[M]=et,C[Ye]=_,M=Ye);else if(Rt<A&&0>l(Tn,_))C[M]=Tn,C[Rt]=_,M=Rt;else break e}}return F}function l(C,F){var _=C.sortIndex-F.sortIndex;return _!==0?_:C.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],p=[],y=1,v=null,h=3,w=!1,d=!1,j=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(C){for(var F=n(p);F!==null;){if(F.callback===null)s(p);else if(F.startTime<=C)s(p),F.sortIndex=F.expirationTime,t(o,F);else break;F=n(p)}}function b(C){if(j=!1,f(C),!d)if(n(o)!==null)d=!0,U(x);else{var F=n(p);F!==null&&Q(b,F.startTime-C)}}function x(C,F){d=!1,j&&(j=!1,m(z),z=-1),w=!0;var _=h;try{for(f(F),v=n(o);v!==null&&(!(v.expirationTime>F)||C&&!V());){var M=v.callback;if(typeof M=="function"){v.callback=null,h=v.priorityLevel;var A=M(v.expirationTime<=F);F=e.unstable_now(),typeof A=="function"?v.callback=A:v===n(o)&&s(o),f(F)}else s(o);v=n(o)}if(v!==null)var Qe=!0;else{var Ye=n(p);Ye!==null&&Q(b,Ye.startTime-F),Qe=!1}return Qe}finally{v=null,h=_,w=!1}}var k=!1,N=null,z=-1,q=5,D=-1;function V(){return!(e.unstable_now()-D<q)}function S(){if(N!==null){var C=e.unstable_now();D=C;var F=!0;try{F=N(!0,C)}finally{F?W():(k=!1,N=null)}}else k=!1}var W;if(typeof u=="function")W=function(){u(S)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,T=L.port2;L.port1.onmessage=S,W=function(){T.postMessage(null)}}else W=function(){g(S,0)};function U(C){N=C,k||(k=!0,W())}function Q(C,F){z=g(function(){C(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){d||w||(d=!0,U(x))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var _=h;h=F;try{return C()}finally{h=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,F){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var _=h;h=C;try{return F()}finally{h=_}},e.unstable_scheduleCallback=function(C,F,_){var M=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?M+_:M):_=M,C){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=_+A,C={id:y++,callback:F,priorityLevel:C,startTime:_,expirationTime:A,sortIndex:-1},_>M?(C.sortIndex=_,t(p,C),n(o)===null&&C===n(p)&&(j?(m(z),z=-1):j=!0,Q(b,_-M))):(C.sortIndex=A,t(o,C),d||w||(d=!0,U(x))),C},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(C){var F=h;return function(){var _=h;h=F;try{return C.apply(this,arguments)}finally{h=_}}}})(Yo);Qo.exports=Yo;var Id=Qo.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=E,ze=Id;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ko=new Set,cn={};function Jt(e,t){br(e,t),br(e+"Capture",t)}function br(e,t){for(cn[e]=t,e=0;e<t.length;e++)Ko.add(t[e])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,$d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_i={},ki={};function Ud(e){return El.call(ki,e)?!0:El.call(_i,e)?!1:$d.test(e)?ki[e]=!0:(_i[e]=!0,!1)}function qd(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bd(e,t,n,s){if(t===null||typeof t>"u"||qd(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){de[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];de[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){de[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){de[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){de[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){de[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){de[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){de[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){de[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ea=/[\-:]([a-z])/g;function za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ea,za);de[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ea,za);de[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ea,za);de[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){de[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});de.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){de[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pa(e,t,n,s){var l=de.hasOwnProperty(t)?de[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bd(t,n,l,s)&&(n=null),s||l===null?Ud(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var mt=Ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fn=Symbol.for("react.element"),rr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),Da=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),Xo=Symbol.for("react.provider"),Go=Symbol.for("react.context"),Ta=Symbol.for("react.forward_ref"),Pl=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),La=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Jo=Symbol.for("react.offscreen"),Si=Symbol.iterator;function Fr(e){return e===null||typeof e!="object"?null:(e=Si&&e[Si]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Js;function qr(e){if(Js===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Js=t&&t[1]||""}return`
`+Js+e}var Zs=!1;function el(e,t){if(!e||Zs)return"";Zs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var l=p.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,c=a.length-1;1<=i&&0<=c&&l[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==a[c]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Zs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qr(e):""}function Vd(e){switch(e.tag){case 5:return qr(e.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return e=el(e.type,!1),e;case 11:return e=el(e.type.render,!1),e;case 1:return e=el(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case rr:return"Portal";case zl:return"Profiler";case Da:return"StrictMode";case Pl:return"Suspense";case Dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Go:return(e.displayName||"Context")+".Consumer";case Xo:return(e._context.displayName||"Context")+".Provider";case Ta:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case La:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function Hd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===Da?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wd(e){var t=Zo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function On(e){e._valueTracker||(e._valueTracker=Wd(e))}function ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Zo(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ll(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ci(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Dt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tc(e,t){t=t.checked,t!=null&&Pa(e,"checked",t,!1)}function Fl(e,t){tc(e,t);var n=Dt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ei(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Br=Array.isArray;function fr(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Dt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Br(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dt(n)}}function rc(e,t){var n=Dt(t.value),s=Dt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Pi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mn,sc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mn=Mn||document.createElement("div"),Mn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qd=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){Qd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function lc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function ac(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=lc(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var Yd=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(Yd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ul=null,xr=null,hr=null;function Di(e){if(e=Pn(e)){if(typeof Ul!="function")throw Error(P(280));var t=e.stateNode;t&&(t=As(t),Ul(e.stateNode,e.type,t))}}function ic(e){xr?hr?hr.push(e):hr=[e]:xr=e}function oc(){if(xr){var e=xr,t=hr;if(hr=xr=null,Di(e),t)for(e=0;e<t.length;e++)Di(t[e])}}function cc(e,t){return e(t)}function uc(){}var tl=!1;function dc(e,t,n){if(tl)return e(t,n);tl=!0;try{return cc(e,t,n)}finally{tl=!1,(xr!==null||hr!==null)&&(uc(),oc())}}function dn(e,t){var n=e.stateNode;if(n===null)return null;var s=As(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ql=!1;if(ot)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){ql=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{ql=!1}function Kd(e,t,n,s,l,a,i,c,o){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(y){this.onError(y)}}var Xr=!1,ds=null,ms=!1,Bl=null,Xd={onError:function(e){Xr=!0,ds=e}};function Gd(e,t,n,s,l,a,i,c,o){Xr=!1,ds=null,Kd.apply(Xd,arguments)}function Jd(e,t,n,s,l,a,i,c,o){if(Gd.apply(this,arguments),Xr){if(Xr){var p=ds;Xr=!1,ds=null}else throw Error(P(198));ms||(ms=!0,Bl=p)}}function Zt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ti(e){if(Zt(e)!==e)throw Error(P(188))}function Zd(e){var t=e.alternate;if(!t){if(t=Zt(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Ti(l),e;if(a===s)return Ti(l),t;a=a.sibling}throw Error(P(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,s=a;break}if(c===s){i=!0,s=l,n=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===n){i=!0,n=a,s=l;break}if(c===s){i=!0,s=a,n=l;break}c=c.sibling}if(!i)throw Error(P(189))}}if(n.alternate!==s)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function pc(e){return e=Zd(e),e!==null?fc(e):null}function fc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fc(e);if(t!==null)return t;e=e.sibling}return null}var xc=ze.unstable_scheduleCallback,Li=ze.unstable_cancelCallback,em=ze.unstable_shouldYield,tm=ze.unstable_requestPaint,ne=ze.unstable_now,rm=ze.unstable_getCurrentPriorityLevel,Oa=ze.unstable_ImmediatePriority,hc=ze.unstable_UserBlockingPriority,ps=ze.unstable_NormalPriority,nm=ze.unstable_LowPriority,gc=ze.unstable_IdlePriority,Os=null,Je=null;function sm(e){if(Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Os,e,void 0,(e.current.flags&128)===128)}catch{}}var Be=Math.clz32?Math.clz32:im,lm=Math.log,am=Math.LN2;function im(e){return e>>>=0,e===0?32:31-(lm(e)/am|0)|0}var Rn=64,In=4194304;function Vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fs(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~l;c!==0?s=Vr(c):(a&=i,a!==0&&(s=Vr(a)))}else i=n&~l,i!==0?s=Vr(i):a!==0&&(s=Vr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Be(t),l=1<<n,s|=e[n],t&=~l;return s}function om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Be(a),c=1<<i,o=l[i];o===-1?(!(c&n)||c&s)&&(l[i]=om(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=Rn;return Rn<<=1,!(Rn&4194240)&&(Rn=64),e}function rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function En(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Be(t),e[t]=n}function um(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Be(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Ma(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Be(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var Y=0;function vc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jc,Ra,Nc,wc,bc,Hl=!1,An=[],wt=null,bt=null,_t=null,mn=new Map,pn=new Map,ht=[],dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fi(e,t){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(t.pointerId)}}function Mr(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Pn(t),t!==null&&Ra(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function mm(e,t,n,s,l){switch(t){case"focusin":return wt=Mr(wt,e,t,n,s,l),!0;case"dragenter":return bt=Mr(bt,e,t,n,s,l),!0;case"mouseover":return _t=Mr(_t,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return mn.set(a,Mr(mn.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,pn.set(a,Mr(pn.get(a)||null,e,t,n,s,l)),!0}return!1}function _c(e){var t=$t(e.target);if(t!==null){var n=Zt(t);if(n!==null){if(t=n.tag,t===13){if(t=mc(n),t!==null){e.blockedOn=t,bc(e.priority,function(){Nc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);$l=s,n.target.dispatchEvent(s),$l=null}else return t=Pn(n),t!==null&&Ra(t),e.blockedOn=n,!1;t.shift()}return!0}function Oi(e,t,n){Jn(e)&&n.delete(t)}function pm(){Hl=!1,wt!==null&&Jn(wt)&&(wt=null),bt!==null&&Jn(bt)&&(bt=null),_t!==null&&Jn(_t)&&(_t=null),mn.forEach(Oi),pn.forEach(Oi)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Hl||(Hl=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,pm)))}function fn(e){function t(l){return Rr(l,e)}if(0<An.length){Rr(An[0],e);for(var n=1;n<An.length;n++){var s=An[n];s.blockedOn===e&&(s.blockedOn=null)}}for(wt!==null&&Rr(wt,e),bt!==null&&Rr(bt,e),_t!==null&&Rr(_t,e),mn.forEach(t),pn.forEach(t),n=0;n<ht.length;n++)s=ht[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ht.length&&(n=ht[0],n.blockedOn===null);)_c(n),n.blockedOn===null&&ht.shift()}var gr=mt.ReactCurrentBatchConfig,xs=!0;function fm(e,t,n,s){var l=Y,a=gr.transition;gr.transition=null;try{Y=1,Ia(e,t,n,s)}finally{Y=l,gr.transition=a}}function xm(e,t,n,s){var l=Y,a=gr.transition;gr.transition=null;try{Y=4,Ia(e,t,n,s)}finally{Y=l,gr.transition=a}}function Ia(e,t,n,s){if(xs){var l=Wl(e,t,n,s);if(l===null)ml(e,t,s,hs,n),Fi(e,s);else if(mm(l,e,t,n,s))s.stopPropagation();else if(Fi(e,s),t&4&&-1<dm.indexOf(e)){for(;l!==null;){var a=Pn(l);if(a!==null&&jc(a),a=Wl(e,t,n,s),a===null&&ml(e,t,s,hs,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else ml(e,t,s,null,n)}}var hs=null;function Wl(e,t,n,s){if(hs=null,e=Fa(s),e=$t(e),e!==null)if(t=Zt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hs=e,null}function kc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rm()){case Oa:return 1;case hc:return 4;case ps:case nm:return 16;case gc:return 536870912;default:return 16}default:return 16}}var yt=null,Aa=null,Zn=null;function Sc(){if(Zn)return Zn;var e,t=Aa,n=t.length,s,l="value"in yt?yt.value:yt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return Zn=l.slice(e,1<s?1-s:void 0)}function es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function Mi(){return!1}function De(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$n:Mi,this.isPropagationStopped=Mi,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=De(Tr),zn=te({},Tr,{view:0,detail:0}),hm=De(zn),nl,sl,Ir,Ms=te({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(nl=e.screenX-Ir.screenX,sl=e.screenY-Ir.screenY):sl=nl=0,Ir=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:sl}}),Ri=De(Ms),gm=te({},Ms,{dataTransfer:0}),ym=De(gm),vm=te({},zn,{relatedTarget:0}),ll=De(vm),jm=te({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Nm=De(jm),wm=te({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bm=De(wm),_m=te({},Tr,{data:0}),Ii=De(_m),km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Em(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cm[e])?!!t[e]:!1}function Ua(){return Em}var zm=te({},zn,{key:function(e){if(e.key){var t=km[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pm=De(zm),Dm=te({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=De(Dm),Tm=te({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),Lm=De(Tm),Fm=te({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Om=De(Fm),Mm=te({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rm=De(Mm),Im=[9,13,27,32],qa=ot&&"CompositionEvent"in window,Gr=null;ot&&"documentMode"in document&&(Gr=document.documentMode);var Am=ot&&"TextEvent"in window&&!Gr,Cc=ot&&(!qa||Gr&&8<Gr&&11>=Gr),$i=String.fromCharCode(32),Ui=!1;function Ec(e,t){switch(e){case"keyup":return Im.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function $m(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Ui=!0,$i);case"textInput":return e=t.data,e===$i&&Ui?null:e;default:return null}}function Um(e,t){if(sr)return e==="compositionend"||!qa&&Ec(e,t)?(e=Sc(),Zn=Aa=yt=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cc&&t.locale!=="ko"?null:t.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qm[e.type]:t==="textarea"}function Pc(e,t,n,s){ic(s),t=gs(t,"onChange"),0<t.length&&(n=new $a("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Jr=null,xn=null;function Bm(e){Uc(e,0)}function Rs(e){var t=ir(e);if(ec(t))return e}function Vm(e,t){if(e==="change")return t}var Dc=!1;if(ot){var al;if(ot){var il="oninput"in document;if(!il){var Bi=document.createElement("div");Bi.setAttribute("oninput","return;"),il=typeof Bi.oninput=="function"}al=il}else al=!1;Dc=al&&(!document.documentMode||9<document.documentMode)}function Vi(){Jr&&(Jr.detachEvent("onpropertychange",Tc),xn=Jr=null)}function Tc(e){if(e.propertyName==="value"&&Rs(xn)){var t=[];Pc(t,xn,e,Fa(e)),dc(Bm,t)}}function Hm(e,t,n){e==="focusin"?(Vi(),Jr=t,xn=n,Jr.attachEvent("onpropertychange",Tc)):e==="focusout"&&Vi()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(xn)}function Qm(e,t){if(e==="click")return Rs(t)}function Ym(e,t){if(e==="input"||e==="change")return Rs(t)}function Km(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var He=typeof Object.is=="function"?Object.is:Km;function hn(e,t){if(He(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!El.call(t,l)||!He(e[l],t[l]))return!1}return!0}function Hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wi(e,t){var n=Hi(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hi(n)}}function Lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fc(){for(var e=window,t=us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=us(e.document)}return t}function Ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xm(e){var t=Fc(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lc(n.ownerDocument.documentElement,n)){if(s!==null&&Ba(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=Wi(n,a);var i=Wi(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gm=ot&&"documentMode"in document&&11>=document.documentMode,lr=null,Ql=null,Zr=null,Yl=!1;function Qi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||lr==null||lr!==us(s)||(s=lr,"selectionStart"in s&&Ba(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zr&&hn(Zr,s)||(Zr=s,s=gs(Ql,"onSelect"),0<s.length&&(t=new $a("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=lr)))}function Un(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionend:Un("Transition","TransitionEnd")},ol={},Oc={};ot&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Is(e){if(ol[e])return ol[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oc)return ol[e]=t[n];return e}var Mc=Is("animationend"),Rc=Is("animationiteration"),Ic=Is("animationstart"),Ac=Is("transitionend"),$c=new Map,Yi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){$c.set(e,t),Jt(t,[e])}for(var cl=0;cl<Yi.length;cl++){var ul=Yi[cl],Jm=ul.toLowerCase(),Zm=ul[0].toUpperCase()+ul.slice(1);Ft(Jm,"on"+Zm)}Ft(Mc,"onAnimationEnd");Ft(Rc,"onAnimationIteration");Ft(Ic,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(Ac,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Ki(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Jd(s,t,void 0,e),e.currentTarget=null}function Uc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,p=c.currentTarget;if(c=c.listener,o!==a&&l.isPropagationStopped())break e;Ki(l,c,p),a=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,p=c.currentTarget,c=c.listener,o!==a&&l.isPropagationStopped())break e;Ki(l,c,p),a=o}}}if(ms)throw e=Bl,ms=!1,Bl=null,e}function X(e,t){var n=t[Zl];n===void 0&&(n=t[Zl]=new Set);var s=e+"__bubble";n.has(s)||(qc(t,e,2,!1),n.add(s))}function dl(e,t,n){var s=0;t&&(s|=4),qc(n,e,s,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function gn(e){if(!e[qn]){e[qn]=!0,Ko.forEach(function(n){n!=="selectionchange"&&(ep.has(n)||dl(n,!1,e),dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qn]||(t[qn]=!0,dl("selectionchange",!1,t))}}function qc(e,t,n,s){switch(kc(t)){case 1:var l=fm;break;case 4:l=xm;break;default:l=Ia}n=l.bind(null,t,n,e),l=void 0,!ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ml(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;c!==null;){if(i=$t(c),i===null)return;if(o=i.tag,o===5||o===6){s=a=i;continue e}c=c.parentNode}}s=s.return}dc(function(){var p=a,y=Fa(n),v=[];e:{var h=$c.get(e);if(h!==void 0){var w=$a,d=e;switch(e){case"keypress":if(es(n)===0)break e;case"keydown":case"keyup":w=Pm;break;case"focusin":d="focus",w=ll;break;case"focusout":d="blur",w=ll;break;case"beforeblur":case"afterblur":w=ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Lm;break;case Mc:case Rc:case Ic:w=Nm;break;case Ac:w=Om;break;case"scroll":w=hm;break;case"wheel":w=Rm;break;case"copy":case"cut":case"paste":w=bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ai}var j=(t&4)!==0,g=!j&&e==="scroll",m=j?h!==null?h+"Capture":null:h;j=[];for(var u=p,f;u!==null;){f=u;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,m!==null&&(b=dn(u,m),b!=null&&j.push(yn(u,b,f)))),g)break;u=u.return}0<j.length&&(h=new w(h,d,null,n,y),v.push({event:h,listeners:j}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==$l&&(d=n.relatedTarget||n.fromElement)&&($t(d)||d[ct]))break e;if((w||h)&&(h=y.window===y?y:(h=y.ownerDocument)?h.defaultView||h.parentWindow:window,w?(d=n.relatedTarget||n.toElement,w=p,d=d?$t(d):null,d!==null&&(g=Zt(d),d!==g||d.tag!==5&&d.tag!==6)&&(d=null)):(w=null,d=p),w!==d)){if(j=Ri,b="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(j=Ai,b="onPointerLeave",m="onPointerEnter",u="pointer"),g=w==null?h:ir(w),f=d==null?h:ir(d),h=new j(b,u+"leave",w,n,y),h.target=g,h.relatedTarget=f,b=null,$t(y)===p&&(j=new j(m,u+"enter",d,n,y),j.target=f,j.relatedTarget=g,b=j),g=b,w&&d)t:{for(j=w,m=d,u=0,f=j;f;f=er(f))u++;for(f=0,b=m;b;b=er(b))f++;for(;0<u-f;)j=er(j),u--;for(;0<f-u;)m=er(m),f--;for(;u--;){if(j===m||m!==null&&j===m.alternate)break t;j=er(j),m=er(m)}j=null}else j=null;w!==null&&Xi(v,h,w,j,!1),d!==null&&g!==null&&Xi(v,g,d,j,!0)}}e:{if(h=p?ir(p):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var x=Vm;else if(qi(h))if(Dc)x=Ym;else{x=Wm;var k=Hm}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Qm);if(x&&(x=x(e,p))){Pc(v,x,n,y);break e}k&&k(e,h,p),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Ol(h,"number",h.value)}switch(k=p?ir(p):window,e){case"focusin":(qi(k)||k.contentEditable==="true")&&(lr=k,Ql=p,Zr=null);break;case"focusout":Zr=Ql=lr=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Qi(v,n,y);break;case"selectionchange":if(Gm)break;case"keydown":case"keyup":Qi(v,n,y)}var N;if(qa)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else sr?Ec(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Cc&&n.locale!=="ko"&&(sr||z!=="onCompositionStart"?z==="onCompositionEnd"&&sr&&(N=Sc()):(yt=y,Aa="value"in yt?yt.value:yt.textContent,sr=!0)),k=gs(p,z),0<k.length&&(z=new Ii(z,e,null,n,y),v.push({event:z,listeners:k}),N?z.data=N:(N=zc(n),N!==null&&(z.data=N)))),(N=Am?$m(e,n):Um(e,n))&&(p=gs(p,"onBeforeInput"),0<p.length&&(y=new Ii("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:p}),y.data=N))}Uc(v,t)})}function yn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gs(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=dn(e,n),a!=null&&s.unshift(yn(e,a,l)),a=dn(e,t),a!=null&&s.push(yn(e,a,l))),e=e.return}return s}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xi(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var c=n,o=c.alternate,p=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&p!==null&&(c=p,l?(o=dn(n,a),o!=null&&i.unshift(yn(n,o,c))):l||(o=dn(n,a),o!=null&&i.push(yn(n,o,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var tp=/\r\n?/g,rp=/\u0000|\uFFFD/g;function Gi(e){return(typeof e=="string"?e:""+e).replace(tp,`
`).replace(rp,"")}function Bn(e,t,n){if(t=Gi(t),Gi(e)!==t&&n)throw Error(P(425))}function ys(){}var Kl=null,Xl=null;function Gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,np=typeof clearTimeout=="function"?clearTimeout:void 0,Ji=typeof Promise=="function"?Promise:void 0,sp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ji<"u"?function(e){return Ji.resolve(null).then(e).catch(lp)}:Jl;function lp(e){setTimeout(function(){throw e})}function pl(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),fn(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);fn(t)}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Lr,vn="__reactProps$"+Lr,ct="__reactContainer$"+Lr,Zl="__reactEvents$"+Lr,ap="__reactListeners$"+Lr,ip="__reactHandles$"+Lr;function $t(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ct]||n[Ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zi(e);e!==null;){if(n=e[Ge])return n;e=Zi(e)}return t}e=n,n=e.parentNode}return null}function Pn(e){return e=e[Ge]||e[ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function As(e){return e[vn]||null}var ea=[],or=-1;function Ot(e){return{current:e}}function G(e){0>or||(e.current=ea[or],ea[or]=null,or--)}function K(e,t){or++,ea[or]=e.current,e.current=t}var Tt={},xe=Ot(Tt),we=Ot(!1),Qt=Tt;function _r(e,t){var n=e.type.contextTypes;if(!n)return Tt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function be(e){return e=e.childContextTypes,e!=null}function vs(){G(we),G(xe)}function eo(e,t,n){if(xe.current!==Tt)throw Error(P(168));K(xe,t),K(we,n)}function Bc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(P(108,Hd(e)||"Unknown",l));return te({},n,s)}function js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tt,Qt=xe.current,K(xe,e),K(we,we.current),!0}function to(e,t,n){var s=e.stateNode;if(!s)throw Error(P(169));n?(e=Bc(e,t,Qt),s.__reactInternalMemoizedMergedChildContext=e,G(we),G(xe),K(xe,e)):G(we),K(we,n)}var rt=null,$s=!1,fl=!1;function Vc(e){rt===null?rt=[e]:rt.push(e)}function op(e){$s=!0,Vc(e)}function Mt(){if(!fl&&rt!==null){fl=!0;var e=0,t=Y;try{var n=rt;for(Y=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}rt=null,$s=!1}catch(l){throw rt!==null&&(rt=rt.slice(e+1)),xc(Oa,Mt),l}finally{Y=t,fl=!1}}return null}var cr=[],ur=0,Ns=null,ws=0,Te=[],Le=0,Yt=null,st=1,lt="";function It(e,t){cr[ur++]=ws,cr[ur++]=Ns,Ns=e,ws=t}function Hc(e,t,n){Te[Le++]=st,Te[Le++]=lt,Te[Le++]=Yt,Yt=e;var s=st;e=lt;var l=32-Be(s)-1;s&=~(1<<l),n+=1;var a=32-Be(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,st=1<<32-Be(t)+l|n<<l|s,lt=a+e}else st=1<<a|n<<l|s,lt=e}function Va(e){e.return!==null&&(It(e,1),Hc(e,1,0))}function Ha(e){for(;e===Ns;)Ns=cr[--ur],cr[ur]=null,ws=cr[--ur],cr[ur]=null;for(;e===Yt;)Yt=Te[--Le],Te[Le]=null,lt=Te[--Le],Te[Le]=null,st=Te[--Le],Te[Le]=null}var Ee=null,Ce=null,J=!1,Ue=null;function Wc(e,t){var n=Fe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ro(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ee=e,Ce=kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ee=e,Ce=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yt!==null?{id:st,overflow:lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ee=e,Ce=null,!0):!1;default:return!1}}function ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ra(e){if(J){var t=Ce;if(t){var n=t;if(!ro(e,t)){if(ta(e))throw Error(P(418));t=kt(n.nextSibling);var s=Ee;t&&ro(e,t)?Wc(s,n):(e.flags=e.flags&-4097|2,J=!1,Ee=e)}}else{if(ta(e))throw Error(P(418));e.flags=e.flags&-4097|2,J=!1,Ee=e}}}function no(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ee=e}function Vn(e){if(e!==Ee)return!1;if(!J)return no(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gl(e.type,e.memoizedProps)),t&&(t=Ce)){if(ta(e))throw Qc(),Error(P(418));for(;t;)Wc(e,t),t=kt(t.nextSibling)}if(no(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ce=kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ce=null}}else Ce=Ee?kt(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=Ce;e;)e=kt(e.nextSibling)}function kr(){Ce=Ee=null,J=!1}function Wa(e){Ue===null?Ue=[e]:Ue.push(e)}var cp=mt.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var s=n.stateNode}if(!s)throw Error(P(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=l.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Hn(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function so(e){var t=e._init;return t(e._payload)}function Yc(e){function t(m,u){if(e){var f=m.deletions;f===null?(m.deletions=[u],m.flags|=16):f.push(u)}}function n(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function s(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function l(m,u){return m=zt(m,u),m.index=0,m.sibling=null,m}function a(m,u,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<u?(m.flags|=2,u):f):(m.flags|=2,u)):(m.flags|=1048576,u)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function c(m,u,f,b){return u===null||u.tag!==6?(u=Nl(f,m.mode,b),u.return=m,u):(u=l(u,f),u.return=m,u)}function o(m,u,f,b){var x=f.type;return x===nr?y(m,u,f.props.children,b,f.key):u!==null&&(u.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ft&&so(x)===u.type)?(b=l(u,f.props),b.ref=Ar(m,u,f),b.return=m,b):(b=is(f.type,f.key,f.props,null,m.mode,b),b.ref=Ar(m,u,f),b.return=m,b)}function p(m,u,f,b){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=wl(f,m.mode,b),u.return=m,u):(u=l(u,f.children||[]),u.return=m,u)}function y(m,u,f,b,x){return u===null||u.tag!==7?(u=Vt(f,m.mode,b,x),u.return=m,u):(u=l(u,f),u.return=m,u)}function v(m,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Nl(""+u,m.mode,f),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Fn:return f=is(u.type,u.key,u.props,null,m.mode,f),f.ref=Ar(m,null,u),f.return=m,f;case rr:return u=wl(u,m.mode,f),u.return=m,u;case ft:var b=u._init;return v(m,b(u._payload),f)}if(Br(u)||Fr(u))return u=Vt(u,m.mode,f,null),u.return=m,u;Hn(m,u)}return null}function h(m,u,f,b){var x=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return x!==null?null:c(m,u,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Fn:return f.key===x?o(m,u,f,b):null;case rr:return f.key===x?p(m,u,f,b):null;case ft:return x=f._init,h(m,u,x(f._payload),b)}if(Br(f)||Fr(f))return x!==null?null:y(m,u,f,b,null);Hn(m,f)}return null}function w(m,u,f,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(f)||null,c(u,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fn:return m=m.get(b.key===null?f:b.key)||null,o(u,m,b,x);case rr:return m=m.get(b.key===null?f:b.key)||null,p(u,m,b,x);case ft:var k=b._init;return w(m,u,f,k(b._payload),x)}if(Br(b)||Fr(b))return m=m.get(f)||null,y(u,m,b,x,null);Hn(u,b)}return null}function d(m,u,f,b){for(var x=null,k=null,N=u,z=u=0,q=null;N!==null&&z<f.length;z++){N.index>z?(q=N,N=null):q=N.sibling;var D=h(m,N,f[z],b);if(D===null){N===null&&(N=q);break}e&&N&&D.alternate===null&&t(m,N),u=a(D,u,z),k===null?x=D:k.sibling=D,k=D,N=q}if(z===f.length)return n(m,N),J&&It(m,z),x;if(N===null){for(;z<f.length;z++)N=v(m,f[z],b),N!==null&&(u=a(N,u,z),k===null?x=N:k.sibling=N,k=N);return J&&It(m,z),x}for(N=s(m,N);z<f.length;z++)q=w(N,m,z,f[z],b),q!==null&&(e&&q.alternate!==null&&N.delete(q.key===null?z:q.key),u=a(q,u,z),k===null?x=q:k.sibling=q,k=q);return e&&N.forEach(function(V){return t(m,V)}),J&&It(m,z),x}function j(m,u,f,b){var x=Fr(f);if(typeof x!="function")throw Error(P(150));if(f=x.call(f),f==null)throw Error(P(151));for(var k=x=null,N=u,z=u=0,q=null,D=f.next();N!==null&&!D.done;z++,D=f.next()){N.index>z?(q=N,N=null):q=N.sibling;var V=h(m,N,D.value,b);if(V===null){N===null&&(N=q);break}e&&N&&V.alternate===null&&t(m,N),u=a(V,u,z),k===null?x=V:k.sibling=V,k=V,N=q}if(D.done)return n(m,N),J&&It(m,z),x;if(N===null){for(;!D.done;z++,D=f.next())D=v(m,D.value,b),D!==null&&(u=a(D,u,z),k===null?x=D:k.sibling=D,k=D);return J&&It(m,z),x}for(N=s(m,N);!D.done;z++,D=f.next())D=w(N,m,z,D.value,b),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?z:D.key),u=a(D,u,z),k===null?x=D:k.sibling=D,k=D);return e&&N.forEach(function(S){return t(m,S)}),J&&It(m,z),x}function g(m,u,f,b){if(typeof f=="object"&&f!==null&&f.type===nr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Fn:e:{for(var x=f.key,k=u;k!==null;){if(k.key===x){if(x=f.type,x===nr){if(k.tag===7){n(m,k.sibling),u=l(k,f.props.children),u.return=m,m=u;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ft&&so(x)===k.type){n(m,k.sibling),u=l(k,f.props),u.ref=Ar(m,k,f),u.return=m,m=u;break e}n(m,k);break}else t(m,k);k=k.sibling}f.type===nr?(u=Vt(f.props.children,m.mode,b,f.key),u.return=m,m=u):(b=is(f.type,f.key,f.props,null,m.mode,b),b.ref=Ar(m,u,f),b.return=m,m=b)}return i(m);case rr:e:{for(k=f.key;u!==null;){if(u.key===k)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(m,u.sibling),u=l(u,f.children||[]),u.return=m,m=u;break e}else{n(m,u);break}else t(m,u);u=u.sibling}u=wl(f,m.mode,b),u.return=m,m=u}return i(m);case ft:return k=f._init,g(m,u,k(f._payload),b)}if(Br(f))return d(m,u,f,b);if(Fr(f))return j(m,u,f,b);Hn(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(m,u.sibling),u=l(u,f),u.return=m,m=u):(n(m,u),u=Nl(f,m.mode,b),u.return=m,m=u),i(m)):n(m,u)}return g}var Sr=Yc(!0),Kc=Yc(!1),bs=Ot(null),_s=null,dr=null,Qa=null;function Ya(){Qa=dr=_s=null}function Ka(e){var t=bs.current;G(bs),e._currentValue=t}function na(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function yr(e,t){_s=e,Qa=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Me(e){var t=e._currentValue;if(Qa!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(_s===null)throw Error(P(308));dr=e,_s.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Ut=null;function Xa(e){Ut===null?Ut=[e]:Ut.push(e)}function Xc(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Xa(t)):(n.next=l.next,l.next=n),t.interleaved=n,ut(e,s)}function ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xt=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function at(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function St(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,H&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,ut(e,n)}return l=s.interleaved,l===null?(t.next=t,Xa(s)):(t.next=l.next,l.next=t),s.interleaved=t,ut(e,n)}function ts(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ma(e,n)}}function lo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ks(e,t,n,s){var l=e.updateQueue;xt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,p=o.next;o.next=null,i===null?a=p:i.next=p,i=o;var y=e.alternate;y!==null&&(y=y.updateQueue,c=y.lastBaseUpdate,c!==i&&(c===null?y.firstBaseUpdate=p:c.next=p,y.lastBaseUpdate=o))}if(a!==null){var v=l.baseState;i=0,y=p=o=null,c=a;do{var h=c.lane,w=c.eventTime;if((s&h)===h){y!==null&&(y=y.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var d=e,j=c;switch(h=t,w=n,j.tag){case 1:if(d=j.payload,typeof d=="function"){v=d.call(w,v,h);break e}v=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=j.payload,h=typeof d=="function"?d.call(w,v,h):d,h==null)break e;v=te({},v,h);break e;case 2:xt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[c]:h.push(c))}else w={eventTime:w,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},y===null?(p=y=w,o=v):y=y.next=w,i|=h;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;h=c,c=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(1);if(y===null&&(o=v),l.baseState=o,l.firstBaseUpdate=p,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Xt|=i,e.lanes=i,e.memoizedState=v}}function ao(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(P(191,l));l.call(s)}}}var Dn={},Ze=Ot(Dn),jn=Ot(Dn),Nn=Ot(Dn);function qt(e){if(e===Dn)throw Error(P(174));return e}function Ja(e,t){switch(K(Nn,t),K(jn,e),K(Ze,Dn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rl(t,e)}G(Ze),K(Ze,t)}function Cr(){G(Ze),G(jn),G(Nn)}function Jc(e){qt(Nn.current);var t=qt(Ze.current),n=Rl(t,e.type);t!==n&&(K(jn,e),K(Ze,n))}function Za(e){jn.current===e&&(G(Ze),G(jn))}var Z=Ot(0);function Ss(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function ei(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var rs=mt.ReactCurrentDispatcher,hl=mt.ReactCurrentBatchConfig,Kt=0,ee=null,le=null,ie=null,Cs=!1,en=!1,wn=0,up=0;function me(){throw Error(P(321))}function ti(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!He(e[n],t[n]))return!1;return!0}function ri(e,t,n,s,l,a){if(Kt=a,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=e===null||e.memoizedState===null?fp:xp,e=n(s,l),en){a=0;do{if(en=!1,wn=0,25<=a)throw Error(P(301));a+=1,ie=le=null,t.updateQueue=null,rs.current=hp,e=n(s,l)}while(en)}if(rs.current=Es,t=le!==null&&le.next!==null,Kt=0,ie=le=ee=null,Cs=!1,t)throw Error(P(300));return e}function ni(){var e=wn!==0;return wn=0,e}function Xe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?ee.memoizedState=ie=e:ie=ie.next=e,ie}function Re(){if(le===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ie===null?ee.memoizedState:ie.next;if(t!==null)ie=t,le=e;else{if(e===null)throw Error(P(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ie===null?ee.memoizedState=ie=e:ie=ie.next=e}return ie}function bn(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=Re(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var s=le,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var c=i=null,o=null,p=a;do{var y=p.lane;if((Kt&y)===y)o!==null&&(o=o.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var v={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};o===null?(c=o=v,i=s):o=o.next=v,ee.lanes|=y,Xt|=y}p=p.next}while(p!==null&&p!==a);o===null?i=s:o.next=c,He(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=o,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,ee.lanes|=a,Xt|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yl(e){var t=Re(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);He(a,t.memoizedState)||(Ne=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Zc(){}function eu(e,t){var n=ee,s=Re(),l=t(),a=!He(s.memoizedState,l);if(a&&(s.memoizedState=l,Ne=!0),s=s.queue,si(nu.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,_n(9,ru.bind(null,n,s,l,t),void 0,null),oe===null)throw Error(P(349));Kt&30||tu(n,t,l)}return l}function tu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ru(e,t,n,s){t.value=n,t.getSnapshot=s,su(t)&&lu(e)}function nu(e,t,n){return n(function(){su(t)&&lu(e)})}function su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!He(e,n)}catch{return!0}}function lu(e){var t=ut(e,1);t!==null&&Ve(t,e,1,-1)}function io(e){var t=Xe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},t.queue=e,e=e.dispatch=pp.bind(null,ee,e),[t.memoizedState,e]}function _n(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function au(){return Re().memoizedState}function ns(e,t,n,s){var l=Xe();ee.flags|=e,l.memoizedState=_n(1|t,n,void 0,s===void 0?null:s)}function Us(e,t,n,s){var l=Re();s=s===void 0?null:s;var a=void 0;if(le!==null){var i=le.memoizedState;if(a=i.destroy,s!==null&&ti(s,i.deps)){l.memoizedState=_n(t,n,a,s);return}}ee.flags|=e,l.memoizedState=_n(1|t,n,a,s)}function oo(e,t){return ns(8390656,8,e,t)}function si(e,t){return Us(2048,8,e,t)}function iu(e,t){return Us(4,2,e,t)}function ou(e,t){return Us(4,4,e,t)}function cu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uu(e,t,n){return n=n!=null?n.concat([e]):null,Us(4,4,cu.bind(null,t,e),n)}function li(){}function du(e,t){var n=Re();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ti(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function mu(e,t){var n=Re();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ti(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function pu(e,t,n){return Kt&21?(He(n,t)||(n=yc(),ee.lanes|=n,Xt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n)}function dp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var s=hl.transition;hl.transition={};try{e(!1),t()}finally{Y=n,hl.transition=s}}function fu(){return Re().memoizedState}function mp(e,t,n){var s=Et(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},xu(e))hu(t,n);else if(n=Xc(e,t,n,s),n!==null){var l=ge();Ve(n,e,s,l),gu(n,t,s)}}function pp(e,t,n){var s=Et(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(xu(e))hu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,n);if(l.hasEagerState=!0,l.eagerState=c,He(c,i)){var o=t.interleaved;o===null?(l.next=l,Xa(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=Xc(e,t,l,s),n!==null&&(l=ge(),Ve(n,e,s,l),gu(n,t,s))}}function xu(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function hu(e,t){en=Cs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ma(e,n)}}var Es={readContext:Me,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},fp={readContext:Me,useCallback:function(e,t){return Xe().memoizedState=[e,t===void 0?null:t],e},useContext:Me,useEffect:oo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ns(4194308,4,cu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=Xe();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Xe();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=mp.bind(null,ee,e),[s.memoizedState,e]},useRef:function(e){var t=Xe();return e={current:e},t.memoizedState=e},useState:io,useDebugValue:li,useDeferredValue:function(e){return Xe().memoizedState=e},useTransition:function(){var e=io(!1),t=e[0];return e=dp.bind(null,e[1]),Xe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ee,l=Xe();if(J){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),oe===null)throw Error(P(349));Kt&30||tu(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,oo(nu.bind(null,s,a,e),[e]),s.flags|=2048,_n(9,ru.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Xe(),t=oe.identifierPrefix;if(J){var n=lt,s=st;n=(s&~(1<<32-Be(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=wn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=up++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xp={readContext:Me,useCallback:du,useContext:Me,useEffect:si,useImperativeHandle:uu,useInsertionEffect:iu,useLayoutEffect:ou,useMemo:mu,useReducer:gl,useRef:au,useState:function(){return gl(bn)},useDebugValue:li,useDeferredValue:function(e){var t=Re();return pu(t,le.memoizedState,e)},useTransition:function(){var e=gl(bn)[0],t=Re().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:eu,useId:fu,unstable_isNewReconciler:!1},hp={readContext:Me,useCallback:du,useContext:Me,useEffect:si,useImperativeHandle:uu,useInsertionEffect:iu,useLayoutEffect:ou,useMemo:mu,useReducer:yl,useRef:au,useState:function(){return yl(bn)},useDebugValue:li,useDeferredValue:function(e){var t=Re();return le===null?t.memoizedState=e:pu(t,le.memoizedState,e)},useTransition:function(){var e=yl(bn)[0],t=Re().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:eu,useId:fu,unstable_isNewReconciler:!1};function Ae(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sa(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return(e=e._reactInternals)?Zt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ge(),l=Et(e),a=at(s,l);a.payload=t,n!=null&&(a.callback=n),t=St(e,a,l),t!==null&&(Ve(t,e,l,s),ts(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ge(),l=Et(e),a=at(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=St(e,a,l),t!==null&&(Ve(t,e,l,s),ts(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ge(),s=Et(e),l=at(n,s);l.tag=2,t!=null&&(l.callback=t),t=St(e,l,s),t!==null&&(Ve(t,e,s,n),ts(t,e,s))}};function co(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!hn(n,s)||!hn(l,a):!0}function yu(e,t,n){var s=!1,l=Tt,a=t.contextType;return typeof a=="object"&&a!==null?a=Me(a):(l=be(t)?Qt:xe.current,s=t.contextTypes,a=(s=s!=null)?_r(e,l):Tt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function uo(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function la(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ga(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Me(a):(a=be(t)?Qt:xe.current,l.context=_r(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sa(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&qs.enqueueReplaceState(l,l.state,null),ks(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,t){try{var n="",s=t;do n+=Vd(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gp=typeof WeakMap=="function"?WeakMap:Map;function vu(e,t,n){n=at(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ps||(Ps=!0,ha=s),aa(e,t)},n}function ju(e,t,n){n=at(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){aa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){aa(e,t),typeof s!="function"&&(Ct===null?Ct=new Set([this]):Ct.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function mo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new gp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Dp.bind(null,e,t,n),t.then(e,e))}function po(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fo(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=at(-1,1),t.tag=2,St(n,t,1))),n.lanes|=1),e)}var yp=mt.ReactCurrentOwner,Ne=!1;function he(e,t,n,s){t.child=e===null?Kc(t,null,n,s):Sr(t,e.child,n,s)}function xo(e,t,n,s,l){n=n.render;var a=t.ref;return yr(t,l),s=ri(e,t,n,s,a,l),n=ni(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(J&&n&&Va(t),t.flags|=1,he(e,t,s,l),t.child)}function ho(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!pi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Nu(e,t,a,s,l)):(e=is(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:hn,n(i,s)&&e.ref===t.ref)return dt(e,t,l)}return t.flags|=1,e=zt(a,s),e.ref=t.ref,e.return=t,t.child=e}function Nu(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(hn(a,s)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,dt(e,t,l)}return ia(e,t,n,s,l)}function wu(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(pr,ke),ke|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(pr,ke),ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,K(pr,ke),ke|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,K(pr,ke),ke|=s;return he(e,t,l,n),t.child}function bu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,s,l){var a=be(n)?Qt:xe.current;return a=_r(t,a),yr(t,l),n=ri(e,t,n,s,a,l),s=ni(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(J&&s&&Va(t),t.flags|=1,he(e,t,n,l),t.child)}function go(e,t,n,s,l){if(be(n)){var a=!0;js(t)}else a=!1;if(yr(t,l),t.stateNode===null)ss(e,t),yu(t,n,s),la(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,p=n.contextType;typeof p=="object"&&p!==null?p=Me(p):(p=be(n)?Qt:xe.current,p=_r(t,p));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function";v||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==p)&&uo(t,i,s,p),xt=!1;var h=t.memoizedState;i.state=h,ks(t,s,i,l),o=t.memoizedState,c!==s||h!==o||we.current||xt?(typeof y=="function"&&(sa(t,n,y,s),o=t.memoizedState),(c=xt||co(t,n,c,s,h,o,p))?(v||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=p,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Gc(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:Ae(t.type,c),i.props=p,v=t.pendingProps,h=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=Me(o):(o=be(n)?Qt:xe.current,o=_r(t,o));var w=n.getDerivedStateFromProps;(y=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==v||h!==o)&&uo(t,i,s,o),xt=!1,h=t.memoizedState,i.state=h,ks(t,s,i,l);var d=t.memoizedState;c!==v||h!==d||we.current||xt?(typeof w=="function"&&(sa(t,n,w,s),d=t.memoizedState),(p=xt||co(t,n,p,s,h,d,o)||!1)?(y||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,d,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,d,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=o,s=p):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return oa(e,t,n,s,a,l)}function oa(e,t,n,s,l,a){bu(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&to(t,n,!1),dt(e,t,a);s=t.stateNode,yp.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Sr(t,e.child,null,a),t.child=Sr(t,null,c,a)):he(e,t,c,a),t.memoizedState=s.state,l&&to(t,n,!0),t.child}function _u(e){var t=e.stateNode;t.pendingContext?eo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eo(e,t.context,!1),Ja(e,t.containerInfo)}function yo(e,t,n,s,l){return kr(),Wa(l),t.flags|=256,he(e,t,n,s),t.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function ku(e,t,n){var s=t.pendingProps,l=Z.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),K(Z,l&1),e===null)return ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Hs(i,s,0,null),e=Vt(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ua(n),t.memoizedState=ca,e):ai(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return vp(e,t,i,s,c,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=zt(l,o),s.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=zt(c,a):(a=Vt(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?ua(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ca,s}return a=e.child,e=a.sibling,s=zt(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ai(e,t){return t=Hs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wn(e,t,n,s){return s!==null&&Wa(s),Sr(t,e.child,null,n),e=ai(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vp(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=vl(Error(P(422))),Wn(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Hs({mode:"visible",children:s.children},l,0,null),a=Vt(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Sr(t,e.child,null,i),t.child.memoizedState=ua(i),t.memoizedState=ca,a);if(!(t.mode&1))return Wn(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(P(419)),s=vl(a,s,void 0),Wn(e,t,i,s)}if(c=(i&e.childLanes)!==0,Ne||c){if(s=oe,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,ut(e,l),Ve(s,e,l,-1))}return mi(),s=vl(Error(P(421))),Wn(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Tp.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Ce=kt(l.nextSibling),Ee=t,J=!0,Ue=null,e!==null&&(Te[Le++]=st,Te[Le++]=lt,Te[Le++]=Yt,st=e.id,lt=e.overflow,Yt=t),t=ai(t,s.children),t.flags|=4096,t)}function vo(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),na(e.return,t,n)}function jl(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function Su(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(he(e,t,s.children,n),s=Z.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vo(e,n,t);else if(e.tag===19)vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(K(Z,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ss(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),jl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ss(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}jl(t,!0,n,null,a);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ss(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jp(e,t,n){switch(t.tag){case 3:_u(t),kr();break;case 5:Jc(t);break;case 1:be(t.type)&&js(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;K(bs,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(K(Z,Z.current&1),t.flags|=128,null):n&t.child.childLanes?ku(e,t,n):(K(Z,Z.current&1),e=dt(e,t,n),e!==null?e.sibling:null);K(Z,Z.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Su(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(Z,Z.current),s)break;return null;case 22:case 23:return t.lanes=0,wu(e,t,n)}return dt(e,t,n)}var Cu,da,Eu,zu;Cu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};da=function(){};Eu=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,qt(Ze.current);var a=null;switch(n){case"input":l=Ll(e,l),s=Ll(e,s),a=[];break;case"select":l=te({},l,{value:void 0}),s=te({},s,{value:void 0}),a=[];break;case"textarea":l=Ml(e,l),s=Ml(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ys)}Il(n,s);var i;n=null;for(p in l)if(!s.hasOwnProperty(p)&&l.hasOwnProperty(p)&&l[p]!=null)if(p==="style"){var c=l[p];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(cn.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in s){var o=s[p];if(c=l!=null?l[p]:void 0,s.hasOwnProperty(p)&&o!==c&&(o!=null||c!=null))if(p==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(a||(a=[]),a.push(p,n)),n=o;else p==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(p,o)):p==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(p,""+o):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(cn.hasOwnProperty(p)?(o!=null&&p==="onScroll"&&X("scroll",e),a||c===o||(a=[])):(a=a||[]).push(p,o))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};zu=function(e,t,n,s){n!==s&&(t.flags|=4)};function $r(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Np(e,t,n){var s=t.pendingProps;switch(Ha(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return be(t.type)&&vs(),pe(t),null;case 3:return s=t.stateNode,Cr(),G(we),G(xe),ei(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ue!==null&&(va(Ue),Ue=null))),da(e,t),pe(t),null;case 5:Za(t);var l=qt(Nn.current);if(n=t.type,e!==null&&t.stateNode!=null)Eu(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(P(166));return pe(t),null}if(e=qt(Ze.current),Vn(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Ge]=t,s[vn]=a,e=(t.mode&1)!==0,n){case"dialog":X("cancel",s),X("close",s);break;case"iframe":case"object":case"embed":X("load",s);break;case"video":case"audio":for(l=0;l<Hr.length;l++)X(Hr[l],s);break;case"source":X("error",s);break;case"img":case"image":case"link":X("error",s),X("load",s);break;case"details":X("toggle",s);break;case"input":Ci(s,a),X("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},X("invalid",s);break;case"textarea":zi(s,a),X("invalid",s)}Il(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Bn(s.textContent,c,e),l=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Bn(s.textContent,c,e),l=["children",""+c]):cn.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&X("scroll",s)}switch(n){case"input":On(s),Ei(s,a,!0);break;case"textarea":On(s),Pi(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=ys)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Ge]=t,e[vn]=s,Cu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Al(n,s),n){case"dialog":X("cancel",e),X("close",e),l=s;break;case"iframe":case"object":case"embed":X("load",e),l=s;break;case"video":case"audio":for(l=0;l<Hr.length;l++)X(Hr[l],e);l=s;break;case"source":X("error",e),l=s;break;case"img":case"image":case"link":X("error",e),X("load",e),l=s;break;case"details":X("toggle",e),l=s;break;case"input":Ci(e,s),l=Ll(e,s),X("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=te({},s,{value:void 0}),X("invalid",e);break;case"textarea":zi(e,s),l=Ml(e,s),X("invalid",e);break;default:l=s}Il(n,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?ac(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&sc(e,o)):a==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&un(e,o):typeof o=="number"&&un(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cn.hasOwnProperty(a)?o!=null&&a==="onScroll"&&X("scroll",e):o!=null&&Pa(e,a,o,i))}switch(n){case"input":On(e),Ei(e,s,!1);break;case"textarea":On(e),Pi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Dt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?fr(e,!!s.multiple,a,!1):s.defaultValue!=null&&fr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ys)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)zu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(P(166));if(n=qt(Nn.current),qt(Ze.current),Vn(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ge]=t,(a=s.nodeValue!==n)&&(e=Ee,e!==null))switch(e.tag){case 3:Bn(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bn(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ge]=t,t.stateNode=s}return pe(t),null;case 13:if(G(Z),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Ce!==null&&t.mode&1&&!(t.flags&128))Qc(),kr(),t.flags|=98560,a=!1;else if(a=Vn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[Ge]=t}else kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),a=!1}else Ue!==null&&(va(Ue),Ue=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ae===0&&(ae=3):mi())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Cr(),da(e,t),e===null&&gn(t.stateNode.containerInfo),pe(t),null;case 10:return Ka(t.type._context),pe(t),null;case 17:return be(t.type)&&vs(),pe(t),null;case 19:if(G(Z),a=t.memoizedState,a===null)return pe(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)$r(a,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ss(e),i!==null){for(t.flags|=128,$r(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(Z,Z.current&1|2),t.child}e=e.sibling}a.tail!==null&&ne()>zr&&(t.flags|=128,s=!0,$r(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ss(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$r(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!J)return pe(t),null}else 2*ne()-a.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,s=!0,$r(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ne(),t.sibling=null,n=Z.current,K(Z,s?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return di(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ke&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function wp(e,t){switch(Ha(t),t.tag){case 1:return be(t.type)&&vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),G(we),G(xe),ei(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Za(t),null;case 13:if(G(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Z),null;case 4:return Cr(),null;case 10:return Ka(t.type._context),null;case 22:case 23:return di(),null;case 24:return null;default:return null}}var Qn=!1,fe=!1,bp=typeof WeakSet=="function"?WeakSet:Set,O=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){re(e,t,s)}else n.current=null}function ma(e,t,n){try{n()}catch(s){re(e,t,s)}}var jo=!1;function _p(e,t){if(Kl=xs,e=Fc(),Ba(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,p=0,y=0,v=e,h=null;t:for(;;){for(var w;v!==n||l!==0&&v.nodeType!==3||(c=i+l),v!==a||s!==0&&v.nodeType!==3||(o=i+s),v.nodeType===3&&(i+=v.nodeValue.length),(w=v.firstChild)!==null;)h=v,v=w;for(;;){if(v===e)break t;if(h===n&&++p===l&&(c=i),h===a&&++y===s&&(o=i),(w=v.nextSibling)!==null)break;v=h,h=v.parentNode}v=w}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xl={focusedElem:e,selectionRange:n},xs=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var d=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var j=d.memoizedProps,g=d.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ae(t.type,j),g);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){re(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return d=jo,jo=!1,d}function tn(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&ma(t,n,a)}l=l.next}while(l!==s)}}function Bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pu(e){var t=e.alternate;t!==null&&(e.alternate=null,Pu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ge],delete t[vn],delete t[Zl],delete t[ap],delete t[ip])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Du(e){return e.tag===5||e.tag===3||e.tag===4}function No(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Du(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ys));else if(s!==4&&(e=e.child,e!==null))for(fa(e,t,n),e=e.sibling;e!==null;)fa(e,t,n),e=e.sibling}function xa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xa(e,t,n),e=e.sibling;e!==null;)xa(e,t,n),e=e.sibling}var ce=null,$e=!1;function pt(e,t,n){for(n=n.child;n!==null;)Tu(e,t,n),n=n.sibling}function Tu(e,t,n){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Os,n)}catch{}switch(n.tag){case 5:fe||mr(n,t);case 6:var s=ce,l=$e;ce=null,pt(e,t,n),ce=s,$e=l,ce!==null&&($e?(e=ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&($e?(e=ce,n=n.stateNode,e.nodeType===8?pl(e.parentNode,n):e.nodeType===1&&pl(e,n),fn(e)):pl(ce,n.stateNode));break;case 4:s=ce,l=$e,ce=n.stateNode.containerInfo,$e=!0,pt(e,t,n),ce=s,$e=l;break;case 0:case 11:case 14:case 15:if(!fe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ma(n,t,i),l=l.next}while(l!==s)}pt(e,t,n);break;case 1:if(!fe&&(mr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){re(n,t,c)}pt(e,t,n);break;case 21:pt(e,t,n);break;case 22:n.mode&1?(fe=(s=fe)||n.memoizedState!==null,pt(e,t,n),fe=s):pt(e,t,n);break;default:pt(e,t,n)}}function wo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bp),t.forEach(function(s){var l=Lp.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Ie(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:ce=c.stateNode,$e=!1;break e;case 3:ce=c.stateNode.containerInfo,$e=!0;break e;case 4:ce=c.stateNode.containerInfo,$e=!0;break e}c=c.return}if(ce===null)throw Error(P(160));Tu(a,i,l),ce=null,$e=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(p){re(l,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lu(t,e),t=t.sibling}function Lu(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ie(t,e),Ke(e),s&4){try{tn(3,e,e.return),Bs(3,e)}catch(j){re(e,e.return,j)}try{tn(5,e,e.return)}catch(j){re(e,e.return,j)}}break;case 1:Ie(t,e),Ke(e),s&512&&n!==null&&mr(n,n.return);break;case 5:if(Ie(t,e),Ke(e),s&512&&n!==null&&mr(n,n.return),e.flags&32){var l=e.stateNode;try{un(l,"")}catch(j){re(e,e.return,j)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&tc(l,a),Al(c,i);var p=Al(c,a);for(i=0;i<o.length;i+=2){var y=o[i],v=o[i+1];y==="style"?ac(l,v):y==="dangerouslySetInnerHTML"?sc(l,v):y==="children"?un(l,v):Pa(l,y,v,p)}switch(c){case"input":Fl(l,a);break;case"textarea":rc(l,a);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?fr(l,!!a.multiple,w,!1):h!==!!a.multiple&&(a.defaultValue!=null?fr(l,!!a.multiple,a.defaultValue,!0):fr(l,!!a.multiple,a.multiple?[]:"",!1))}l[vn]=a}catch(j){re(e,e.return,j)}}break;case 6:if(Ie(t,e),Ke(e),s&4){if(e.stateNode===null)throw Error(P(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(j){re(e,e.return,j)}}break;case 3:if(Ie(t,e),Ke(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{fn(t.containerInfo)}catch(j){re(e,e.return,j)}break;case 4:Ie(t,e),Ke(e);break;case 13:Ie(t,e),Ke(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(ci=ne())),s&4&&wo(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(fe=(p=fe)||y,Ie(t,e),fe=p):Ie(t,e),Ke(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(O=e,y=e.child;y!==null;){for(v=O=y;O!==null;){switch(h=O,w=h.child,h.tag){case 0:case 11:case 14:case 15:tn(4,h,h.return);break;case 1:mr(h,h.return);var d=h.stateNode;if(typeof d.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(j){re(s,n,j)}}break;case 5:mr(h,h.return);break;case 22:if(h.memoizedState!==null){_o(v);continue}}w!==null?(w.return=h,O=w):_o(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{l=v.stateNode,p?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=v.stateNode,o=v.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=lc("display",i))}catch(j){re(e,e.return,j)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(j){re(e,e.return,j)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Ie(t,e),Ke(e),s&4&&wo(e);break;case 21:break;default:Ie(t,e),Ke(e)}}function Ke(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Du(n)){var s=n;break e}n=n.return}throw Error(P(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(un(l,""),s.flags&=-33);var a=No(e);xa(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,c=No(e);fa(e,c,i);break;default:throw Error(P(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kp(e,t,n){O=e,Fu(e)}function Fu(e,t,n){for(var s=(e.mode&1)!==0;O!==null;){var l=O,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Qn;if(!i){var c=l.alternate,o=c!==null&&c.memoizedState!==null||fe;c=Qn;var p=fe;if(Qn=i,(fe=o)&&!p)for(O=l;O!==null;)i=O,o=i.child,i.tag===22&&i.memoizedState!==null?ko(l):o!==null?(o.return=i,O=o):ko(l);for(;a!==null;)O=a,Fu(a),a=a.sibling;O=l,Qn=c,fe=p}bo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,O=a):bo(e)}}function bo(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fe||Bs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!fe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ae(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ao(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ao(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&fn(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}fe||t.flags&512&&pa(t)}catch(h){re(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function _o(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function ko(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bs(4,t)}catch(o){re(t,n,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(o){re(t,l,o)}}var a=t.return;try{pa(t)}catch(o){re(t,a,o)}break;case 5:var i=t.return;try{pa(t)}catch(o){re(t,i,o)}}}catch(o){re(t,t.return,o)}if(t===e){O=null;break}var c=t.sibling;if(c!==null){c.return=t.return,O=c;break}O=t.return}}var Sp=Math.ceil,zs=mt.ReactCurrentDispatcher,ii=mt.ReactCurrentOwner,Oe=mt.ReactCurrentBatchConfig,H=0,oe=null,se=null,ue=0,ke=0,pr=Ot(0),ae=0,kn=null,Xt=0,Vs=0,oi=0,rn=null,je=null,ci=0,zr=1/0,tt=null,Ps=!1,ha=null,Ct=null,Yn=!1,vt=null,Ds=0,nn=0,ga=null,ls=-1,as=0;function ge(){return H&6?ne():ls!==-1?ls:ls=ne()}function Et(e){return e.mode&1?H&2&&ue!==0?ue&-ue:cp.transition!==null?(as===0&&(as=yc()),as):(e=Y,e!==0||(e=window.event,e=e===void 0?16:kc(e.type)),e):1}function Ve(e,t,n,s){if(50<nn)throw nn=0,ga=null,Error(P(185));En(e,n,s),(!(H&2)||e!==oe)&&(e===oe&&(!(H&2)&&(Vs|=n),ae===4&&gt(e,ue)),_e(e,s),n===1&&H===0&&!(t.mode&1)&&(zr=ne()+500,$s&&Mt()))}function _e(e,t){var n=e.callbackNode;cm(e,t);var s=fs(e,e===oe?ue:0);if(s===0)n!==null&&Li(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Li(n),t===1)e.tag===0?op(So.bind(null,e)):Vc(So.bind(null,e)),sp(function(){!(H&6)&&Mt()}),n=null;else{switch(vc(s)){case 1:n=Oa;break;case 4:n=hc;break;case 16:n=ps;break;case 536870912:n=gc;break;default:n=ps}n=qu(n,Ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ou(e,t){if(ls=-1,as=0,H&6)throw Error(P(327));var n=e.callbackNode;if(vr()&&e.callbackNode!==n)return null;var s=fs(e,e===oe?ue:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ts(e,s);else{t=s;var l=H;H|=2;var a=Ru();(oe!==e||ue!==t)&&(tt=null,zr=ne()+500,Bt(e,t));do try{zp();break}catch(c){Mu(e,c)}while(1);Ya(),zs.current=a,H=l,se!==null?t=0:(oe=null,ue=0,t=ae)}if(t!==0){if(t===2&&(l=Vl(e),l!==0&&(s=l,t=ya(e,l))),t===1)throw n=kn,Bt(e,0),gt(e,s),_e(e,ne()),n;if(t===6)gt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Cp(l)&&(t=Ts(e,s),t===2&&(a=Vl(e),a!==0&&(s=a,t=ya(e,a))),t===1))throw n=kn,Bt(e,0),gt(e,s),_e(e,ne()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(P(345));case 2:At(e,je,tt);break;case 3:if(gt(e,s),(s&130023424)===s&&(t=ci+500-ne(),10<t)){if(fs(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ge(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Jl(At.bind(null,e,je,tt),t);break}At(e,je,tt);break;case 4:if(gt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-Be(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=ne()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Sp(s/1960))-s,10<s){e.timeoutHandle=Jl(At.bind(null,e,je,tt),s);break}At(e,je,tt);break;case 5:At(e,je,tt);break;default:throw Error(P(329))}}}return _e(e,ne()),e.callbackNode===n?Ou.bind(null,e):null}function ya(e,t){var n=rn;return e.current.memoizedState.isDehydrated&&(Bt(e,t).flags|=256),e=Ts(e,t),e!==2&&(t=je,je=n,t!==null&&va(t)),e}function va(e){je===null?je=e:je.push.apply(je,e)}function Cp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!He(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gt(e,t){for(t&=~oi,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Be(t),s=1<<n;e[n]=-1,t&=~s}}function So(e){if(H&6)throw Error(P(327));vr();var t=fs(e,0);if(!(t&1))return _e(e,ne()),null;var n=Ts(e,t);if(e.tag!==0&&n===2){var s=Vl(e);s!==0&&(t=s,n=ya(e,s))}if(n===1)throw n=kn,Bt(e,0),gt(e,t),_e(e,ne()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,At(e,je,tt),_e(e,ne()),null}function ui(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(zr=ne()+500,$s&&Mt())}}function Gt(e){vt!==null&&vt.tag===0&&!(H&6)&&vr();var t=H;H|=1;var n=Oe.transition,s=Y;try{if(Oe.transition=null,Y=1,e)return e()}finally{Y=s,Oe.transition=n,H=t,!(H&6)&&Mt()}}function di(){ke=pr.current,G(pr)}function Bt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,np(n)),se!==null)for(n=se.return;n!==null;){var s=n;switch(Ha(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&vs();break;case 3:Cr(),G(we),G(xe),ei();break;case 5:Za(s);break;case 4:Cr();break;case 13:G(Z);break;case 19:G(Z);break;case 10:Ka(s.type._context);break;case 22:case 23:di()}n=n.return}if(oe=e,se=e=zt(e.current,null),ue=ke=t,ae=0,kn=null,oi=Vs=Xt=0,je=rn=null,Ut!==null){for(t=0;t<Ut.length;t++)if(n=Ut[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}Ut=null}return e}function Mu(e,t){do{var n=se;try{if(Ya(),rs.current=Es,Cs){for(var s=ee.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Cs=!1}if(Kt=0,ie=le=ee=null,en=!1,wn=0,ii.current=null,n===null||n.return===null){ae=1,kn=t,se=null;break}e:{var a=e,i=n.return,c=n,o=t;if(t=ue,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var p=o,y=c,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var h=y.alternate;h?(y.updateQueue=h.updateQueue,y.memoizedState=h.memoizedState,y.lanes=h.lanes):(y.updateQueue=null,y.memoizedState=null)}var w=po(i);if(w!==null){w.flags&=-257,fo(w,i,c,a,t),w.mode&1&&mo(a,p,t),t=w,o=p;var d=t.updateQueue;if(d===null){var j=new Set;j.add(o),t.updateQueue=j}else d.add(o);break e}else{if(!(t&1)){mo(a,p,t),mi();break e}o=Error(P(426))}}else if(J&&c.mode&1){var g=po(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),fo(g,i,c,a,t),Wa(Er(o,c));break e}}a=o=Er(o,c),ae!==4&&(ae=2),rn===null?rn=[a]:rn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=vu(a,o,t);lo(a,m);break e;case 1:c=o;var u=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ct===null||!Ct.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=ju(a,c,t);lo(a,b);break e}}a=a.return}while(a!==null)}Au(n)}catch(x){t=x,se===n&&n!==null&&(se=n=n.return);continue}break}while(1)}function Ru(){var e=zs.current;return zs.current=Es,e===null?Es:e}function mi(){(ae===0||ae===3||ae===2)&&(ae=4),oe===null||!(Xt&268435455)&&!(Vs&268435455)||gt(oe,ue)}function Ts(e,t){var n=H;H|=2;var s=Ru();(oe!==e||ue!==t)&&(tt=null,Bt(e,t));do try{Ep();break}catch(l){Mu(e,l)}while(1);if(Ya(),H=n,zs.current=s,se!==null)throw Error(P(261));return oe=null,ue=0,ae}function Ep(){for(;se!==null;)Iu(se)}function zp(){for(;se!==null&&!em();)Iu(se)}function Iu(e){var t=Uu(e.alternate,e,ke);e.memoizedProps=e.pendingProps,t===null?Au(e):se=t,ii.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wp(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(n=Np(n,t,ke),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function At(e,t,n){var s=Y,l=Oe.transition;try{Oe.transition=null,Y=1,Pp(e,t,n,s)}finally{Oe.transition=l,Y=s}return null}function Pp(e,t,n,s){do vr();while(vt!==null);if(H&6)throw Error(P(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(um(e,a),e===oe&&(se=oe=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yn||(Yn=!0,qu(ps,function(){return vr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Oe.transition,Oe.transition=null;var i=Y;Y=1;var c=H;H|=4,ii.current=null,_p(e,n),Lu(n,e),Xm(Xl),xs=!!Kl,Xl=Kl=null,e.current=n,kp(n),tm(),H=c,Y=i,Oe.transition=a}else e.current=n;if(Yn&&(Yn=!1,vt=e,Ds=l),a=e.pendingLanes,a===0&&(Ct=null),sm(n.stateNode),_e(e,ne()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Ps)throw Ps=!1,e=ha,ha=null,e;return Ds&1&&e.tag!==0&&vr(),a=e.pendingLanes,a&1?e===ga?nn++:(nn=0,ga=e):nn=0,Mt(),null}function vr(){if(vt!==null){var e=vc(Ds),t=Oe.transition,n=Y;try{if(Oe.transition=null,Y=16>e?16:e,vt===null)var s=!1;else{if(e=vt,vt=null,Ds=0,H&6)throw Error(P(331));var l=H;for(H|=4,O=e.current;O!==null;){var a=O,i=a.child;if(O.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var p=c[o];for(O=p;O!==null;){var y=O;switch(y.tag){case 0:case 11:case 15:tn(8,y,a)}var v=y.child;if(v!==null)v.return=y,O=v;else for(;O!==null;){y=O;var h=y.sibling,w=y.return;if(Pu(y),y===p){O=null;break}if(h!==null){h.return=w,O=h;break}O=w}}}var d=a.alternate;if(d!==null){var j=d.child;if(j!==null){d.child=null;do{var g=j.sibling;j.sibling=null,j=g}while(j!==null)}}O=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,O=i;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:tn(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,O=m;break e}O=a.return}}var u=e.current;for(O=u;O!==null;){i=O;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,O=f;else e:for(i=u;O!==null;){if(c=O,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Bs(9,c)}}catch(x){re(c,c.return,x)}if(c===i){O=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,O=b;break e}O=c.return}}if(H=l,Mt(),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Os,e)}catch{}s=!0}return s}finally{Y=n,Oe.transition=t}}return!1}function Co(e,t,n){t=Er(n,t),t=vu(e,t,1),e=St(e,t,1),t=ge(),e!==null&&(En(e,1,t),_e(e,t))}function re(e,t,n){if(e.tag===3)Co(e,e,n);else for(;t!==null;){if(t.tag===3){Co(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ct===null||!Ct.has(s))){e=Er(n,e),e=ju(t,e,1),t=St(t,e,1),e=ge(),t!==null&&(En(t,1,e),_e(t,e));break}}t=t.return}}function Dp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ge(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(ue&n)===n&&(ae===4||ae===3&&(ue&130023424)===ue&&500>ne()-ci?Bt(e,0):oi|=n),_e(e,t)}function $u(e,t){t===0&&(e.mode&1?(t=In,In<<=1,!(In&130023424)&&(In=4194304)):t=1);var n=ge();e=ut(e,t),e!==null&&(En(e,t,n),_e(e,n))}function Tp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$u(e,n)}function Lp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(P(314))}s!==null&&s.delete(t),$u(e,n)}var Uu;Uu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||we.current)Ne=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ne=!1,jp(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,J&&t.flags&1048576&&Hc(t,ws,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ss(e,t),e=t.pendingProps;var l=_r(t,xe.current);yr(t,n),l=ri(null,t,s,e,l,n);var a=ni();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(s)?(a=!0,js(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ga(t),l.updater=qs,t.stateNode=l,l._reactInternals=t,la(t,s,e,n),t=oa(null,t,s,!0,a,n)):(t.tag=0,J&&a&&Va(t),he(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ss(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Op(s),e=Ae(s,e),l){case 0:t=ia(null,t,s,e,n);break e;case 1:t=go(null,t,s,e,n);break e;case 11:t=xo(null,t,s,e,n);break e;case 14:t=ho(null,t,s,Ae(s.type,e),n);break e}throw Error(P(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ae(s,l),ia(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ae(s,l),go(e,t,s,l,n);case 3:e:{if(_u(t),e===null)throw Error(P(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Gc(e,t),ks(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Er(Error(P(423)),t),t=yo(e,t,s,n,l);break e}else if(s!==l){l=Er(Error(P(424)),t),t=yo(e,t,s,n,l);break e}else for(Ce=kt(t.stateNode.containerInfo.firstChild),Ee=t,J=!0,Ue=null,n=Kc(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kr(),s===l){t=dt(e,t,n);break e}he(e,t,s,n)}t=t.child}return t;case 5:return Jc(t),e===null&&ra(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Gl(s,l)?i=null:a!==null&&Gl(s,a)&&(t.flags|=32),bu(e,t),he(e,t,i,n),t.child;case 6:return e===null&&ra(t),null;case 13:return ku(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Sr(t,null,s,n):he(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ae(s,l),xo(e,t,s,l,n);case 7:return he(e,t,t.pendingProps,n),t.child;case 8:return he(e,t,t.pendingProps.children,n),t.child;case 12:return he(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,K(bs,s._currentValue),s._currentValue=i,a!==null)if(He(a.value,i)){if(a.children===l.children&&!we.current){t=dt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(a.tag===1){o=at(-1,n&-n),o.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o}}a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),na(a.return,n,t),c.lanes|=n;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(P(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),na(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}he(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,yr(t,n),l=Me(l),s=s(l),t.flags|=1,he(e,t,s,n),t.child;case 14:return s=t.type,l=Ae(s,t.pendingProps),l=Ae(s.type,l),ho(e,t,s,l,n);case 15:return Nu(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ae(s,l),ss(e,t),t.tag=1,be(s)?(e=!0,js(t)):e=!1,yr(t,n),yu(t,s,l),la(t,s,l,n),oa(null,t,s,!0,e,n);case 19:return Su(e,t,n);case 22:return wu(e,t,n)}throw Error(P(156,t.tag))};function qu(e,t){return xc(e,t)}function Fp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,t,n,s){return new Fp(e,t,n,s)}function pi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Op(e){if(typeof e=="function")return pi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ta)return 11;if(e===La)return 14}return 2}function zt(e,t){var n=e.alternate;return n===null?(n=Fe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function is(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")pi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case nr:return Vt(n.children,l,a,t);case Da:i=8,l|=8;break;case zl:return e=Fe(12,n,t,l|2),e.elementType=zl,e.lanes=a,e;case Pl:return e=Fe(13,n,t,l),e.elementType=Pl,e.lanes=a,e;case Dl:return e=Fe(19,n,t,l),e.elementType=Dl,e.lanes=a,e;case Jo:return Hs(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xo:i=10;break e;case Go:i=9;break e;case Ta:i=11;break e;case La:i=14;break e;case ft:i=16,s=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Fe(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function Vt(e,t,n,s){return e=Fe(7,e,s,t),e.lanes=n,e}function Hs(e,t,n,s){return e=Fe(22,e,s,t),e.elementType=Jo,e.lanes=n,e.stateNode={isHidden:!1},e}function Nl(e,t,n){return e=Fe(6,e,null,t),e.lanes=n,e}function wl(e,t,n){return t=Fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mp(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function fi(e,t,n,s,l,a,i,c,o){return e=new Mp(e,t,n,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Fe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ga(a),e}function Rp(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Bu(e){if(!e)return Tt;e=e._reactInternals;e:{if(Zt(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(be(n))return Bc(e,n,t)}return t}function Vu(e,t,n,s,l,a,i,c,o){return e=fi(n,s,!0,e,l,a,i,c,o),e.context=Bu(null),n=e.current,s=ge(),l=Et(n),a=at(s,l),a.callback=t??null,St(n,a,l),e.current.lanes=l,En(e,l,s),_e(e,s),e}function Ws(e,t,n,s){var l=t.current,a=ge(),i=Et(l);return n=Bu(n),t.context===null?t.context=n:t.pendingContext=n,t=at(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=St(l,t,i),e!==null&&(Ve(e,l,i,a),ts(e,l,i)),i}function Ls(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xi(e,t){Eo(e,t),(e=e.alternate)&&Eo(e,t)}function Ip(){return null}var Hu=typeof reportError=="function"?reportError:function(e){console.error(e)};function hi(e){this._internalRoot=e}Qs.prototype.render=hi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Ws(e,t,null,null)};Qs.prototype.unmount=hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gt(function(){Ws(null,e,null,null)}),t[ct]=null}};function Qs(e){this._internalRoot=e}Qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=wc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ht.length&&t!==0&&t<ht[n].priority;n++);ht.splice(n,0,e),n===0&&_c(e)}};function gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zo(){}function Ap(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var p=Ls(i);a.call(p)}}var i=Vu(t,s,e,0,null,!1,!1,"",zo);return e._reactRootContainer=i,e[ct]=i.current,gn(e.nodeType===8?e.parentNode:e),Gt(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var c=s;s=function(){var p=Ls(o);c.call(p)}}var o=fi(e,0,!1,null,null,!1,!1,"",zo);return e._reactRootContainer=o,e[ct]=o.current,gn(e.nodeType===8?e.parentNode:e),Gt(function(){Ws(t,o,n,s)}),o}function Ks(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var c=l;l=function(){var o=Ls(i);c.call(o)}}Ws(t,i,e,l)}else i=Ap(n,t,e,l,s);return Ls(i)}jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vr(t.pendingLanes);n!==0&&(Ma(t,n|1),_e(t,ne()),!(H&6)&&(zr=ne()+500,Mt()))}break;case 13:Gt(function(){var s=ut(e,1);if(s!==null){var l=ge();Ve(s,e,1,l)}}),xi(e,1)}};Ra=function(e){if(e.tag===13){var t=ut(e,134217728);if(t!==null){var n=ge();Ve(t,e,134217728,n)}xi(e,134217728)}};Nc=function(e){if(e.tag===13){var t=Et(e),n=ut(e,t);if(n!==null){var s=ge();Ve(n,e,t,s)}xi(e,t)}};wc=function(){return Y};bc=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ul=function(e,t,n){switch(t){case"input":if(Fl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=As(s);if(!l)throw Error(P(90));ec(s),Fl(s,l)}}}break;case"textarea":rc(e,n);break;case"select":t=n.value,t!=null&&fr(e,!!n.multiple,t,!1)}};cc=ui;uc=Gt;var $p={usingClientEntryPoint:!1,Events:[Pn,ir,As,ic,oc,ui]},Ur={findFiberByHostInstance:$t,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Up={bundleType:Ur.bundleType,version:Ur.version,rendererPackageName:Ur.rendererPackageName,rendererConfig:Ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ur.findFiberByHostInstance||Ip,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kn.isDisabled&&Kn.supportsFiber)try{Os=Kn.inject(Up),Je=Kn}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;Pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gi(t))throw Error(P(200));return Rp(e,t,null,n)};Pe.createRoot=function(e,t){if(!gi(e))throw Error(P(299));var n=!1,s="",l=Hu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=fi(e,1,!1,null,null,n,!1,s,l),e[ct]=t.current,gn(e.nodeType===8?e.parentNode:e),new hi(t)};Pe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=pc(t),e=e===null?null:e.stateNode,e};Pe.flushSync=function(e){return Gt(e)};Pe.hydrate=function(e,t,n){if(!Ys(t))throw Error(P(200));return Ks(null,e,t,!0,n)};Pe.hydrateRoot=function(e,t,n){if(!gi(e))throw Error(P(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Hu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Vu(t,null,e,1,n??null,l,!1,a,i),e[ct]=t.current,gn(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Qs(t)};Pe.render=function(e,t,n){if(!Ys(t))throw Error(P(200));return Ks(null,e,t,!1,n)};Pe.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(P(40));return e._reactRootContainer?(Gt(function(){Ks(null,null,e,!1,function(){e._reactRootContainer=null,e[ct]=null})}),!0):!1};Pe.unstable_batchedUpdates=ui;Pe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ys(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ks(e,t,n,!1,s)};Pe.version="18.3.1-next-f1338f8080-20240426";function Wu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wu)}catch(e){console.error(e)}}Wu(),Wo.exports=Pe;var qp=Wo.exports,Po=qp;Cl.createRoot=Po.createRoot,Cl.hydrateRoot=Po.hydrateRoot;const Bp={}.VITE_API_URL||window.location.origin,Vp="2025-06-26 07:32:00 KST",Hp=[{id:"dashboard",name:"대시보드",icon:"LayoutGrid",color:"text-blue-600"},{id:"workers",name:"근로자관리",icon:"Users",color:"text-purple-600"},{id:"health",name:"건강진단",icon:"Heart",color:"text-red-600"},{id:"environment",name:"작업환경측정",icon:"Activity",color:"text-green-600"},{id:"education",name:"보건교육",icon:"BookOpen",color:"text-indigo-600"},{id:"chemicals",name:"화학물질관리",icon:"FlaskConical",color:"text-yellow-600"},{id:"accidents",name:"산업재해",icon:"AlertTriangle",color:"text-orange-600"},{id:"unified-documents",name:"통합문서관리",icon:"FileText",color:"text-cyan-600"},{id:"pdf-editor",name:"PDF 편집기",icon:"Edit3",color:"text-emerald-600"},{id:"reports",name:"종합보고서",icon:"BarChart3",color:"text-indigo-600"},{id:"monitoring",name:"실시간모니터링",icon:"MonitorDot",color:"text-pink-600"},{id:"settings",name:"시스템설정",icon:"Settings",color:"text-gray-600"}],ja=[{value:"regular",label:"정규직"},{value:"contract",label:"계약직"},{value:"temporary",label:"임시직"},{value:"daily",label:"일용직"}],Na=[{value:"construction",label:"건설"},{value:"electrical",label:"전기"},{value:"plumbing",label:"배관"},{value:"painting",label:"도장"},{value:"welding",label:"용접"},{value:"rebar",label:"철근"},{value:"concrete",label:"콘크리트"},{value:"masonry",label:"조적"},{value:"tiling",label:"타일"},{value:"waterproofing",label:"방수"}],Wp=[{value:"male",label:"남성"},{value:"female",label:"여성"}],wa=[{value:"normal",label:"정상"},{value:"caution",label:"주의"},{value:"observation",label:"관찰"},{value:"treatment",label:"치료"}],bl=[{value:"fall",label:"추락"},{value:"cut",label:"절단/베임"},{value:"burn",label:"화상"},{value:"collision",label:"충돌"},{value:"caught",label:"끼임"},{value:"electric_shock",label:"감전"},{value:"poisoning",label:"중독"}],Qp=[{value:"minor",label:"경미"},{value:"moderate",label:"중등도"},{value:"serious",label:"중대"},{value:"fatal",label:"사망"}],Yp=[{value:"low",label:"낮음"},{value:"medium",label:"보통"},{value:"high",label:"높음"},{value:"very_high",label:"매우 높음"}],Kp=[{value:"scheduled",label:"예정"},{value:"in_progress",label:"진행중"},{value:"completed",label:"완료"},{value:"cancelled",label:"취소"}],Do={normal:"bg-green-100 text-green-800",caution:"bg-yellow-100 text-yellow-800",observation:"bg-orange-100 text-orange-800",treatment:"bg-red-100 text-red-800",adequate:"bg-green-100 text-green-800",inadequate:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",scheduled:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",current:"bg-green-100 text-green-800",expired:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",minor:"bg-yellow-100 text-yellow-800",moderate:"bg-orange-100 text-orange-800",serious:"bg-red-100 text-red-800",fatal:"bg-gray-900 text-white"};function Xp({isOpen:e,onClose:t,activeMenu:n,onMenuSelect:s}){return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),r.jsxs("aside",{className:`
        fixed left-0 top-0 h-full w-64 bg-gradient-to-b from-gray-900 to-gray-800 
        text-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
      `,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-green-400 bg-clip-text text-transparent",children:"SafeWork Pro"}),r.jsx("button",{onClick:t,className:"md:hidden text-gray-400 hover:text-white",children:r.jsx(os,{size:24})})]}),r.jsx("nav",{className:"mt-8 px-4",children:Hp.map(l=>{const a=Qu[l.icon];return r.jsxs("button",{onClick:()=>{s(l.id),t()},className:`
                  w-full flex items-center px-4 py-3 rounded-lg mb-2 transition-all duration-200
                  ${n===l.id?"bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg transform scale-105":"hover:bg-gray-700 hover:shadow-md"}
                `,children:[r.jsx(a,{size:20,className:n===l.id?"text-white":l.color}),r.jsx("span",{className:"ml-3 font-medium",children:l.name})]},l.id)})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"건설업 보건관리 시스템"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"v1.0.0"})]})})]})]})}function Gp({onMenuToggle:e}){return r.jsx("header",{className:"bg-white shadow-lg border-b border-gray-200",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:e,className:"md:hidden text-gray-500 hover:text-gray-700 focus:outline-none",children:r.jsx(Yu,{size:24})}),r.jsxs("div",{className:"ml-4 md:ml-0",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"SafeWork Pro"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Build: ",Vp]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 rounded-lg px-3 py-2",children:[r.jsx(Pt,{size:18,className:"text-gray-500"}),r.jsx("input",{type:"text",placeholder:"검색...",className:"ml-2 bg-transparent border-none focus:outline-none text-sm"})]}),r.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 transition-colors",children:[r.jsx(sn,{size:20}),r.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("img",{src:"https://ui-avatars.com/api/?name=Admin&background=4F46E5&color=fff",alt:"User",className:"h-8 w-8 rounded-full"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 hidden md:block",children:"관리자"})]})]})]})})})}function Jp({children:e,sidebarOpen:t,setSidebarOpen:n,activeMenu:s,setActiveMenu:l}){return r.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx(Xp,{isOpen:t,onClose:()=>n(!1),activeMenu:s,onMenuSelect:l}),r.jsxs("div",{className:"flex-1 flex flex-col md:ml-64",children:[r.jsx(Gp,{onMenuToggle:()=>n(!t)}),r.jsx("main",{className:"flex-1 overflow-y-auto",children:e})]})]})}function To(){const[e,t]=E.useState({total_workers:0,special_exam_targets:0,health_exam_needed:0,accidents_this_month:0}),[n,s]=E.useState([]),[l,a]=E.useState(!0);E.useEffect(()=>{i()},[]);const i=async()=>{var c;try{a(!0);const o=window.location.origin+"/api/v1",p=await fetch(`${o}/workers/statistics/dashboard`);if(p.ok){const v=await p.json();t(v)}else console.warn("통계 API 호출 실패, 기본값 사용");const y=await fetch(`${o}/workers/?page=1&page_size=5`);if(y.ok){const h=((c=(await y.json()).items)==null?void 0:c.map((w,d)=>({id:w.id||d,description:`${w.name} - ${w.department||"부서미정"}`,time:new Date(w.hire_date).toLocaleDateString()||"날짜미정"})))||[];s(h)}}catch(o){console.error("대시보드 데이터 로드 실패:",o),s([])}finally{a(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"SafeWork Pro 대시보드"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"건설업 보건관리 시스템 통합 현황"})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"실시간 모니터링"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"전체 근로자"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-blue-300 h-8 w-16 rounded"}):e.total_workers}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(ln,{size:16,className:"text-blue-200 mr-1"}),r.jsx("span",{className:"text-blue-200 text-xs",children:"활성 관리 중"})]})]}),r.jsx("div",{className:"p-3 bg-blue-400 bg-opacity-50 rounded-full",children:r.jsx(ba,{size:32,className:"text-white"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"특수건진 대상"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-purple-300 h-8 w-16 rounded"}):e.special_exam_targets}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(an,{size:16,className:"text-purple-200 mr-1"}),r.jsx("span",{className:"text-purple-200 text-xs",children:"특별 관리"})]})]}),r.jsx("div",{className:"p-3 bg-purple-400 bg-opacity-50 rounded-full",children:r.jsx(Ku,{size:32,className:"text-white"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"건진 필요"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-emerald-300 h-8 w-16 rounded"}):e.health_exam_needed}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(on,{size:16,className:"text-emerald-200 mr-1"}),r.jsx("span",{className:"text-emerald-200 text-xs",children:"예약 대기"})]})]}),r.jsx("div",{className:"p-3 bg-emerald-400 bg-opacity-50 rounded-full",children:r.jsx(on,{size:32,className:"text-white"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-red-100 text-sm font-medium",children:"이달 재해"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-red-300 h-8 w-16 rounded"}):e.accidents_this_month}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Xu,{size:16,className:"text-red-200 mr-1"}),r.jsx("span",{className:"text-red-200 text-xs",children:"안전 모니터링"})]})]}),r.jsx("div",{className:"p-3 bg-red-400 bg-opacity-50 rounded-full",children:r.jsx(jt,{size:32,className:"text-white"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(Se,{className:"mr-2 text-blue-600",size:24}),"최근 활동"]}),r.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:"실시간 업데이트"})]}),r.jsx("div",{className:"space-y-4",children:l?r.jsx("div",{className:"space-y-3",children:[1,2,3].map(c=>r.jsxs("div",{className:"animate-pulse flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mt-2"})]})]},c))}):n.length>0?n.map(c=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:c.description.charAt(0)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-800",children:c.description}),r.jsx("p",{className:"text-sm text-gray-500",children:c.time})]}),r.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"완료"})]},c.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(an,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("p",{className:"text-gray-500 text-lg",children:"활동 내역이 없습니다"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"새로운 활동이 있을 때 여기에 표시됩니다"})]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl shadow-lg p-6 border border-amber-200",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(jt,{className:"text-amber-600 mr-2",size:24}),r.jsx("h2",{className:"text-xl font-bold text-amber-800",children:"중요 알림"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-amber-500",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-amber-800 font-medium",children:"정기 안전교육"}),r.jsx("p",{className:"text-amber-700 text-sm mt-1",children:"다음 주 시작 예정"})]})]})}),r.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-800 font-medium",children:"작업환경측정"}),r.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"결과 확인 필요"})]})]})}),r.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-800 font-medium",children:"신규 건강검진"}),r.jsx("p",{className:"text-green-700 text-sm mt-1",children:"예약 완료 요청"})]})]})})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-amber-200",children:r.jsx("button",{className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-2 px-4 rounded-lg hover:from-amber-600 hover:to-orange-600 transition-colors font-medium",children:"모든 알림 보기"})})]})]})]})}function I({children:e,className:t="",title:n,subtitle:s,action:l}){return r.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow ${t}`,children:[(n||s||l)&&r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[n&&r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),s&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s})]}),l&&r.jsx("div",{children:l})]}),e]})}function R({children:e,variant:t="primary",size:n="md",icon:s,loading:l=!1,className:a="",disabled:i,...c}){const o={primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-500 text-white hover:bg-red-600",success:"bg-green-500 text-white hover:bg-green-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600"},p={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return r.jsxs("button",{className:`
        ${o[t]}
        ${p[n]}
        rounded-lg font-medium transition-all duration-200 
        flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed
        ${a}
      `,disabled:i||l,...c,children:[l?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):s,e]})}function Zp({columns:e,data:t,loading:n=!1,emptyMessage:s="데이터가 없습니다.",onRowClick:l}){return n?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):!t||t.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:s}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:e.map(a=>r.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${a.width||""}`,children:a.header},a.key))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(a=>r.jsx("tr",{onClick:()=>l==null?void 0:l(a),className:l?"hover:bg-gray-50 cursor-pointer":"",children:e.map(i=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.render?i.render(a):a[i.key]},i.key))},a.id))})]})})}function Lt({isOpen:e,onClose:t,title:n,children:s,size:l="md"}){if(!e)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),r.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${a[l]} w-full`,children:[n&&r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:n}),r.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",children:r.jsx(os,{size:24})})]})}),r.jsx("div",{className:"px-6 py-4",children:s})]})]})})}function $({value:e,label:t,type:n}){const s=n&&Do[n]?Do[n]:"bg-gray-100 text-gray-800";return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s}`,children:t||e})}function We(){const[e,t]=E.useState(!1),[n,s]=E.useState(null);return{fetchApi:E.useCallback(async(a,i={})=>{const{params:c,...o}=i;try{t(!0),s(null);let p=`${Bp}/api/v1${a}`;if(c){const h=new URLSearchParams(c);p+=`?${h.toString()}`}const y=await fetch(p,{...o,headers:{"Content-Type":"application/json",...o.headers}});if(!y.ok)throw new Error(`API Error: ${y.status} ${y.statusText}`);return await y.json()}catch(p){const y=p instanceof Error?p.message:"알 수 없는 오류가 발생했습니다.";throw s(y),p}finally{t(!1)}},[]),loading:e,error:n}}function ef(){const[e,t]=E.useState([]),[n,s]=E.useState([]),[l,a]=E.useState([]),[i,c]=E.useState([]),[o,p]=E.useState(!1),[y,v]=E.useState(!0),[h,w]=E.useState(30),[d,j]=E.useState("1h"),{fetchApi:g}=We();E.useEffect(()=>{if(m(),y){const S=setInterval(m,h*1e3);return()=>clearInterval(S)}},[y,h]);const m=async()=>{p(!0);try{await Promise.all([u(),f(),b(),x()])}catch(S){console.error("Failed to load monitoring data:",S),k()}finally{p(!1)}},u=async()=>{try{const S=await g("/api/v1/monitoring/system-metrics");t(S||[])}catch(S){console.error("Failed to load system metrics:",S)}},f=async()=>{try{const S=await g("/api/v1/compliance/dashboard");s(S!=null&&S.category_analysis?Object.entries(S.category_analysis).map(([W,L])=>({category:W,total_rules:L.total,compliant:L.compliant,violations:L.violations,compliance_rate:L.total>0?L.compliant/L.total*100:0})):[])}catch(S){console.error("Failed to load compliance status:",S)}},b=async()=>{try{const S=await g("/api/v1/monitoring/alerts");a(S||[])}catch(S){console.error("Failed to load alerts:",S)}},x=async()=>{try{const S=await g(`/api/v1/monitoring/environment?range=${d}`);c(S||[])}catch(S){console.error("Failed to load environment data:",S)}},k=()=>{t([{id:"workers_online",name:"접속 중인 근로자",value:245,status:"normal",trend:"up",change:5},{id:"safety_score",name:"안전점수",value:94,unit:"%",status:"normal",trend:"stable"},{id:"health_compliance",name:"건강관리 준수율",value:87,unit:"%",status:"warning",trend:"down",change:-3},{id:"incident_rate",name:"사고발생률",value:.12,unit:"%",status:"normal",trend:"down",change:-.05},{id:"education_completion",name:"교육이수율",value:92,unit:"%",status:"normal",trend:"up",change:8},{id:"equipment_status",name:"장비가동률",value:98,unit:"%",status:"normal",trend:"stable"}]),s([{category:"health_exam",total_rules:5,compliant:4,violations:1,compliance_rate:80},{category:"education",total_rules:8,compliant:7,violations:1,compliance_rate:87.5},{category:"environment",total_rules:6,compliant:5,violations:1,compliance_rate:83.3},{category:"chemical",total_rules:4,compliant:3,violations:1,compliance_rate:75},{category:"safety",total_rules:10,compliant:9,violations:1,compliance_rate:90}]),a([{id:"1",type:"environment",severity:"high",title:"소음 기준 초과",message:"용접구역에서 소음 레벨이 85dB를 초과했습니다.",timestamp:new Date(Date.now()-5*6e4).toISOString(),acknowledged:!1,location:"용접구역 A동"},{id:"2",type:"compliance",severity:"medium",title:"특수건강진단 만료 임박",message:"3명의 근로자 특수건강진단이 1주일 내 만료됩니다.",timestamp:new Date(Date.now()-15*6e4).toISOString(),acknowledged:!1},{id:"3",type:"safety",severity:"critical",title:"보호구 미착용 감지",message:"안전모 미착용 근로자가 위험구역에서 감지되었습니다.",timestamp:new Date(Date.now()-2*6e4).toISOString(),acknowledged:!1,location:"크레인 작업구역"}]),c([{location:"용접구역",noise_level:87,dust_level:.15,temperature:28,humidity:65,air_quality:85,timestamp:new Date().toISOString()},{location:"절단구역",noise_level:82,dust_level:.08,temperature:26,humidity:60,air_quality:92,timestamp:new Date().toISOString()}])},N=async S=>{try{await g(`/api/v1/monitoring/alerts/${S}/acknowledge`,{method:"POST"}),a(W=>W.map(L=>L.id===S?{...L,acknowledged:!0}:L))}catch(W){console.error("Failed to acknowledge alert:",W)}},z=S=>{switch(S){case"normal":return"green";case"warning":return"yellow";case"critical":return"red";default:return"gray"}},q=S=>{switch(S){case"low":return"blue";case"medium":return"yellow";case"high":return"orange";case"critical":return"red";default:return"gray"}},D=S=>{switch(S){case"up":return r.jsx(ln,{size:16,className:"text-green-600"});case"down":return r.jsx(ln,{size:16,className:"text-red-600 rotate-180"});default:return r.jsx(jr,{size:16,className:"text-gray-400"})}},V=S=>{switch(S){case"safety":return r.jsx(cs,{size:16});case"health":return r.jsx(Fo,{size:16});case"environment":return r.jsx(yi,{size:16});case"compliance":return r.jsx(Se,{size:16});case"system":return r.jsx(ed,{size:16});default:return r.jsx(Nr,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"고도화된 실시간 모니터링"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"자동 새로고침:"}),r.jsx("input",{type:"checkbox",checked:y,onChange:S=>v(S.target.checked),className:"rounded"}),r.jsxs("select",{value:h,onChange:S=>w(Number(S.target.value)),disabled:!y,className:"text-sm border rounded px-2 py-1",children:[r.jsx("option",{value:10,children:"10초"}),r.jsx("option",{value:30,children:"30초"}),r.jsx("option",{value:60,children:"1분"}),r.jsx("option",{value:300,children:"5분"})]})]}),r.jsxs(R,{onClick:m,variant:"outline",children:[r.jsx(nt,{size:16,className:`mr-2 ${o?"animate-spin":""}`}),"새로고침"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(S=>r.jsx(I,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:S.name}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[S.value,S.unit&&` ${S.unit}`]}),S.change!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[D(S.trend),r.jsxs("span",{className:`text-sm ${S.trend==="up"?"text-green-600":S.trend==="down"?"text-red-600":"text-gray-600"}`,children:[Math.abs(S.change),S.unit," 변화"]})]})]}),r.jsx($,{color:z(S.status),children:S.status==="normal"?"정상":S.status==="warning"?"주의":"위험"})]})},S.id))}),r.jsxs(I,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(sn,{className:"text-orange-600",size:20}),"실시간 알림"]}),r.jsxs($,{color:"red",children:[l.filter(S=>!S.acknowledged).length,"개 미확인"]})]}),r.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(S=>r.jsxs("div",{className:`
                flex items-center justify-between p-3 rounded-lg border-l-4
                ${S.acknowledged?"bg-gray-50 border-gray-300":S.severity==="critical"?"bg-red-50 border-red-500":S.severity==="high"?"bg-orange-50 border-orange-500":S.severity==="medium"?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}
              `,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`
                  p-2 rounded-full
                  ${S.severity==="critical"?"bg-red-100 text-red-600":S.severity==="high"?"bg-orange-100 text-orange-600":S.severity==="medium"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"}
                `,children:V(S.type)}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-medium ${S.acknowledged?"text-gray-600":"text-gray-900"}`,children:S.title}),r.jsx("p",{className:`text-sm ${S.acknowledged?"text-gray-500":"text-gray-700"}`,children:S.message}),r.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[r.jsx("span",{children:new Date(S.timestamp).toLocaleString()}),S.location&&r.jsxs("span",{children:["📍 ",S.location]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($,{color:q(S.severity),children:S.severity==="critical"?"긴급":S.severity==="high"?"높음":S.severity==="medium"?"보통":"낮음"}),!S.acknowledged&&r.jsx(R,{size:"sm",variant:"outline",onClick:()=>N(S.id),children:r.jsx(Ht,{size:14})})]})]},S.id))}),l.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ht,{className:"mx-auto h-12 w-12 text-green-400 mb-2"}),r.jsx("p",{children:"현재 활성 알림이 없습니다"})]})]}),r.jsxs(I,{className:"p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(cs,{className:"text-blue-600",size:20}),"법령 준수 현황"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:n.map(S=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-2",children:r.jsx("div",{className:`
                  inline-flex items-center justify-center w-16 h-16 rounded-full
                  ${S.compliance_rate>=90?"bg-green-100 text-green-600":S.compliance_rate>=80?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}
                `,children:r.jsxs("span",{className:"text-lg font-bold",children:[S.compliance_rate.toFixed(0),"%"]})})}),r.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:S.category==="health_exam"?"건강진단":S.category==="education"?"안전교육":S.category==="environment"?"작업환경":S.category==="chemical"?"화학물질":S.category==="safety"?"안전관리":S.category}),r.jsxs("p",{className:"text-sm text-gray-600",children:[S.compliant,"/",S.total_rules," 준수"]}),S.violations>0&&r.jsxs($,{color:"red",className:"mt-1",children:[S.violations,"개 위반"]})]},S.category))})]}),r.jsxs(I,{className:"p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(an,{className:"text-green-600",size:20}),"환경 모니터링"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((S,W)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:S.location}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gu,{size:16,className:"text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"소음"}),r.jsxs("p",{className:`font-medium ${S.noise_level>85?"text-red-600":"text-green-600"}`,children:[S.noise_level," dB"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yi,{size:16,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"분진"}),r.jsxs("p",{className:"font-medium",children:[S.dust_level," mg/m³"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ju,{size:16,className:"text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"온도"}),r.jsxs("p",{className:"font-medium",children:[S.temperature,"°C"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(an,{size:16,className:"text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"공기질"}),r.jsxs("p",{className:"font-medium",children:[S.air_quality,"/100"]})]})]})]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["최근 업데이트: ",new Date(S.timestamp).toLocaleString()]})]},W))})]}),r.jsxs(I,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"빠른 작업"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(R,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(Se,{className:"mb-2",size:24}),r.jsx("span",{children:"보고서 생성"})]}),r.jsxs(R,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(Zu,{className:"mb-2",size:24}),r.jsx("span",{children:"시스템 설정"})]}),r.jsxs(R,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(_l,{className:"mb-2",size:24}),r.jsx("span",{children:"상세 분석"})]}),r.jsxs(R,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(sn,{className:"mb-2",size:24}),r.jsx("span",{children:"알림 설정"})]})]})]})]})}function tf({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){const[a,i]=E.useState({name:"",employee_id:"",gender:"",birth_date:"",phone:"",email:"",department:"",position:"",employment_type:"regular",work_type:"construction",hire_date:"",health_status:"normal",is_special_exam_target:!1,is_active:!0,notes:""});E.useEffect(()=>{s&&i(s)},[s]);const c=p=>{p.preventDefault(),n(a)},o=p=>{const{name:y,value:v,type:h}=p.target;i(h==="checkbox"?w=>({...w,[y]:p.target.checked}):w=>({...w,[y]:v}))};return r.jsx(Lt,{isOpen:e,onClose:t,title:l==="create"?"근로자 등록":"근로자 정보 수정",size:"lg",children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["이름 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:a.name,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사번 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"employee_id",value:a.employee_id,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:l==="edit"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"성별"}),r.jsxs("select",{name:"gender",value:a.gender,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"선택"}),Wp.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생년월일"}),r.jsx("input",{type:"date",name:"birth_date",value:a.birth_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"연락처"}),r.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:o,placeholder:"010-0000-0000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"부서"}),r.jsx("input",{type:"text",name:"department",value:a.department,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"직책"}),r.jsx("input",{type:"text",name:"position",value:a.position,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["고용형태 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"employment_type",value:a.employment_type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:ja.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["작업유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"work_type",value:a.work_type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Na.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"입사일"}),r.jsx("input",{type:"date",name:"hire_date",value:a.hire_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"건강상태"}),r.jsx("select",{name:"health_status",value:a.health_status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:wa.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"is_special_exam_target",checked:a.is_special_exam_target,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"특수건강진단 대상자"})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(R,{variant:"secondary",onClick:t,children:[r.jsx(Sn,{size:16}),"취소"]}),r.jsx(R,{type:"submit",icon:r.jsx(it,{size:16}),children:l==="create"?"등록":"수정"})]})]})})}function rf(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(!1),[i,c]=E.useState("create"),[o,p]=E.useState(null),[y,v]=E.useState(""),[h,w]=E.useState({employment_type:"",work_type:"",health_status:""}),{fetchApi:d}=We();E.useEffect(()=>{j()},[h]);const j=async()=>{try{s(!0);const x=new URLSearchParams;y&&x.append("search",y),h.employment_type&&x.append("employment_type",h.employment_type),h.work_type&&x.append("work_type",h.work_type),h.health_status&&x.append("health_status",h.health_status);const k=await d(`/workers?${x}`);t(k.items)}catch(x){console.error("근로자 목록 조회 실패:",x)}finally{s(!1)}},g=()=>{c("create"),p(null),a(!0)},m=x=>{c("edit"),p(x),a(!0)},u=async x=>{if(confirm("정말 삭제하시겠습니까?"))try{console.log("Deleting worker:",x),t(k=>k.filter(N=>N.id!==x))}catch(k){console.error("근로자 삭제 실패:",k)}},f=async x=>{try{if(i==="create"){console.log("Creating worker:",x);const k={...x,id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};t(N=>[...N,k])}else o&&(console.log("Updating worker:",o.id,x),t(k=>k.map(N=>N.id===o.id?{...N,...x,updated_at:new Date().toISOString()}:N)));a(!1)}catch(k){console.error("근로자 저장 실패:",k)}},b=[{key:"name",header:"이름",render:x=>r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:x.name}),r.jsx("div",{className:"text-sm text-gray-500",children:x.employee_id})]})},{key:"department",header:"부서/직책",render:x=>r.jsxs("div",{children:[r.jsx("div",{children:x.department||"-"}),r.jsx("div",{className:"text-sm text-gray-500",children:x.position||"-"})]})},{key:"employment_type",header:"고용형태",render:x=>{const k=ja.find(N=>N.value===x.employment_type);return r.jsx($,{value:(k==null?void 0:k.label)||x.employment_type})}},{key:"work_type",header:"작업유형",render:x=>{const k=Na.find(N=>N.value===x.work_type);return(k==null?void 0:k.label)||x.work_type}},{key:"health_status",header:"건강상태",render:x=>{var k;return r.jsx($,{value:((k=wa.find(N=>N.value===x.health_status))==null?void 0:k.label)||x.health_status,type:x.health_status})}},{key:"actions",header:"관리",render:x=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>m(x),className:"text-blue-600 hover:text-blue-800",children:r.jsx(Pr,{size:16})}),r.jsx("button",{onClick:()=>u(x.id),className:"text-red-600 hover:text-red-800",children:r.jsx(Nt,{size:16})})]})}];return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"근로자 관리"}),r.jsx(R,{onClick:g,icon:r.jsx(qe,{size:16}),children:"근로자 등록"})]}),r.jsx(I,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"이름, 사번으로 검색...",value:y,onChange:x=>v(x.target.value),onKeyPress:x=>x.key==="Enter"&&j(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:h.employment_type,onChange:x=>w(k=>({...k,employment_type:x.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"고용형태"}),ja.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))]}),r.jsxs("select",{value:h.work_type,onChange:x=>w(k=>({...k,work_type:x.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"작업유형"}),Na.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))]}),r.jsxs("select",{value:h.health_status,onChange:x=>w(k=>({...k,health_status:x.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"건강상태"}),wa.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))]}),r.jsx(R,{variant:"secondary",onClick:j,icon:r.jsx(nt,{size:16}),children:"새로고침"})]})]}),r.jsx(Zp,{columns:b,data:e,loading:n,emptyMessage:"등록된 근로자가 없습니다."})]})}),r.jsx(tf,{isOpen:l,onClose:()=>a(!1),onSubmit:f,initialData:o,mode:i})]})}const nf=[{value:"GENERAL",label:"일반건강진단"},{value:"SPECIAL",label:"특수건강진단"},{value:"EMPLOYMENT",label:"채용시건강진단"},{value:"PERIODIC",label:"정기건강진단"}],sf=[{value:"NORMAL",label:"정상"},{value:"OBSERVATION",label:"요관찰"},{value:"ABNORMAL",label:"유소견"},{value:"TREATMENT",label:"치료요구"}];function lf({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var w,d,j,g,m,u;const[a,i]=E.useState([]),[c,o]=E.useState({worker_id:0,exam_type:"GENERAL",exam_date:new Date().toISOString().split("T")[0],exam_result:"NORMAL",exam_institution:"",doctor_name:"",followup_required:"N",notes:"",vital_signs:{height:void 0,weight:void 0,blood_pressure_systolic:void 0,blood_pressure_diastolic:void 0,pulse:void 0,temperature:void 0},lab_results:[]}),{fetchApi:p}=We();E.useEffect(()=>{e&&y()},[e]),E.useEffect(()=>{o(s||{worker_id:0,exam_type:"GENERAL",exam_date:new Date().toISOString().split("T")[0],exam_result:"NORMAL",exam_institution:"",doctor_name:"",followup_required:"N",notes:"",vital_signs:{height:void 0,weight:void 0,blood_pressure_systolic:void 0,blood_pressure_diastolic:void 0,pulse:void 0,temperature:void 0},lab_results:[]})},[s]);const y=async()=>{try{const f=await p("/workers");i(f.items||[])}catch(f){console.error("근로자 목록 조회 실패:",f)}},v=f=>{if(f.preventDefault(),!c.worker_id||c.worker_id===0){alert("근로자를 선택해주세요.");return}const b=new Date(c.exam_date),x=new Date(b);c.exam_type==="SPECIAL"?x.setMonth(x.getMonth()+6):x.setFullYear(x.getFullYear()+1);const k={...c,next_exam_date:x.toISOString().split("T")[0]};n(k)},h=f=>{const{name:b,value:x}=f.target;if(b.startsWith("vital_")){const k=b.replace("vital_","");o(N=>({...N,vital_signs:{...N.vital_signs,[k]:x?Number(x):void 0}}))}else o(k=>({...k,[b]:b==="worker_id"?Number(x):x}))};return r.jsx(Lt,{isOpen:e,onClose:t,title:l==="create"?"건강진단 등록":"건강진단 수정",size:"xl",children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(Wr,{className:"mr-2",size:20}),"기본 정보"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["근로자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"worker_id",value:c.worker_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:l==="edit",children:[r.jsx("option",{value:0,children:"근로자 선택"}),a.map(f=>r.jsxs("option",{value:f.id,children:[f.name," (",f.employee_id,")"]},f.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["검진유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"exam_type",value:c.exam_type,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:nf.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["검진일자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"exam_date",value:c.exam_date,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["검진결과 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"exam_result",value:c.exam_result,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:sf.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"검진기관"}),r.jsx("input",{type:"text",name:"exam_institution",value:c.exam_institution,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"검진기관명"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"담당의사"}),r.jsx("input",{type:"text",name:"doctor_name",value:c.doctor_name,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"담당의사명"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"followup_required",checked:c.followup_required==="Y",onChange:f=>o(b=>({...b,followup_required:f.target.checked?"Y":"N"})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"사후관리 필요"})]})})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"생체징후"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"신장 (cm)"}),r.jsx("input",{type:"number",name:"vital_height",value:((w=c.vital_signs)==null?void 0:w.height)||"",onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"체중 (kg)"}),r.jsx("input",{type:"number",name:"vital_weight",value:((d=c.vital_signs)==null?void 0:d.weight)||"",onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"맥박 (bpm)"}),r.jsx("input",{type:"number",name:"vital_pulse",value:((j=c.vital_signs)==null?void 0:j.pulse)||"",onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"수축기 혈압 (mmHg)"}),r.jsx("input",{type:"number",name:"vital_blood_pressure_systolic",value:((g=c.vital_signs)==null?void 0:g.blood_pressure_systolic)||"",onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이완기 혈압 (mmHg)"}),r.jsx("input",{type:"number",name:"vital_blood_pressure_diastolic",value:((m=c.vital_signs)==null?void 0:m.blood_pressure_diastolic)||"",onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"체온 (°C)"}),r.jsx("input",{type:"number",name:"vital_temperature",value:((u=c.vital_signs)==null?void 0:u.temperature)||"",onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:c.notes,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"검진 결과 상세 내용, 주의사항 등"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsxs(R,{variant:"secondary",onClick:t,children:[r.jsx(Sn,{size:16}),"취소"]}),r.jsx(R,{type:"submit",icon:r.jsx(it,{size:16}),children:l==="create"?"등록":"수정"})]})]})})}function af(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState(!1),[o,p]=E.useState("create"),[y,v]=E.useState(null),{fetchApi:h}=We();E.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const x=await h("/health-exams");t(x.items||[])}catch(x){console.error("건강진단 목록 조회 실패:",x),t([])}finally{s(!1)}},d=()=>{p("create"),v(null),c(!0)},j=x=>{p("edit"),v(x),c(!0)},g=async x=>{if(confirm("정말 삭제하시겠습니까?"))try{await h(`/health-exams/${x}`,{method:"DELETE"}),await w()}catch(k){console.error("건강진단 삭제 실패:",k)}},m=async x=>{try{o==="create"?await h("/health-exams",{method:"POST",body:JSON.stringify(x)}):y&&await h(`/health-exams/${y.id}`,{method:"PUT",body:JSON.stringify(x)}),c(!1),await w()}catch(k){console.error("건강진단 저장 실패:",k)}},u=x=>{switch(x){case"정상":case"NORMAL":return"bg-green-100 text-green-800";case"요관찰":case"OBSERVATION":return"bg-yellow-100 text-yellow-800";case"유소견":case"ABNORMAL":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=x=>{switch(x){case"NORMAL":return"정상";case"OBSERVATION":return"요관찰";case"ABNORMAL":return"유소견";case"TREATMENT":return"치료요구";default:return x}},b=e.filter(x=>x.worker_name&&x.worker_name.toLowerCase().includes(l.toLowerCase())||x.exam_type.toLowerCase().includes(l.toLowerCase()));return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"건강진단 관리"}),r.jsxs(R,{onClick:d,className:"flex items-center gap-2",children:[r.jsx(qe,{className:"w-4 h-4"}),"건강진단 등록"]})]}),r.jsx(I,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"근로자명 또는 진단유형으로 검색...",value:l,onChange:x=>a(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx(R,{variant:"outline",onClick:w,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Se,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 건강진단"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"정상"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(x=>x.exam_result==="NORMAL"||x.exam_result==="정상").length})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(Nr,{className:"w-4 h-4 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"요관찰"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(x=>x.exam_result==="OBSERVATION"||x.exam_result==="요관찰").length})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Nr,{className:"w-4 h-4 text-red-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"유소견"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(x=>x.exam_result==="ABNORMAL"||x.exam_result==="유소견").length})]})]})})]}),r.jsx(I,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"근로자명"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"진단유형"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"검진일자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"결과"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"다음 검진일"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):b.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"건강진단 기록이 없습니다."})}):b.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.worker_name||`근로자 ID: ${x.worker_id}`}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.exam_type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.exam_date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx($,{className:u(x.exam_result),children:f(x.exam_result)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.next_exam_date?new Date(x.next_exam_date).toLocaleDateString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>j(x),className:"text-blue-600 hover:text-blue-800",children:r.jsx(Pr,{size:16})}),r.jsx("button",{onClick:()=>g(x.id),className:"text-red-600 hover:text-red-800",children:r.jsx(Nt,{size:16})})]})})]},x.id))})]})})}),r.jsx(lf,{isOpen:i,onClose:()=>c(!1),onSubmit:m,initialData:y,mode:o})]})}const of=["소음","분진","화학물질","온도","습도","조도","환기","유해광선"],cf=["적합","부적합","측정중"],uf=()=>{const[e,t]=E.useState([]),[n,s]=E.useState(!1),[l,a]=E.useState(!1),[i,c]=E.useState(null),[o,p]=E.useState({location:"",measurement_type:"소음",measurement_date:new Date().toISOString().split("T")[0],measured_value:0,standard_value:0,result:"측정중",re_measurement_required:"N",substance_name:"",measurement_method:"",notes:""});E.useEffect(()=>{y(),v()},[]);const y=async()=>{a(!0);try{const d=await fetch("/api/v1/work-environments/");if(d.ok){const j=await d.json();t(j.items||[])}}catch(d){console.error("작업환경측정 조회 실패:",d)}finally{a(!1)}},v=async()=>{try{const d=await fetch("/api/v1/work-environments/statistics");if(d.ok){const j=await d.json();c(j)}}catch(d){console.error("통계 조회 실패:",d)}},h=async d=>{d.preventDefault(),a(!0);try{const j=await fetch("/api/v1/work-environments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(j.ok)s(!1),p({location:"",measurement_type:"소음",measurement_date:new Date().toISOString().split("T")[0],measured_value:0,standard_value:0,result:"측정중",re_measurement_required:"N",substance_name:"",measurement_method:"",notes:""}),y(),v(),alert("작업환경측정이 등록되었습니다.");else{const g=await j.json();alert("등록 실패: "+(g.detail||"알 수 없는 오류"))}}catch(j){console.error("등록 실패:",j),alert("네트워크 오류가 발생했습니다.")}finally{a(!1)}},w=d=>{switch(d){case"적합":return"text-green-600 bg-green-100";case"부적합":return"text-red-600 bg-red-100";case"측정중":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"작업환경측정"}),r.jsx("p",{className:"text-gray-600",children:"Construction Work Environment Monitoring"})]}),r.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"+ 측정 등록"})]}),i&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"총 측정 횟수"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total_measurements})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"적합"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.pass_count})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"부적합"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.fail_count})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"재측정 필요"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.re_measurement_required})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"측정 기록"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"장소"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"측정항목"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"측정일"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"측정값"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"기준값"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"결과"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"재측정"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:l?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"등록된 측정 기록이 없습니다."})}):e.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.location}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.measurement_type}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(d.measurement_date).toLocaleDateString("ko-KR")}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.measured_value}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.standard_value}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(d.result)}`,children:d.result})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.re_measurement_required==="Y"?"필요":"불필요"})]},d.id))})]})})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"작업환경측정 등록"}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 장소 *"}),r.jsx("input",{type:"text",required:!0,value:o.location,onChange:d=>p({...o,location:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: A동 1층 작업장"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 항목 *"}),r.jsx("select",{required:!0,value:o.measurement_type,onChange:d=>p({...o,measurement_type:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:of.map(d=>r.jsx("option",{value:d,children:d},d))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 일자 *"}),r.jsx("input",{type:"date",required:!0,value:o.measurement_date,onChange:d=>p({...o,measurement_date:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정값 *"}),r.jsx("input",{type:"number",step:"0.01",required:!0,value:o.measured_value,onChange:d=>p({...o,measured_value:parseFloat(d.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"측정된 값"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"기준값 *"}),r.jsx("input",{type:"number",step:"0.01",required:!0,value:o.standard_value,onChange:d=>p({...o,standard_value:parseFloat(d.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"법적 기준값"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 결과 *"}),r.jsx("select",{required:!0,value:o.result,onChange:d=>p({...o,result:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:cf.map(d=>r.jsx("option",{value:d,children:d},d))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"물질명"}),r.jsx("input",{type:"text",value:o.substance_name,onChange:d=>p({...o,substance_name:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"화학물질명 (화학물질 측정시)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 방법"}),r.jsx("input",{type:"text",value:o.measurement_method,onChange:d=>p({...o,measurement_method:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"측정 방법 또는 장비"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"재측정 필요"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"re_measurement_required",value:"N",checked:o.re_measurement_required==="N",onChange:d=>p({...o,re_measurement_required:d.target.value}),className:"mr-2"}),"불필요"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"re_measurement_required",value:"Y",checked:o.re_measurement_required==="Y",onChange:d=>p({...o,re_measurement_required:d.target.value}),className:"mr-2"}),"필요"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{value:o.notes,onChange:d=>p({...o,notes:d.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"추가 설명 또는 특이사항"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:l?"등록 중...":"등록"}),r.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:"취소"})]})]})]})})]})},df=[{value:"법정교육",label:"법정교육"},{value:"정기교육",label:"정기교육"},{value:"특별교육",label:"특별교육"},{value:"관리감독자교육",label:"관리감독자교육"},{value:"자율교육",label:"자율교육"}];function mf({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var w;const[a,i]=E.useState({title:"",education_type:"정기교육",instructor:"",duration:3,target_workers:[""],scheduled_date:new Date().toISOString().split("T")[0],completion_rate:0,status:"scheduled",required_hours:3,description:""});E.useEffect(()=>{i(s||{title:"",education_type:"정기교육",instructor:"",duration:3,target_workers:[""],scheduled_date:new Date().toISOString().split("T")[0],completion_rate:0,status:"scheduled",required_hours:3,description:""})},[s,e]);const c=d=>{var g;d.preventDefault();const j={...a,target_workers:((g=a.target_workers)==null?void 0:g.filter(m=>m.trim()!==""))||[]};n(j)},o=d=>{const{name:j,value:g,type:m}=d.target;i(m==="number"?u=>({...u,[j]:g===""?0:Number(g)}):u=>({...u,[j]:g}))},p=(d,j)=>{i(g=>{var m;return{...g,target_workers:((m=g.target_workers)==null?void 0:m.map((u,f)=>f===d?j:u))||[]}})},y=()=>{i(d=>({...d,target_workers:[...d.target_workers||[],""]}))},v=d=>{i(j=>{var g;return{...j,target_workers:((g=j.target_workers)==null?void 0:g.filter((m,u)=>u!==d))||[]}})},h=d=>{let j=3;switch(d){case"법정교육":j=8;break;case"정기교육":j=3;break;case"특별교육":j=4;break;case"관리감독자교육":j=16;break;default:j=3}i(g=>({...g,education_type:d,required_hours:j,duration:j}))};return r.jsx(Lt,{isOpen:e,onClose:t,title:l==="create"?"보건교육 계획 등록":"보건교육 계획 수정",size:"lg",children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["교육명 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:a.title,onChange:o,placeholder:"예: 신입 근로자 안전보건교육",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["교육 유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"education_type",value:a.education_type,onChange:d=>h(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:df.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["강사 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"instructor",value:a.instructor,onChange:o,placeholder:"예: 안전관리자 김교육",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["예정일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"scheduled_date",value:a.scheduled_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["법정 필수 시간 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"required_hours",value:a.required_hours,onChange:o,min:"1",max:"40",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["실제 교육 시간 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"duration",value:a.duration,onChange:o,min:"1",max:"40",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"진행 상태"}),r.jsx("select",{name:"status",value:a.status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Kp.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"완료율 (%)"}),r.jsx("input",{type:"number",name:"completion_rate",value:a.completion_rate,onChange:o,min:"0",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["교육 대상자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(w=a.target_workers)==null?void 0:w.map((d,j)=>{var g;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:d,onChange:m=>p(j,m.target.value),placeholder:"근로자명을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:j===0}),r.jsx(R,{type:"button",variant:"outline",size:"sm",onClick:()=>v(j),disabled:((g=a.target_workers)==null?void 0:g.length)===1,children:r.jsx(Nt,{size:16})})]},j)}),r.jsxs(R,{type:"button",variant:"outline",size:"sm",onClick:y,className:"flex items-center gap-2",children:[r.jsx(qe,{size:16}),"대상자 추가"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["교육 내용 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:a.description,onChange:o,rows:4,placeholder:"교육 목적, 내용, 법적 근거 등을 상세히 기록하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"교육 유형별 법정 기준"}),r.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[r.jsxs("p",{children:["• ",r.jsx("strong",{children:"신입 근로자 (법정교육)"}),": 8시간 이상"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"정기 교육"}),": 분기별 3시간 이상"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"특별 교육"}),": 위험 작업별 2~16시간"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"관리감독자 교육"}),": 연 16시간 이상"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(R,{variant:"secondary",onClick:t,children:[r.jsx(Sn,{size:16}),"취소"]}),r.jsx(R,{type:"submit",icon:r.jsx(it,{size:16}),children:l==="create"?"교육 등록":"수정 완료"})]})]})})}function pf(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState("all"),[o,p]=E.useState(!1),[y,v]=E.useState("create"),[h,w]=E.useState(null),{fetchApi:d}=We();E.useEffect(()=>{j()},[]);const j=async()=>{try{s(!0);try{const V=new URLSearchParams;l&&V.append("search",l),i!=="all"&&V.append("status",i);const S=await d(`/educations?${V}`);if(S!=null&&S.items){t(S.items);return}}catch(V){console.log("API 연결 실패, 임시 데이터 사용:",V)}t([{id:1,title:"신입 근로자 안전보건교육",education_type:"법정교육",instructor:"안전관리자 김교육",duration:8,target_workers:["김철수","이영희","박신입"],scheduled_date:"2024-07-01",completion_rate:100,status:"completed",required_hours:8,description:"산업안전보건법 제31조에 따른 신입 근로자 안전보건교육"},{id:2,title:"정기 안전보건교육",education_type:"정기교육",instructor:"외부강사 최전문",duration:3,target_workers:["김철수","이영희","박기존","최숙련"],scheduled_date:"2024-07-15",completion_rate:75,status:"ongoing",required_hours:3,description:"분기별 정기 안전보건교육 (3시간)"},{id:3,title:"화학물질 취급 안전교육",education_type:"특별교육",instructor:"화학안전전문가 이화학",duration:4,target_workers:["박화학","최취급"],scheduled_date:"2024-07-20",completion_rate:0,status:"scheduled",required_hours:4,description:"화학물질 및 위험물 취급 근로자 대상 특별안전교육"},{id:4,title:"고소작업 안전교육",education_type:"특별교육",instructor:"안전관리자 김교육",duration:2,target_workers:["이고소","박높이"],scheduled_date:"2024-06-30",completion_rate:0,status:"cancelled",required_hours:2,description:"2m 이상 고소작업 근로자 대상 안전교육"}])}catch(D){console.error("보건교육 목록 조회 실패:",D)}finally{s(!1)}},g=()=>{v("create"),w(null),p(!0)},m=D=>{v("edit"),w(D),p(!0)},u=async D=>{try{if(y==="create")try{await d("/educations",{method:"POST",body:JSON.stringify(D)})}catch(V){console.log("API 생성 실패, 로컬 데이터에 추가:",V);const S={...D,id:Math.max(...e.map(W=>W.id),0)+1};t(W=>[S,...W])}else if(h)try{await d(`/educations/${h.id}`,{method:"PUT",body:JSON.stringify(D)})}catch(V){console.log("API 수정 실패, 로컬 데이터 수정:",V),t(S=>S.map(W=>W.id===h.id?{...W,...D}:W))}p(!1),y==="create"&&await j()}catch(V){console.error("보건교육 저장 실패:",V)}},f=D=>{switch(D){case"scheduled":return r.jsx($,{className:"bg-blue-100 text-blue-800",children:"예정"});case"ongoing":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"진행중"});case"completed":return r.jsx($,{className:"bg-green-100 text-green-800",children:"완료"});case"cancelled":return r.jsx($,{className:"bg-red-100 text-red-800",children:"취소"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},b=D=>{switch(D){case"법정교육":return r.jsx($,{className:"bg-purple-100 text-purple-800",children:"법정교육"});case"정기교육":return r.jsx($,{className:"bg-blue-100 text-blue-800",children:"정기교육"});case"특별교육":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"특별교육"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:D})}},x=e.filter(D=>{const V=D.title.toLowerCase().includes(l.toLowerCase())||D.instructor.toLowerCase().includes(l.toLowerCase()),S=i==="all"||D.status===i;return V&&S}),k=e.length,N=e.filter(D=>D.status==="completed").length,z=e.filter(D=>D.status==="ongoing").length,q=e.filter(D=>D.status==="scheduled").length;return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"보건교육 관리"}),r.jsxs(R,{onClick:g,className:"flex items-center gap-2",children:[r.jsx(qe,{className:"w-4 h-4"}),"교육 계획 등록"]})]}),r.jsx(I,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"교육명 또는 강사명으로 검색...",value:l,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:i,onChange:D=>c(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 상태"}),r.jsx("option",{value:"scheduled",children:"예정"}),r.jsx("option",{value:"ongoing",children:"진행중"}),r.jsx("option",{value:"completed",children:"완료"}),r.jsx("option",{value:"cancelled",children:"취소"})]}),r.jsx(R,{variant:"outline",onClick:j,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vi,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 교육"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ht,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"완료"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:N})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(jr,{className:"w-8 h-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"진행중"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:z})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ba,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"예정"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:q})]})]})})]}),r.jsx(I,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"교육명"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"교육유형"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"강사"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"예정일"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"시간"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"대상자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"진행률"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):x.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:"보건교육 계획이 없습니다."})}):x.map(D=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.title}),r.jsx("p",{className:"text-sm text-gray-500",children:D.description})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(D.education_type)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.instructor}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.scheduled_date}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[D.duration,"시간"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[D.target_workers.length,"명"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${D.completion_rate}%`}})}),r.jsxs("span",{className:"text-sm text-gray-500",children:[D.completion_rate,"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f(D.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex gap-2",children:r.jsxs(R,{variant:"outline",size:"sm",onClick:()=>m(D),children:[r.jsx(Pr,{size:14}),"편집"]})})})]},D.id))})]})})}),r.jsx(I,{children:r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(vi,{className:"w-5 h-5 text-purple-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-purple-900 mb-1",children:"산업안전보건법 교육 의무"}),r.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[r.jsx("p",{children:"• 신입 근로자: 8시간 이상"}),r.jsx("p",{children:"• 정기 교육: 분기별 3시간 이상"}),r.jsx("p",{children:"• 특별 교육: 위험 작업 종사자 대상"}),r.jsx("p",{children:"• 관리감독자: 연 16시간 이상"})]})]})]})})}),r.jsx(mf,{isOpen:o,onClose:()=>p(!1),onSubmit:u,initialData:h,mode:y})]})}const ff=[{value:"인화성 액체",label:"인화성 액체"},{value:"독성 물질",label:"독성 물질"},{value:"부식성 물질",label:"부식성 물질"},{value:"발암성 물질",label:"발암성 물질"},{value:"산화성 물질",label:"산화성 물질"},{value:"압축가스",label:"압축가스"},{value:"폭발성 물질",label:"폭발성 물질"},{value:"방사성 물질",label:"방사성 물질"},{value:"기타",label:"기타"}],xf=[{value:"L",label:"L (리터)"},{value:"kg",label:"kg (킬로그램)"},{value:"g",label:"g (그램)"},{value:"mL",label:"mL (밀리리터)"},{value:"m³",label:"m³ (세제곱미터)"},{value:"개",label:"개"}];function hf({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var w;const[a,i]=E.useState({name:"",cas_number:"",manufacturer:"",supplier:"",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!1,msds_updated_date:new Date().toISOString().split("T")[0],storage_location:"",quantity:0,unit:"L",last_inspection_date:new Date().toISOString().split("T")[0],expiry_date:"",safety_measures:[""],responsible_person:"",notes:""});E.useEffect(()=>{i(s||{name:"",cas_number:"",manufacturer:"",supplier:"",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!1,msds_updated_date:new Date().toISOString().split("T")[0],storage_location:"",quantity:0,unit:"L",last_inspection_date:new Date().toISOString().split("T")[0],expiry_date:"",safety_measures:[""],responsible_person:"",notes:""})},[s,e]);const c=d=>{var g;d.preventDefault();const j={...a,safety_measures:((g=a.safety_measures)==null?void 0:g.filter(m=>m.trim()!==""))||[]};n(j)},o=d=>{const{name:j,value:g,type:m}=d.target;i(m==="checkbox"?u=>({...u,[j]:d.target.checked}):m==="number"?u=>({...u,[j]:g===""?0:Number(g)}):u=>({...u,[j]:g}))},p=(d,j)=>{i(g=>{var m;return{...g,safety_measures:((m=g.safety_measures)==null?void 0:m.map((u,f)=>f===d?j:u))||[]}})},y=()=>{i(d=>({...d,safety_measures:[...d.safety_measures||[],""]}))},v=d=>{i(j=>{var g;return{...j,safety_measures:((g=j.safety_measures)==null?void 0:g.filter((m,u)=>u!==d))||[]}})},h=d=>{let j="medium";switch(d){case"발암성 물질":case"방사성 물질":case"폭발성 물질":j="very_high";break;case"독성 물질":case"부식성 물질":j="high";break;case"인화성 액체":case"산화성 물질":j="medium";break;default:j="low"}i(g=>({...g,hazard_class:d,hazard_level:j}))};return r.jsx(Lt,{isOpen:e,onClose:t,title:l==="create"?"화학물질 등록":"화학물질 정보 수정",size:"xl",children:r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["화학물질명 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:a.name,onChange:o,placeholder:"예: 아세톤",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CAS 번호 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"cas_number",value:a.cas_number,onChange:o,placeholder:"예: 67-64-1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["제조사 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"manufacturer",value:a.manufacturer,onChange:o,placeholder:"예: 한국화학 주식회사",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["공급업체 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"supplier",value:a.supplier,onChange:o,placeholder:"예: 산업화학 유통",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["위험 분류 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"hazard_class",value:a.hazard_class,onChange:d=>h(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:ff.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["위험 등급 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"hazard_level",value:a.hazard_level,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Yp.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["보관 장소 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"storage_location",value:a.storage_location,onChange:o,placeholder:"예: 화학물질 저장소 A동",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["보관량 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"quantity",value:a.quantity,onChange:o,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["단위 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"unit",value:a.unit,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:xf.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["관리책임자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"responsible_person",value:a.responsible_person,onChange:o,placeholder:"예: 김화학",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["최근 점검일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"last_inspection_date",value:a.last_inspection_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"유효기간"}),r.jsx("input",{type:"date",name:"expiry_date",value:a.expiry_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["MSDS 업데이트일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"msds_updated_date",value:a.msds_updated_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"msds_available",checked:a.msds_available,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"MSDS (물질안전보건자료) 보유"})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["안전 조치사항 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(w=a.safety_measures)==null?void 0:w.map((d,j)=>{var g;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:d,onChange:m=>p(j,m.target.value),placeholder:"안전 조치사항을 입력하세요 (예: 방화, 환기, 개인보호구 착용)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:j===0}),r.jsx(R,{type:"button",variant:"outline",size:"sm",onClick:()=>v(j),disabled:((g=a.safety_measures)==null?void 0:g.length)===1,children:r.jsx(Nt,{size:16})})]},j)}),r.jsxs(R,{type:"button",variant:"outline",size:"sm",onClick:y,className:"flex items-center gap-2",children:[r.jsx(qe,{size:16}),"안전조치 추가"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,placeholder:"특별 주의사항, 보관 조건, 기타 중요 정보를 기록하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-orange-900 mb-2",children:"화학물질 위험 등급 기준"}),r.jsxs("div",{className:"text-xs text-orange-700 space-y-1",children:[r.jsxs("p",{children:["• ",r.jsx("strong",{children:"매우 높음"}),": 발암성, 방사성, 폭발성 물질"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"높음"}),": 독성, 부식성 물질"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"보통"}),": 인화성, 산화성 물질"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"낮음"}),": 일반적인 화학물질"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(R,{variant:"secondary",onClick:t,children:[r.jsx(Sn,{size:16}),"취소"]}),r.jsx(R,{type:"submit",icon:r.jsx(it,{size:16}),children:l==="create"?"화학물질 등록":"수정 완료"})]})]})})}function gf(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState("all"),[o,p]=E.useState("all"),[y,v]=E.useState(!1),[h,w]=E.useState("create"),[d,j]=E.useState(null),{fetchApi:g}=We();E.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);try{const T=new URLSearchParams;l&&T.append("search",l),i!=="all"&&T.append("hazard_level",i),o!=="all"&&T.append("msds_status",o);const U=await g(`/chemicals?${T}`);if(U!=null&&U.items){t(U.items);return}}catch(T){console.log("API 연결 실패, 임시 데이터 사용:",T)}t([{id:1,name:"아세톤",cas_number:"67-64-1",manufacturer:"한국화학 주식회사",supplier:"산업화학 유통",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!0,msds_updated_date:"2024-03-15",storage_location:"화학물질 저장소 A동",quantity:200,unit:"L",last_inspection_date:"2024-06-20",expiry_date:"2025-12-31",safety_measures:["방화","환기","개인보호구 착용"],responsible_person:"김화학",notes:"환기 시설 필수"},{id:2,name:"메탄올",cas_number:"67-56-1",manufacturer:"대한화학공업",supplier:"케미칼 솔루션",hazard_class:"독성 물질",hazard_level:"high",msds_available:!0,msds_updated_date:"2024-02-28",storage_location:"특별관리구역 B",quantity:50,unit:"L",last_inspection_date:"2024-06-22",expiry_date:"2025-08-30",safety_measures:["독성 경고","밀폐 보관","특별 환기"],responsible_person:"이안전",notes:"취급 시 특별 주의 필요"},{id:3,name:"톨루엔",cas_number:"108-88-3",manufacturer:"글로벌 케미칼",supplier:"화학물질 전문",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!1,msds_updated_date:"2023-12-15",storage_location:"화학물질 저장소 A동",quantity:100,unit:"L",last_inspection_date:"2024-06-18",expiry_date:"2025-10-15",safety_measures:["방화","호흡보호구"],responsible_person:"박관리",notes:"MSDS 업데이트 필요"},{id:4,name:"염산",cas_number:"7647-01-0",manufacturer:"화학산업 코퍼레이션",supplier:"산업용품 공급",hazard_class:"부식성 물질",hazard_level:"very_high",msds_available:!0,msds_updated_date:"2024-05-10",storage_location:"특별관리구역 C",quantity:25,unit:"L",last_inspection_date:"2024-06-25",expiry_date:"2026-01-20",safety_measures:["부식 방지","산성 중화제 비치","완전 밀폐"],responsible_person:"최화학",notes:"최고 위험 등급"},{id:5,name:"벤젠",cas_number:"71-43-2",manufacturer:"페트로 케미칼",supplier:"전문화학 유통",hazard_class:"발암성 물질",hazard_level:"very_high",msds_available:!0,msds_updated_date:"2024-04-05",storage_location:"특별관리구역 D",quantity:10,unit:"L",last_inspection_date:"2024-06-23",expiry_date:"2025-09-30",safety_measures:["발암물질 경고","완전 밀폐","특별 모니터링"],responsible_person:"정전문",notes:"발암물질 - 극도 주의"}])}catch(L){console.error("화학물질 목록 조회 실패:",L)}finally{s(!1)}},u=()=>{w("create"),j(null),v(!0)},f=L=>{w("edit"),j(L),v(!0)},b=async L=>{try{if(h==="create")try{await g("/chemicals",{method:"POST",body:JSON.stringify(L)})}catch(T){console.log("API 생성 실패, 로컬 데이터에 추가:",T);const U={...L,id:Math.max(...e.map(Q=>Q.id),0)+1};t(Q=>[U,...Q])}else if(d)try{await g(`/chemicals/${d.id}`,{method:"PUT",body:JSON.stringify(L)})}catch(T){console.log("API 수정 실패, 로컬 데이터 수정:",T),t(U=>U.map(Q=>Q.id===d.id?{...Q,...L}:Q))}v(!1),h==="create"&&await m()}catch(T){console.error("화학물질 저장 실패:",T)}},x=L=>{switch(L){case"low":return r.jsx($,{className:"bg-green-100 text-green-800",children:"낮음"});case"medium":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"보통"});case"high":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"높음"});case"very_high":return r.jsx($,{className:"bg-red-100 text-red-800",children:"매우 높음"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},k=(L,T)=>{const U=new Date(T)>new Date(Date.now()-31536e6);return L&&U?r.jsx($,{className:"bg-green-100 text-green-800",children:"최신"}):L?r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"업데이트 필요"}):r.jsx($,{className:"bg-red-100 text-red-800",children:"없음"})},N=e.filter(L=>{const T=L.name.toLowerCase().includes(l.toLowerCase())||L.cas_number.includes(l)||L.manufacturer.toLowerCase().includes(l.toLowerCase()),U=i==="all"||L.hazard_level===i,Q=o==="all"||o==="available"&&L.msds_available||o==="missing"&&!L.msds_available;return T&&U&&Q}),z=e.length,q=e.filter(L=>L.hazard_level==="high"||L.hazard_level==="very_high").length,D=e.filter(L=>!L.msds_available).length,V=e.filter(L=>{if(!L.expiry_date)return!1;const T=new Date(L.expiry_date),U=new Date(Date.now()+90*24*60*60*1e3);return T<=U}).length,S=L=>{console.log("MSDS 보기:",L.name)},W=L=>{console.log("MSDS 다운로드:",L.name)};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"화학물질 관리"}),r.jsxs(R,{onClick:u,className:"flex items-center gap-2",children:[r.jsx(qe,{className:"w-4 h-4"}),"화학물질 등록"]})]}),r.jsx(I,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"화학물질명, CAS번호, 제조사로 검색...",value:l,onChange:L=>a(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:i,onChange:L=>c(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 위험도"}),r.jsx("option",{value:"low",children:"낮음"}),r.jsx("option",{value:"medium",children:"보통"}),r.jsx("option",{value:"high",children:"높음"}),r.jsx("option",{value:"very_high",children:"매우 높음"})]}),r.jsxs("select",{value:o,onChange:L=>p(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 MSDS"}),r.jsx("option",{value:"available",children:"MSDS 있음"}),r.jsx("option",{value:"missing",children:"MSDS 없음"})]}),r.jsx(R,{variant:"outline",onClick:m,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Se,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 화학물질"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(jt,{className:"w-8 h-8 text-red-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"고위험 물질"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:q})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Se,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"MSDS 누락"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:D})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(jt,{className:"w-8 h-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"유효기간 임박"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:V})]})]})})]}),r.jsx(I,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"화학물질정보"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"제조/공급사"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"위험등급"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"보관정보"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MSDS"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):N.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"화학물질이 없습니다."})}):N.map(L=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:L.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["CAS: ",L.cas_number]}),r.jsx("p",{className:"text-xs text-gray-400",children:L.hazard_class})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:L.manufacturer}),r.jsx("p",{className:"text-sm text-gray-500",children:L.supplier})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(L.hazard_level)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:L.storage_location}),r.jsxs("p",{className:"text-sm text-gray-500",children:[L.quantity," ",L.unit]}),L.expiry_date&&r.jsxs("p",{className:"text-xs text-gray-400",children:["만료: ",L.expiry_date]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[k(L.msds_available,L.msds_updated_date),r.jsxs("p",{className:"text-xs text-gray-400",children:["업데이트: ",L.msds_updated_date]}),L.msds_available&&r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>S(L),className:"text-blue-600 hover:text-blue-800",title:"MSDS 보기",children:r.jsx(Wt,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>W(L),className:"text-green-600 hover:text-green-800",title:"MSDS 다운로드",children:r.jsx(wr,{className:"w-3 h-3"})})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.responsible_person}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex gap-2",children:r.jsxs(R,{variant:"outline",size:"sm",onClick:()=>f(L),children:[r.jsx(Pr,{size:14}),"편집"]})})})]},L.id))})]})})}),r.jsx(I,{children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jt,{className:"w-5 h-5 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-900 mb-1",children:"화학물질 안전관리 준수사항"}),r.jsxs("div",{className:"text-sm text-red-700 space-y-1",children:[r.jsx("p",{children:"• MSDS(물질안전보건자료) 비치 및 정기 업데이트 필수"}),r.jsx("p",{children:"• 화학물질별 적절한 보관 조건 및 안전조치 이행"}),r.jsx("p",{children:"• 취급 근로자 대상 정기 안전교육 실시"}),r.jsx("p",{children:"• 화학물질 취급일지 작성 및 관리"}),r.jsx("p",{children:"• 유해화학물질 노출 모니터링 및 건강진단"})]})]})]})})}),r.jsx(hf,{isOpen:y,onClose:()=>v(!1),onSubmit:b,initialData:d,mode:h})]})}function yf({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var h,w,d,j;const[a,i]=E.useState({incident_date:new Date().toISOString().split("T")[0],report_date:new Date().toISOString().split("T")[0],location:"",injured_person:"",department:"",accident_type:((h=bl[0])==null?void 0:h.value)||"fall",severity:"minor",injury_type:"",description:"",immediate_cause:"",root_cause:"",corrective_actions:[""],preventive_measures:[""],reported_by:"",investigated_by:"",investigation_date:new Date().toISOString().split("T")[0],status:"reported",follow_up_required:!1,follow_up_date:"",cost_estimate:0,lost_work_days:0,witnesses:[""],photos_attached:!1,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:""});E.useEffect(()=>{var g;i(s||{incident_date:new Date().toISOString().split("T")[0],report_date:new Date().toISOString().split("T")[0],location:"",injured_person:"",department:"",accident_type:((g=bl[0])==null?void 0:g.value)||"fall",severity:"minor",injury_type:"",description:"",immediate_cause:"",root_cause:"",corrective_actions:[""],preventive_measures:[""],reported_by:"",investigated_by:"",investigation_date:new Date().toISOString().split("T")[0],status:"reported",follow_up_required:!1,follow_up_date:"",cost_estimate:0,lost_work_days:0,witnesses:[""],photos_attached:!1,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:""})},[s,e]);const c=g=>{var u,f,b;if(g.preventDefault(),l==="create"&&!a.report_number){const x=new Date().getFullYear(),k=Math.floor(Math.random()*1e3).toString().padStart(3,"0");a.report_number=`ACC-${x}-${k}`}const m={...a,corrective_actions:((u=a.corrective_actions)==null?void 0:u.filter(x=>x.trim()!==""))||[],preventive_measures:((f=a.preventive_measures)==null?void 0:f.filter(x=>x.trim()!==""))||[],witnesses:((b=a.witnesses)==null?void 0:b.filter(x=>x.trim()!==""))||[]};n(m)},o=g=>{const{name:m,value:u,type:f}=g.target;i(f==="checkbox"?b=>({...b,[m]:g.target.checked}):f==="number"?b=>({...b,[m]:u===""?0:Number(u)}):b=>({...b,[m]:u}))},p=(g,m,u)=>{i(f=>{var b;return{...f,[g]:((b=f[g])==null?void 0:b.map((x,k)=>k===m?u:x))||[]}})},y=g=>{i(m=>({...m,[g]:[...m[g]||[],""]}))},v=(g,m)=>{i(u=>{var f;return{...u,[g]:((f=u[g])==null?void 0:f.filter((b,x)=>x!==m))||[]}})};return r.jsx(Lt,{isOpen:e,onClose:t,title:l==="create"?"사고 신고 등록":"사고 보고서 수정",size:"xl",children:r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 발생일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"incident_date",value:a.incident_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["신고일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"report_date",value:a.report_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 장소 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"location",value:a.location,onChange:o,placeholder:"예: 건설 현장 A구역",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["부상자명 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"injured_person",value:a.injured_person,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["소속 부서 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"department",value:a.department,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"accident_type",value:a.accident_type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:bl.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["심각도 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"severity",value:a.severity,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Qp.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["부상 유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"injury_type",value:a.injury_type,onChange:o,placeholder:"예: 타박상, 골절",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 경위 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:a.description,onChange:o,rows:3,placeholder:"사고 발생 경위를 상세히 기록하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["직접 원인 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"immediate_cause",value:a.immediate_cause,onChange:o,placeholder:"예: 안전대 미착용",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["근본 원인 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"root_cause",value:a.root_cause,onChange:o,placeholder:"예: 안전교육 부족 및 안전점검 소홀",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시정 조치사항"}),(w=a.corrective_actions)==null?void 0:w.map((g,m)=>{var u;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:g,onChange:f=>p("corrective_actions",m,f.target.value),placeholder:"시정 조치사항을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(R,{type:"button",variant:"outline",size:"sm",onClick:()=>v("corrective_actions",m),disabled:((u=a.corrective_actions)==null?void 0:u.length)===1,children:r.jsx(Nt,{size:16})})]},m)}),r.jsxs(R,{type:"button",variant:"outline",size:"sm",onClick:()=>y("corrective_actions"),className:"flex items-center gap-2",children:[r.jsx(qe,{size:16}),"조치사항 추가"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예방 대책"}),(d=a.preventive_measures)==null?void 0:d.map((g,m)=>{var u;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:g,onChange:f=>p("preventive_measures",m,f.target.value),placeholder:"예방 대책을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(R,{type:"button",variant:"outline",size:"sm",onClick:()=>v("preventive_measures",m),disabled:((u=a.preventive_measures)==null?void 0:u.length)===1,children:r.jsx(Nt,{size:16})})]},m)}),r.jsxs(R,{type:"button",variant:"outline",size:"sm",onClick:()=>y("preventive_measures"),className:"flex items-center gap-2",children:[r.jsx(qe,{size:16}),"예방대책 추가"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"목격자"}),(j=a.witnesses)==null?void 0:j.map((g,m)=>{var u;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:g,onChange:f=>p("witnesses",m,f.target.value),placeholder:"목격자명을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(R,{type:"button",variant:"outline",size:"sm",onClick:()=>v("witnesses",m),disabled:((u=a.witnesses)==null?void 0:u.length)===1,children:r.jsx(Nt,{size:16})})]},m)}),r.jsxs(R,{type:"button",variant:"outline",size:"sm",onClick:()=>y("witnesses"),className:"flex items-center gap-2",children:[r.jsx(qe,{size:16}),"목격자 추가"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"신고자"}),r.jsx("input",{type:"text",name:"reported_by",value:a.reported_by,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"조사자"}),r.jsx("input",{type:"text",name:"investigated_by",value:a.investigated_by,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"조사일"}),r.jsx("input",{type:"date",name:"investigation_date",value:a.investigation_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"처리상태"}),r.jsxs("select",{name:"status",value:a.status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"reported",children:"신고됨"}),r.jsx("option",{value:"investigating",children:"조사중"}),r.jsx("option",{value:"action_required",children:"조치필요"}),r.jsx("option",{value:"completed",children:"완료"}),r.jsx("option",{value:"closed",children:"종료"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"휴업일수"}),r.jsx("input",{type:"number",name:"lost_work_days",value:a.lost_work_days,onChange:o,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예상 비용 (원)"}),r.jsx("input",{type:"number",name:"cost_estimate",value:a.cost_estimate,onChange:o,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"follow_up_required",checked:a.follow_up_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"후속 조치 필요"})]}),a.follow_up_required&&r.jsxs("div",{className:"ml-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"후속 조치 예정일"}),r.jsx("input",{type:"date",name:"follow_up_date",value:a.follow_up_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"medical_treatment_required",checked:a.medical_treatment_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"의료 치료 필요"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"government_notification_required",checked:a.government_notification_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"정부 신고 대상"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"government_reported",checked:a.government_reported,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"정부 신고 완료"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"photos_attached",checked:a.photos_attached,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"사진 첨부됨"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(R,{variant:"secondary",onClick:t,children:[r.jsx(Sn,{size:16}),"취소"]}),r.jsx(R,{type:"submit",icon:r.jsx(it,{size:16}),children:l==="create"?"사고 신고":"수정 완료"})]})]})})}function vf(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState("all"),[o,p]=E.useState("all");E.useState("all");const[y,v]=E.useState(!1),[h,w]=E.useState("create"),[d,j]=E.useState(null),[g,m]=E.useState(!1),{fetchApi:u}=We();E.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);try{const U=new URLSearchParams;l&&U.append("search",l),i!=="all"&&U.append("severity",i),o!=="all"&&U.append("status",o);const Q=await u(`/accidents?${U}`);if(Q!=null&&Q.items){t(Q.items);return}}catch(U){console.log("API 연결 실패, 임시 데이터 사용:",U)}t([{id:1,report_number:"ACC-2024-001",incident_date:"2024-06-20",report_date:"2024-06-20",location:"건설 현장 A구역",injured_person:"김철수",department:"건설팀",accident_type:"추락",severity:"moderate",injury_type:"타박상, 골절",description:"비계 작업 중 안전대 미착용으로 인한 2m 높이에서 추락",immediate_cause:"안전대 미착용",root_cause:"안전교육 부족 및 안전점검 소홀",corrective_actions:["안전대 착용 의무화","현장 안전교육 실시"],preventive_measures:["안전점검 강화","안전교육 정기화"],reported_by:"현장 감독자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-21",status:"action_required",follow_up_required:!0,follow_up_date:"2024-07-20",cost_estimate:15e5,lost_work_days:14,witnesses:["박목격","최현장"],photos_attached:!0,medical_treatment_required:!0,government_notification_required:!0,government_reported:!0,notes:"중상 사고로 정부 신고 완료"},{id:2,report_number:"ACC-2024-002",incident_date:"2024-06-15",report_date:"2024-06-15",location:"기계실 B동",injured_person:"이영희",department:"정비팀",accident_type:"협착",severity:"minor",injury_type:"손가락 찰과상",description:"기계 정비 중 손가락이 기계 부품에 협착됨",immediate_cause:"보호장갑 미착용",root_cause:"개인보호구 관리 부주의",corrective_actions:["보호장갑 착용 확인"],preventive_measures:["개인보호구 점검 강화"],reported_by:"당사자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-16",status:"completed",follow_up_required:!1,cost_estimate:5e4,lost_work_days:0,witnesses:[],photos_attached:!1,medical_treatment_required:!0,government_notification_required:!1,government_reported:!1,notes:"경미한 사고"},{id:3,report_number:"ACC-2024-003",incident_date:"2024-06-10",report_date:"2024-06-11",location:"화학물질 저장소",injured_person:"박화학",department:"화학팀",accident_type:"화학물질 노출",severity:"severe",injury_type:"화학 화상, 호흡기 자극",description:"화학물질 이송 중 용기 파손으로 인한 화학물질 누출 및 노출",immediate_cause:"용기 결함",root_cause:"화학물질 용기 점검 부족",corrective_actions:["화학물질 용기 전체 점검","비상 대응 절차 개선"],preventive_measures:["용기 정기 점검 체계 구축","화학물질 취급 교육 강화"],reported_by:"동료 근로자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-12",status:"investigating",follow_up_required:!0,follow_up_date:"2024-08-10",cost_estimate:3e6,lost_work_days:30,witnesses:["최목격","정현장","김동료"],photos_attached:!0,medical_treatment_required:!0,government_notification_required:!0,government_reported:!0,notes:"중대재해 조사 진행 중"},{id:4,report_number:"ACC-2024-004",incident_date:"2024-06-25",report_date:"2024-06-25",location:"주차장",injured_person:"최운전",department:"운송팀",accident_type:"차량 사고",severity:"minor",injury_type:"목 염좌",description:"후진 중 다른 차량과 접촉 사고",immediate_cause:"후방 확인 소홀",root_cause:"안전운전 교육 부족",corrective_actions:["안전운전 재교육"],preventive_measures:["후방 카메라 설치 검토"],reported_by:"당사자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-25",status:"reported",follow_up_required:!1,cost_estimate:2e5,lost_work_days:1,witnesses:["박주차"],photos_attached:!0,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:"경미한 교통사고"}])}catch(T){console.error("사고보고 목록 조회 실패:",T)}finally{s(!1)}},b=()=>{w("create"),j(null),v(!0)},x=T=>{w("edit"),j(T),v(!0)},k=T=>{j(T),m(!0)},N=async T=>{try{if(h==="create")try{await u("/accidents",{method:"POST",body:JSON.stringify(T)})}catch(U){console.log("API 생성 실패, 로컬 데이터에 추가:",U);const Q={...T,id:Math.max(...e.map(C=>C.id),0)+1,report_number:T.report_number||`ACC-${new Date().getFullYear()}-${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`};t(C=>[Q,...C])}else if(d)try{await u(`/accidents/${d.id}`,{method:"PUT",body:JSON.stringify(T)})}catch(U){console.log("API 수정 실패, 로컬 데이터 수정:",U),t(Q=>Q.map(C=>C.id===d.id?{...C,...T}:C))}v(!1),h==="create"&&await f()}catch(U){console.error("사고 보고서 저장 실패:",U)}},z=T=>{switch(T){case"minor":return r.jsx($,{className:"bg-green-100 text-green-800",children:"경미"});case"moderate":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"보통"});case"severe":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"중상"});case"fatal":return r.jsx($,{className:"bg-red-100 text-red-800",children:"사망"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},q=T=>{switch(T){case"reported":return r.jsx($,{className:"bg-blue-100 text-blue-800",children:"신고됨"});case"investigating":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"조사중"});case"action_required":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"조치필요"});case"completed":return r.jsx($,{className:"bg-green-100 text-green-800",children:"완료"});case"closed":return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"종료"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},D=e.filter(T=>{const U=T.injured_person.toLowerCase().includes(l.toLowerCase())||T.location.toLowerCase().includes(l.toLowerCase())||T.report_number.toLowerCase().includes(l.toLowerCase())||T.accident_type.toLowerCase().includes(l.toLowerCase()),Q=i==="all"||T.severity===i,C=o==="all"||T.status===o;return U&&Q&&C}),V=e.length,S=e.filter(T=>T.severity==="severe"||T.severity==="fatal").length,W=e.filter(T=>T.status==="investigating"||T.status==="action_required").length,L=e.reduce((T,U)=>T+(U.lost_work_days||0),0);return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"산업재해 관리"}),r.jsxs(R,{onClick:b,className:"flex items-center gap-2",children:[r.jsx(qe,{className:"w-4 h-4"}),"사고 신고"]})]}),r.jsx(I,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"부상자명, 장소, 신고번호, 사고유형으로 검색...",value:l,onChange:T=>a(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:i,onChange:T=>c(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 심각도"}),r.jsx("option",{value:"minor",children:"경미"}),r.jsx("option",{value:"moderate",children:"보통"}),r.jsx("option",{value:"severe",children:"중상"}),r.jsx("option",{value:"fatal",children:"사망"})]}),r.jsxs("select",{value:o,onChange:T=>p(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 상태"}),r.jsx("option",{value:"reported",children:"신고됨"}),r.jsx("option",{value:"investigating",children:"조사중"}),r.jsx("option",{value:"action_required",children:"조치필요"}),r.jsx("option",{value:"completed",children:"완료"}),r.jsx("option",{value:"closed",children:"종료"})]}),r.jsx(R,{variant:"outline",onClick:f,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Se,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 사고건수"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:V})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(jt,{className:"w-8 h-8 text-red-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"중대사고"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:S})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(jr,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"처리대기"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:W})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(on,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 휴업일수"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[L,"일"]})]})]})})]}),r.jsx(I,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"신고정보"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"부상자/장소"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"사고유형"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"심각도"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"처리상태"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"휴업일수"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"조사자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):D.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"사고 보고서가 없습니다."})}):D.map(T=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.report_number}),r.jsxs("p",{className:"text-sm text-gray-500",children:["발생: ",T.incident_date]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["신고: ",T.report_date]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.injured_person}),r.jsx("p",{className:"text-sm text-gray-500",children:T.department}),r.jsx("p",{className:"text-xs text-gray-400",children:T.location})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:T.accident_type}),r.jsx("p",{className:"text-sm text-gray-500",children:T.injury_type})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z(T.severity)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[q(T.status),T.follow_up_required&&r.jsxs("p",{className:"text-xs text-orange-600",children:["후속조치: ",T.follow_up_date]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-900",children:[T.lost_work_days||0,"일"]}),T.cost_estimate&&r.jsxs("p",{className:"text-xs text-gray-500",children:["비용: ",T.cost_estimate.toLocaleString(),"원"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:T.investigated_by}),r.jsxs("p",{className:"text-xs text-gray-500",children:["조사: ",T.investigation_date]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(R,{variant:"outline",size:"sm",onClick:()=>k(T),children:[r.jsx(Wt,{size:14}),"상세"]}),r.jsxs(R,{variant:"outline",size:"sm",onClick:()=>x(T),children:[r.jsx(Pr,{size:14}),"편집"]})]})})]},T.id))})]})})}),r.jsx(I,{children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jt,{className:"w-5 h-5 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-900 mb-1",children:"산업재해 신고 의무"}),r.jsxs("div",{className:"text-sm text-red-700 space-y-1",children:[r.jsxs("p",{children:["• ",r.jsx("strong",{children:"즉시 신고"}),": 사망, 3일 이상 요양, 동일 원인 2명 이상 부상"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"월간 신고"}),": 4일 이상 요양 재해 (매월 말일까지)"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"신고 기관"}),": 관할 지방고용노동청"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"조사 의무"}),": 재해 원인 조사 및 재발방지 대책 수립"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"미신고 시"}),": 1천만원 이하 과태료 부과"]})]})]})]})})}),r.jsx(yf,{isOpen:y,onClose:()=>v(!1),onSubmit:N,initialData:d,mode:h}),g&&d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"사고 상세 정보"}),r.jsx(R,{variant:"outline",onClick:()=>m(!1),children:"닫기"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"기본 정보"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"신고번호:"})," ",d.report_number]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"발생일:"})," ",d.incident_date]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"신고일:"})," ",d.report_date]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"장소:"})," ",d.location]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"부상자:"})," ",d.injured_person]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"부서:"})," ",d.department]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"사고 정보"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"사고유형:"})," ",d.accident_type]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"심각도:"})," ",z(d.severity)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"부상유형:"})," ",d.injury_type]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"휴업일수:"})," ",d.lost_work_days||0,"일"]}),d.cost_estimate&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"예상비용:"})," ",d.cost_estimate.toLocaleString(),"원"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"처리 상태"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"상태:"})," ",q(d.status)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"조사자:"})," ",d.investigated_by]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"조사일:"})," ",d.investigation_date]}),d.follow_up_required&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"후속조치일:"})," ",d.follow_up_date]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"사고 경위"}),r.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:d.description})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"원인 분석"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"직접원인:"})," ",d.immediate_cause]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"근본원인:"})," ",d.root_cause]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"시정 조치사항"}),r.jsx("ul",{className:"text-sm space-y-1",children:d.corrective_actions.map((T,U)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),T]},U))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"예방 대책"}),r.jsx("ul",{className:"text-sm space-y-1",children:d.preventive_measures.map((T,U)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-2 flex-shrink-0"}),T]},U))})]}),d.witnesses.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"목격자"}),r.jsx("div",{className:"text-sm",children:d.witnesses.join(", ")})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"추가 정보"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"의료치료:"})," ",d.medical_treatment_required?"필요":"불필요"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"정부신고:"})," ",d.government_notification_required?"대상":"비대상"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"신고완료:"})," ",d.government_reported?"완료":"미완료"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"사진첨부:"})," ",d.photos_attached?"있음":"없음"]}),d.notes&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"비고:"})," ",d.notes]})]})]})]})]})]})})]})}const jf={company_name:"text",department:"text",manager:"text",worker_name:"text",employee_id:"text",position:"text",visit_date:"date",exam_date:"date",creation_date:"date",date:"date",signature_date:"date",worker_count:"number",quantity:"number",quantity_2:"number",exposure_time:"number",cas_number:"text",cas_number_2:"text",phone:"tel",email:"email",description:"textarea",work_description:"textarea",counseling_topic:"textarea",health_issues:"textarea",work_environment:"textarea",improvement_suggestions:"textarea",immediate_actions:"textarea",follow_up_actions:"textarea",next_visit_plan:"textarea",safety_measures:"textarea",emergency_procedures:"textarea"},Lo={company_name:"회사명",department:"부서",manager:"관리자",worker_name:"근로자명",employee_id:"사번",position:"직위",visit_date:"방문일자",exam_date:"검진일자",creation_date:"작성일자",date:"일자",signature_date:"서명일자",worker_count:"근로자 수",quantity:"수량",quantity_2:"수량2",exposure_time:"노출시간",cas_number:"CAS 번호",cas_number_2:"CAS 번호2",site_name:"현장명",counselor:"상담자",work_type:"작업종류",participant_1:"참석자1",participant_2:"참석자2",participant_3:"참석자3",participant_4:"참석자4",counseling_topic:"상담주제",health_issues:"건강문제",work_environment:"작업환경",improvement_suggestions:"개선제안",immediate_actions:"즉시조치",follow_up_actions:"후속조치",next_visit_plan:"다음방문계획",counselor_signature:"상담자서명",manager_signature:"관리자서명",chemical_name:"화학물질명",chemical_name_2:"화학물질명2",manufacturer:"제조회사",manufacturer_2:"제조회사2",usage:"용도",usage_2:"용도2",storage_location:"보관장소",storage_location_2:"보관장소2",hazard_class:"위험등급",hazard_class_2:"위험등급2",msds_date:"MSDS 일자",msds_version:"MSDS 버전",update_date:"갱신일자",safety_measures:"안전조치",emergency_procedures:"응급처치",prepared_by:"작성자",approved_by:"승인자",year:"연도",exam_agency:"검진기관",exam_result:"검진결과",opinion:"의견",substance_name:"물질명",work_date:"작업일자",protection_equipment:"보호장비"},Nf=e=>e.includes("date")?on:e.includes("name")||e.includes("worker")?Wr:e.includes("company")||e.includes("department")?kl:e.includes("location")||e.includes("site")?rd:e.includes("phone")?nd:e.includes("email")||e.includes("mail")?sd:e.includes("number")||e.includes("count")||e.includes("quantity")?ld:e.includes("time")||e.includes("hour")?jr:e.includes("signature")||e.includes("approved")?ad:Qr;function wf({form:e,onClose:t,onSave:n}){const[s,l]=E.useState({}),[a,i]=E.useState(!1),[c,o]=E.useState(!1),[p,y]=E.useState({}),{fetchApi:v}=We();E.useEffect(()=>{const u={};e.fields.forEach(f=>{f.includes("date")?u[f]=new Date().toISOString().split("T")[0]:u[f]=""}),l(u)},[e]);const h=(u,f)=>{l(b=>({...b,[u]:f})),p[u]&&y(b=>{const x={...b};return delete x[u],x})},w=()=>{const u={};return["company_name","date","worker_name"].forEach(b=>{e.fields.includes(b)&&!s[b]&&(u[b]="필수 입력 항목입니다.")}),y(u),Object.keys(u).length===0},d=async()=>{if(!w()){alert("필수 항목을 모두 입력해주세요.");return}i(!0);try{const u=await v(`/api/v1/documents/fill-pdf/${e.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entries:[s]})});if(u.status==="success"){const f=JSON.stringify(u,null,2),b=new Blob([f],{type:"application/json"}),x=window.URL.createObjectURL(b),k=document.createElement("a");k.href=x,k.download=`${e.name_korean}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(x),document.body.removeChild(k),alert(`양식이 성공적으로 처리되었습니다.
처리된 필드: ${u.processed_fields.length}개`)}n==null||n(s),alert("PDF가 성공적으로 생성되었습니다.")}catch(u){console.error("PDF 생성 실패:",u),alert("PDF 생성 중 오류가 발생했습니다.")}finally{i(!1)}},j=()=>{if(!w()){alert("필수 항목을 모두 입력해주세요.");return}o(!0)},g=()=>{if(confirm("입력한 내용을 모두 초기화하시겠습니까?")){const u={};e.fields.forEach(f=>{f.includes("date")?u[f]=new Date().toISOString().split("T")[0]:u[f]=""}),l(u),y({})}},m=u=>{const f=jf[u]||"text",b=Lo[u]||u,x=Nf(u),k=!!p[u],N={id:u,value:s[u]||"",onChange:z=>h(u,z.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:`${b} 입력`};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:u,className:"flex items-center text-sm font-medium text-gray-700",children:[r.jsx(x,{size:16,className:"mr-2 text-gray-500"}),b,["company_name","date","worker_name"].includes(u)&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f==="textarea"?r.jsx("textarea",{...N,rows:3}):f==="number"?r.jsx("input",{...N,type:"number",min:"0",onChange:z=>h(u,parseInt(z.target.value)||0)}):r.jsx("input",{...N,type:f}),k&&r.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[r.jsx(Nr,{size:14,className:"mr-1"}),p[u]]})]},u)};return c?r.jsx(Lt,{onClose:()=>o(!1),children:r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold",children:[e.name_korean," - 미리보기"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(R,{onClick:d,disabled:a,children:[r.jsx(wr,{size:16,className:"mr-2"}),"PDF 생성"]}),r.jsx(R,{variant:"outline",onClick:()=>o(!1),children:"수정하기"})]})]}),r.jsx(I,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:e.fields.map(u=>{const f=Lo[u]||u,b=s[u];return r.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[r.jsxs("span",{className:"font-medium text-gray-700",children:[f,":"]}),r.jsx("span",{className:"text-gray-900",children:b||"-"})]},u)})})})]})}):r.jsx(Lt,{onClose:t,children:r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Qr,{className:"text-green-600 mr-3",size:24}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.name_korean}),r.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]}),r.jsxs($,{color:"blue",children:[e.fields.length,"개 필드"]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(R,{onClick:j,variant:"outline",disabled:a,children:[r.jsx(Wt,{size:16,className:"mr-2"}),"미리보기"]}),r.jsxs(R,{onClick:g,variant:"outline",children:[r.jsx(td,{size:16,className:"mr-2"}),"초기화"]})]}),r.jsx(R,{onClick:d,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"생성 중..."]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{size:16,className:"mr-2"}),"PDF 생성"]})})]}),r.jsx(I,{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.fields.map(m)})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx(Nr,{size:14,className:"inline mr-1"}),r.jsx("span",{className:"text-red-500",children:"*"})," 표시된 항목은 필수 입력 항목입니다."]})})]})})}const tr=[{id:"manual",name:"01-업무매뉴얼",description:"업무 매뉴얼 및 지침서"},{id:"legal",name:"02-법정서식",description:"법정 서식 및 양식"},{id:"register",name:"03-관리대장",description:"각종 관리대장"},{id:"checklist",name:"04-체크리스트",description:"점검 체크리스트"},{id:"education",name:"05-교육자료",description:"안전보건교육 자료"},{id:"msds",name:"06-MSDS관련",description:"MSDS 관련 자료"},{id:"special",name:"07-특별관리물질",description:"특별관리물질 관련"},{id:"health",name:"08-건강관리",description:"건강관리 관련 문서"},{id:"reference",name:"09-참고자료",description:"참고 자료 및 문서"},{id:"latest",name:"10-최신자료_2024-2025",description:"최신 자료 및 업데이트"}];function bf(){const[e,t]=E.useState("files"),[n,s]=E.useState([]),[l,a]=E.useState([]),[i,c]=E.useState([]),[o,p]=E.useState(!1),[y,v]=E.useState(""),[h,w]=E.useState(""),[d,j]=E.useState(!1),[g,m]=E.useState(!1),[u,f]=E.useState(null),[b,x]=E.useState(null),{fetchApi:k}=We();E.useEffect(()=>{N()},[e]);const N=async()=>{p(!0);try{switch(e){case"files":await z();break;case"pdf-forms":await q();break;case"categories":await D();break}}catch(_){console.error("Failed to load data:",_)}finally{p(!1)}},z=async()=>{try{const _=await k("/api/v1/documents/files");s(_||[])}catch(_){console.error("Failed to load files:",_),s([])}},q=async()=>{try{const _=await k("/api/v1/documents/pdf-forms");a((_==null?void 0:_.forms)||[])}catch(_){console.error("Failed to load PDF forms:",_),a([])}},D=async()=>{try{const _=await k("/api/v1/documents/categories");c(_||tr.map(M=>({...M,file_count:0,last_updated:new Date().toISOString()})))}catch(_){console.error("Failed to load categories:",_),c(tr.map(M=>({...M,file_count:0,last_updated:new Date().toISOString()})))}},V=_=>{t(_),v(""),w("")},S=async(_,M)=>{switch(_){case"download":window.open(`/api/v1/documents/download/${M.id}`,"_blank");break;case"view":f(M);break;case"delete":if(confirm("파일을 삭제하시겠습니까?"))try{await k(`/api/v1/documents/files/${M.id}`,{method:"DELETE"}),await z()}catch(A){console.error("Failed to delete file:",A)}break}},W=async(_,M)=>{switch(_){case"fill":x(M),m(!0);break;case"preview":x(M);break;case"download":try{const A=await fetch(`/api/v1/documents/pdf-forms/${M.id}/template`);if(A.ok){const Qe=await A.blob(),Ye=window.URL.createObjectURL(Qe),et=document.createElement("a");et.href=Ye,et.download=`${M.name_korean}_template.pdf`,document.body.appendChild(et),et.click(),window.URL.revokeObjectURL(Ye),document.body.removeChild(et)}}catch(A){console.error("Template download failed:",A),alert("템플릿 다운로드에 실패했습니다.")}break}},L=n.filter(_=>{const M=!y||_.name.toLowerCase().includes(y.toLowerCase()),A=!h||_.category===h;return M&&A}),T=l.filter(_=>{const M=!y||_.name_korean.toLowerCase().includes(y.toLowerCase())||_.name.toLowerCase().includes(y.toLowerCase()),A=!h||_.category===h;return M&&A}),U=()=>{switch(e){case"files":return Q();case"pdf-forms":return C();case"categories":return F();default:return Q()}},Q=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"파일 검색...",value:y,onChange:_=>v(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:h,onChange:_=>w(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"모든 카테고리"}),tr.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(R,{onClick:()=>z(),variant:"outline",children:[r.jsx(nt,{size:16,className:"mr-2"}),"새로고침"]}),r.jsxs(R,{onClick:()=>j(!0),children:[r.jsx(Yr,{size:16,className:"mr-2"}),"파일 업로드"]})]})]}),o?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(nt,{className:"animate-spin",size:32})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:L.map(_=>{var M;return r.jsx(I,{className:"p-6 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx(Se,{className:"text-blue-600 mr-3 flex-shrink-0",size:24}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:_.name}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(_.size/1024).toFixed(1)," KB"]})]})]}),r.jsx($,{color:_.status==="available"?"green":"yellow",className:"ml-2 flex-shrink-0",children:_.status==="available"?"사용가능":"처리중"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:((M=tr.find(A=>A.id===_.category))==null?void 0:M.name)||_.category||"기타"})}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.modified).toLocaleDateString()})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[r.jsxs(R,{size:"sm",variant:"outline",onClick:()=>S("view",_),className:"flex-1",children:[r.jsx(Wt,{size:16,className:"mr-1"}),"보기"]}),r.jsxs(R,{size:"sm",variant:"outline",onClick:()=>S("download",_),className:"flex-1",children:[r.jsx(wr,{size:16,className:"mr-1"}),"다운로드"]}),r.jsx(R,{size:"sm",variant:"outline",onClick:()=>S("delete",_),className:"text-red-600 hover:text-red-700",children:r.jsx(Nt,{size:16})})]})]})},_.id)})}),L.length===0&&!o&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Xs,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"파일이 없습니다"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"파일을 업로드하여 시작하세요."}),r.jsx("div",{className:"mt-6",children:r.jsxs(R,{onClick:()=>j(!0),children:[r.jsx(Yr,{size:16,className:"mr-2"}),"파일 업로드"]})})]})]}),C=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"양식 검색...",value:y,onChange:_=>v(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:h,onChange:_=>w(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"모든 카테고리"}),tr.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(R,{onClick:()=>q(),variant:"outline",children:[r.jsx(nt,{size:16,className:"mr-2"}),"새로고침"]})})]}),o?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(nt,{className:"animate-spin",size:32})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:T.map(_=>{var M,A;return r.jsx(I,{className:"p-6 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx(Qr,{className:"text-green-600 mr-3 flex-shrink-0",size:24}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:_.name_korean}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:_.description})]})]}),r.jsxs($,{color:"blue",className:"ml-2 flex-shrink-0",children:[((M=_.fields)==null?void 0:M.length)||0,"개 필드"]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:((A=tr.find(Qe=>Qe.id===_.category))==null?void 0:A.name)||_.category})})}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[r.jsxs(R,{size:"sm",variant:"outline",onClick:()=>W("preview",_),className:"flex-1",children:[r.jsx(Wt,{size:16,className:"mr-1"}),"미리보기"]}),r.jsxs(R,{size:"sm",onClick:()=>W("fill",_),className:"flex-1",children:[r.jsx(Pr,{size:16,className:"mr-1"}),"편집"]}),r.jsx(R,{size:"sm",variant:"outline",onClick:()=>W("download",_),children:r.jsx(wr,{size:16})})]})]})},_.id)})}),T.length===0&&!o&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Qr,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"PDF 양식이 없습니다"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"사용 가능한 PDF 양식을 확인하세요."})]})]}),F=()=>r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(_=>r.jsx(I,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Xs,{className:"text-blue-600 mr-3",size:28}),r.jsx("div",{children:r.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:_.name})})]}),r.jsxs($,{color:"gray",className:"flex-shrink-0",children:[_.file_count,"개 파일"]})]}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:_.description}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"최근 업데이트"}),r.jsx("span",{className:"text-xs text-gray-600 font-medium",children:new Date(_.last_updated).toLocaleDateString()})]})]})},_.id))})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"통합 문서관리"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs($,{color:"green",children:[r.jsx(Ht,{size:14,className:"mr-1"}),"통합완료"]})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"files",name:"파일관리",icon:id},{id:"pdf-forms",name:"PDF 양식",icon:Qr},{id:"categories",name:"카테고리",icon:Xs}].map(_=>{const M=_.icon;return r.jsxs("button",{onClick:()=>V(_.id),className:`
                  whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2
                  ${e===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[r.jsx(M,{size:16}),_.name]},_.id)})})}),U(),d&&r.jsx(Lt,{onClose:()=>j(!1),children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"파일 업로드"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx(Yr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"파일을 여기에 드래그하거나 클릭하여 선택하세요"})]})]})}),g&&b&&r.jsx(wf,{form:b,onClose:()=>{m(!1),x(null)},onSave:_=>{console.log("Form saved:",_),m(!1),x(null)}})]})}function _f(){const[e,t]=E.useState("dashboard"),[n,s]=E.useState("month"),[l,a]=E.useState([]),[i,c]=E.useState([]),[o,p]=E.useState([]),[y,v]=E.useState(!1),[h,w]=E.useState({start:"",end:""}),{fetchApi:d}=We();E.useEffect(()=>{j()},[e,n]);const j=async()=>{v(!0);try{const[N,z,q]=await Promise.all([d(`/api/v1/reports?type=${e}&range=${n}`),d(`/api/v1/reports/metrics?type=${e}&range=${n}`),d("/api/v1/reports/compliance")]);a(N||[]),c(z||[]),p(q||[])}catch(N){console.error("Failed to load report data:",N),g()}finally{v(!1)}},g=()=>{const N=[{id:"1",title:"월간 근로자 건강현황 보고서",description:"근로자 건강진단 결과 및 현황 분석",type:"health",last_generated:"2024-01-15T10:00:00Z",status:"available",download_count:15},{id:"2",title:"작업환경측정 결과 보고서",description:"유해요인 측정 결과 및 개선사항",type:"environment",last_generated:"2024-01-10T14:30:00Z",status:"available",download_count:8},{id:"3",title:"안전사고 현황 및 분석",description:"산업재해 발생현황 및 예방대책",type:"safety",last_generated:"2024-01-12T09:15:00Z",status:"available",download_count:22}],z=[{label:"총 근로자 수",value:245,change:5,trend:"up",color:"blue"},{label:"건강진단 완료율",value:"95%",change:3,trend:"up",color:"green"},{label:"안전교육 이수율",value:"87%",change:-2,trend:"down",color:"yellow"},{label:"산업재해 건수",value:2,change:-1,trend:"down",color:"green"},{label:"법령 준수율",value:"98%",change:1,trend:"up",color:"green"},{label:"작업환경 적정률",value:"92%",change:0,trend:"stable",color:"blue"}],q=[{requirement:"특수건강진단 실시",status:"compliant",due_date:"2024-06-30",responsible:"보건관리자"},{requirement:"작업환경측정",status:"pending",due_date:"2024-03-15",responsible:"환경관리자"},{requirement:"안전보건교육 실시",status:"compliant",due_date:"2024-02-28",responsible:"안전관리자"}];a(N),c(z),p(q)},m=async N=>{try{v(!0);const z=await d("/api/v1/reports/generate",{method:"POST",body:JSON.stringify({type:N,time_range:n,custom_range:n==="custom"?h:null})});z!=null&&z.download_url&&window.open(z.download_url,"_blank"),await j()}catch(z){console.error("Failed to generate report:",z)}finally{v(!1)}},u=N=>{window.open(`/api/v1/reports/download/${N}`,"_blank")},f=N=>{switch(N){case"available":return"green";case"generating":return"yellow";case"error":return"red";default:return"gray"}},b=N=>{switch(N){case"compliant":return"green";case"non_compliant":return"red";case"pending":return"yellow";default:return"gray"}},x=N=>{switch(N){case"up":return r.jsx(ln,{size:16,className:"text-green-600"});case"down":return r.jsx(ln,{size:16,className:"text-red-600 rotate-180"});default:return r.jsx(jr,{size:16,className:"text-gray-400"})}},k=[{id:"dashboard",name:"종합현황",icon:_l,color:"text-blue-600"},{id:"workers",name:"근로자관리",icon:ba,color:"text-purple-600"},{id:"health",name:"건강관리",icon:Fo,color:"text-red-600"},{id:"environment",name:"작업환경",icon:an,color:"text-green-600"},{id:"safety",name:"안전관리",icon:jt,color:"text-orange-600"},{id:"compliance",name:"법령준수",icon:Ht,color:"text-teal-600"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"종합보고서 시스템"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs($,{color:"blue",children:[r.jsx(_l,{size:14,className:"mr-1"}),"강화된 분석"]})})]}),r.jsx("div",{className:"flex flex-wrap gap-2 p-4 bg-gray-50 rounded-lg",children:k.map(N=>{const z=N.icon;return r.jsxs("button",{onClick:()=>t(N.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-lg transition-all
                ${e===N.id?"bg-white shadow-md border-2 border-blue-200":"hover:bg-white hover:shadow-sm"}
              `,children:[r.jsx(z,{size:16,className:N.color}),r.jsx("span",{className:"font-medium",children:N.name})]},N.id)})}),r.jsx(I,{className:"p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(on,{size:16,className:"text-gray-600"}),r.jsx("span",{className:"font-medium",children:"기간 선택:"})]}),r.jsx("div",{className:"flex gap-2",children:[{value:"week",label:"최근 1주"},{value:"month",label:"최근 1개월"},{value:"quarter",label:"분기"},{value:"year",label:"연간"},{value:"custom",label:"사용자 지정"}].map(N=>r.jsx("button",{onClick:()=>s(N.value),className:`
                  px-3 py-1 rounded-md text-sm transition-all
                  ${n===N.value?"bg-blue-100 text-blue-700 border border-blue-300":"hover:bg-gray-100"}
                `,children:N.label},N.value))}),n==="custom"&&r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("input",{type:"date",value:h.start,onChange:N=>w(z=>({...z,start:N.target.value})),className:"px-3 py-1 border rounded-md"}),r.jsx("span",{children:"~"}),r.jsx("input",{type:"date",value:h.end,onChange:N=>w(z=>({...z,end:N.target.value})),className:"px-3 py-1 border rounded-md"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((N,z)=>r.jsx(I,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:N.label}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.value}),N.change!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x(N.trend),r.jsxs("span",{className:`text-sm ${N.trend==="up"?"text-green-600":N.trend==="down"?"text-red-600":"text-gray-600"}`,children:[Math.abs(N.change),"% 전월 대비"]})]})]}),r.jsx($,{color:N.color,children:N.color==="green"?"양호":N.color==="yellow"?"주의":N.color==="red"?"위험":"정상"})]})},z))}),r.jsxs(I,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"사용 가능한 보고서"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(R,{onClick:()=>j(),variant:"outline",children:[r.jsx(nt,{size:16,className:"mr-2"}),"새로고침"]}),r.jsxs(R,{onClick:()=>m(e),children:[r.jsx(Se,{size:16,className:"mr-2"}),"보고서 생성"]})]})]}),y?r.jsx("div",{className:"flex justify-center items-center h-32",children:r.jsx(nt,{className:"animate-spin",size:32})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(N=>r.jsxs(I,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:N.title}),r.jsx("p",{className:"text-sm text-gray-600",children:N.description})]}),r.jsx($,{color:f(N.status),children:N.status==="available"?"사용가능":N.status==="generating"?"생성중":"오류"})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[r.jsxs("div",{children:["생성일: ",new Date(N.last_generated).toLocaleDateString()]}),r.jsxs("div",{children:["다운로드: ",N.download_count,"회"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(R,{size:"sm",variant:"outline",onClick:()=>window.open(`/api/v1/reports/preview/${N.id}`,"_blank"),children:r.jsx(Wt,{size:14})}),r.jsx(R,{size:"sm",onClick:()=>u(N.id),disabled:N.status!=="available",children:r.jsx(wr,{size:14})})]})]},N.id))})]}),r.jsxs(I,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"법령 준수 현황"}),r.jsx("div",{className:"space-y-3",children:o.map((N,z)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[N.status==="compliant"?r.jsx(Ht,{size:16,className:"text-green-600"}):N.status==="pending"?r.jsx(jr,{size:16,className:"text-yellow-600"}):r.jsx(od,{size:16,className:"text-red-600"}),r.jsx($,{color:b(N.status),children:N.status==="compliant"?"준수":N.status==="pending"?"대기":"미준수"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:N.requirement}),r.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",N.responsible,")"]})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["마감일: ",new Date(N.due_date).toLocaleDateString()]})]},z))})]})]})}function kf(){const[e,t]=E.useState("system"),[n,s]=E.useState(null),[l,a]=E.useState(null),[i,c]=E.useState(!0),[o,p]=E.useState(!1),{fetchApi:y}=We();E.useEffect(()=>{v()},[]);const v=async()=>{try{c(!0);const g={company_name:"안전건설 주식회사",company_address:"서울특별시 강남구 테헤란로 123",company_phone:"02-1234-5678",company_registration_number:"123-45-67890",business_type:"건설업",total_employees:150,safety_manager:"이안전",health_manager:"김보건",representative_name:"박대표",auto_backup_enabled:!0,backup_frequency:"daily",notification_enabled:!0,email_notifications:!0,sms_notifications:!1,report_language:"korean",data_retention_period:36,audit_log_enabled:!0,password_policy_enabled:!0,session_timeout:120,api_access_enabled:!1,maintenance_mode:!1},m={user_name:"관리자",user_email:"admin@company.com",user_phone:"010-1234-5678",user_role:"시스템 관리자",department:"안전관리팀",notification_preferences:{accidents:!0,health_exams:!0,education_reminders:!0,report_deadlines:!0,system_updates:!1},dashboard_layout:"default",theme:"light",language:"korean",timezone:"Asia/Seoul"};s(g),a(m)}catch(g){console.error("설정 조회 실패:",g)}finally{c(!1)}},h=async()=>{try{p(!0);try{await y("/settings",{method:"PUT",body:JSON.stringify({system:n,user:l})}),console.log("API 설정 저장 성공")}catch(g){console.log("API 저장 실패, 로컬 저장소 사용:",g),localStorage.setItem("healthSystem_settings",JSON.stringify({system:n,user:l,saved_at:new Date().toISOString()}))}alert("설정이 저장되었습니다.")}catch(g){console.error("설정 저장 실패:",g),alert("설정 저장에 실패했습니다.")}finally{p(!1)}},w=(g,m)=>{n&&s({...n,[g]:m})},d=(g,m)=>{l&&a({...l,[g]:m})},j=(g,m)=>{l&&a({...l,notification_preferences:{...l.notification_preferences,[g]:m}})};return i?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"설정"}),r.jsx(I,{children:r.jsx("p",{className:"text-gray-600",children:"설정을 불러오는 중..."})})]}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"시스템 설정"}),r.jsxs(R,{onClick:h,disabled:o,className:"flex items-center gap-2",children:[r.jsx(it,{className:"w-4 h-4"}),o?"저장 중...":"설정 저장"]})]}),r.jsx(I,{children:r.jsx("div",{className:"flex space-x-1 border-b",children:[{id:"system",label:"시스템 정보",icon:kl},{id:"user",label:"사용자 설정",icon:Wr},{id:"security",label:"보안 설정",icon:cs},{id:"backup",label:"백업 및 알림",icon:ji}].map(g=>r.jsxs("button",{onClick:()=>t(g.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg transition-colors ${e===g.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[r.jsx(g.icon,{className:"w-4 h-4"}),g.label]},g.id))})}),e==="system"&&n&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(I,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(kl,{className:"w-5 h-5"}),"회사 정보"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"회사명"}),r.jsx("input",{type:"text",value:n.company_name,onChange:g=>w("company_name",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주소"}),r.jsx("input",{type:"text",value:n.company_address,onChange:g=>w("company_address",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),r.jsx("input",{type:"text",value:n.company_phone,onChange:g=>w("company_phone",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사업자등록번호"}),r.jsx("input",{type:"text",value:n.company_registration_number,onChange:g=>w("company_registration_number",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"업종"}),r.jsxs("select",{value:n.business_type,onChange:g=>w("business_type",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"건설업",children:"건설업"}),r.jsx("option",{value:"제조업",children:"제조업"}),r.jsx("option",{value:"서비스업",children:"서비스업"}),r.jsx("option",{value:"기타",children:"기타"})]})]})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Wr,{className:"w-5 h-5"}),"관리자 정보"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"대표자명"}),r.jsx("input",{type:"text",value:n.representative_name,onChange:g=>w("representative_name",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"안전관리자"}),r.jsx("input",{type:"text",value:n.safety_manager,onChange:g=>w("safety_manager",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"보건관리자"}),r.jsx("input",{type:"text",value:n.health_manager,onChange:g=>w("health_manager",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"총 근로자 수"}),r.jsx("input",{type:"number",value:n.total_employees,onChange:g=>w("total_employees",parseInt(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"보고서 언어"}),r.jsxs("select",{value:n.report_language,onChange:g=>w("report_language",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"korean",children:"한국어"}),r.jsx("option",{value:"english",children:"영어"}),r.jsx("option",{value:"both",children:"한국어/영어"})]})]})]})]})})]}),e==="user"&&l&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(I,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Wr,{className:"w-5 h-5"}),"개인 정보"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사용자명"}),r.jsx("input",{type:"text",value:l.user_name,onChange:g=>d("user_name",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),r.jsx("input",{type:"email",value:l.user_email,onChange:g=>d("user_email",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),r.jsx("input",{type:"text",value:l.user_phone,onChange:g=>d("user_phone",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"역할"}),r.jsx("input",{type:"text",value:l.user_role,onChange:g=>d("user_role",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"부서"}),r.jsx("input",{type:"text",value:l.department,onChange:g=>d("department",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),r.jsx(I,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(sn,{className:"w-5 h-5"}),"알림 설정"]}),r.jsx("div",{className:"space-y-3",children:Object.entries({accidents:"사고 발생",health_exams:"건강진단 일정",education_reminders:"교육 알림",report_deadlines:"보고서 제출 기한",system_updates:"시스템 업데이트"}).map(([g,m])=>r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:l.notification_preferences[g],onChange:u=>j(g,u.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:m})]},g))}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"테마"}),r.jsxs("select",{value:l.theme,onChange:g=>d("theme",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"light",children:"라이트"}),r.jsx("option",{value:"dark",children:"다크"}),r.jsx("option",{value:"auto",children:"자동"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"대시보드 레이아웃"}),r.jsxs("select",{value:l.dashboard_layout,onChange:g=>d("dashboard_layout",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"default",children:"기본"}),r.jsx("option",{value:"compact",children:"컴팩트"}),r.jsx("option",{value:"detailed",children:"상세"})]})]})]})})]})})]}),e==="security"&&n&&r.jsx(I,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(cs,{className:"w-5 h-5"}),"보안 설정"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:"인증 설정"}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.password_policy_enabled,onChange:g=>w("password_policy_enabled",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"강력한 비밀번호 정책 사용"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"세션 타임아웃 (분)"}),r.jsx("input",{type:"number",value:n.session_timeout,onChange:g=>w("session_timeout",parseInt(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.api_access_enabled,onChange:g=>w("api_access_enabled",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"API 접근 허용"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:"감사 로그"}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.audit_log_enabled,onChange:g=>w("audit_log_enabled",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"감사 로그 기록"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"데이터 보존 기간 (개월)"}),r.jsx("input",{type:"number",value:n.data_retention_period,onChange:g=>w("data_retention_period",parseInt(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"법적 요구사항: 최소 36개월"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.maintenance_mode,onChange:g=>w("maintenance_mode",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"유지보수 모드"})]})]})]})]})}),e==="backup"&&n&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(I,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(ji,{className:"w-5 h-5"}),"백업 설정"]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.auto_backup_enabled,onChange:g=>w("auto_backup_enabled",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"자동 백업 활성화"})]}),n.auto_backup_enabled&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"백업 주기"}),r.jsxs("select",{value:n.backup_frequency,onChange:g=>w("backup_frequency",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"daily",children:"매일"}),r.jsx("option",{value:"weekly",children:"매주"}),r.jsx("option",{value:"monthly",children:"매월"})]})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(R,{variant:"outline",onClick:()=>console.log("수동 백업 실행"),className:"flex items-center gap-2",children:[r.jsx(nt,{className:"w-4 h-4"}),"수동 백업 실행"]})})]})}),r.jsx(I,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(sn,{className:"w-5 h-5"}),"시스템 알림"]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.notification_enabled,onChange:g=>w("notification_enabled",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"시스템 알림 활성화"})]}),n.notification_enabled&&r.jsxs("div",{className:"space-y-3 pl-6",children:[r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.email_notifications,onChange:g=>w("email_notifications",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"이메일 알림"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.sms_notifications,onChange:g=>w("sms_notifications",g.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"SMS 알림"})]})]})]})})]}),r.jsx(I,{children:r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"시스템 정보"}),r.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("p",{children:"• 버전: SafeWork Pro v2.0.1"}),r.jsx("p",{children:"• 빌드: 2024.06.25.001"}),r.jsx("p",{children:"• 데이터베이스: PostgreSQL 15.3"}),r.jsx("p",{children:"• 마지막 백업: 2024-06-25 02:00:00"}),r.jsxs("p",{children:["• 시스템 상태: ",r.jsx($,{className:"bg-green-100 text-green-800",children:"정상"})]})]})]})]})})})]})}const Sf=()=>{const[e,t]=E.useState([]),[n,s]=E.useState(""),[l,a]=E.useState([]),[i,c]=E.useState({}),[o,p]=E.useState(null),[y,v]=E.useState(""),[h,w]=E.useState("simple"),[d,j]=E.useState(!1),[g,m]=E.useState(null),[u,f]=E.useState(null),[b,x]=E.useState("editor"),k=E.useRef(null),{embedRef:N,actions:z}=fd(),q=async()=>{try{j(!0);const C=await fetch("/api/v1/pdf-editor/forms/"),F=await C.json();if(C.ok&&F.status==="success")t(F.forms);else throw new Error(F.detail||"양식 목록을 불러올 수 없습니다")}catch(C){console.error("양식 목록 로드 실패:",C),m("양식 목록을 불러오는 중 오류가 발생했습니다")}finally{j(!1)}},D=async C=>{try{j(!0);const F=await fetch(`/api/v1/pdf-editor/forms/${C}/fields`),_=await F.json();if(F.ok&&_.status==="success"){a(_.fields);const M={};_.fields.forEach(A=>{M[A.name]=""}),c(M)}else throw new Error(_.detail||"필드 정보를 불러올 수 없습니다")}catch(F){console.error("필드 정보 로드 실패:",F),m("필드 정보를 불러오는 중 오류가 발생했습니다")}finally{j(!1)}};Sl.useEffect(()=>{q()},[]),Sl.useEffect(()=>{n?(D(n),v(`/api/v1/pdf-editor/forms/${n}/template`)):(a([]),c({}),v(""))},[n]);const V=C=>{var _;const F=(_=C.target.files)==null?void 0:_[0];if(F&&F.type==="application/pdf"){p(F);const M=URL.createObjectURL(F);v(M),s(""),m(null),w("advanced")}else m("PDF 파일만 업로드 가능합니다")},S=(C,F)=>{c(_=>({..._,[C]:F}))},W=E.useCallback(C=>{switch(console.log("PDF 편집기 이벤트:",C),C.type){case"documentLoaded":f("PDF 문서가 성공적으로 로드되었습니다");break;case"documentSaved":f("PDF 문서가 저장되었습니다");break;case"error":m(`PDF 편집 오류: ${C.message}`);break}},[]),L=async C=>{try{z&&z.selectTool&&await z.selectTool(C)}catch(F){console.error("도구 선택 실패:",F),m("도구 선택에 실패했습니다")}},T=async(C=!0)=>{try{z&&z.submit&&(await z.submit({downloadCopyOnDevice:C}),f("PDF가 성공적으로 처리되었습니다"))}catch(F){console.error("문서 제출 실패:",F),m("문서 제출에 실패했습니다")}},U=async()=>{if(!n&&!o){m("양식을 선택하거나 PDF 파일을 업로드해주세요");return}const C=l.filter(F=>F.required&&!i[F.name]).map(F=>F.label);if(C.length>0){m(`다음 필수 항목을 입력해주세요: ${C.join(", ")}`);return}j(!0),m(null),f(null);try{let F;if(o){const _=new FormData;_.append("file",o),_.append("field_data",JSON.stringify(i)),F=await fetch("/api/v1/pdf-editor/upload-and-edit",{method:"POST",body:_})}else{const _=new FormData;Object.entries(i).forEach(([M,A])=>{_.append(M,A)}),F=await fetch(`/api/v1/pdf-editor/forms/${n}/edit`,{method:"POST",body:_})}if(F.ok){const _=await F.blob(),M=window.URL.createObjectURL(_),A=document.createElement("a");A.href=M,A.download=`편집된_${n||"PDF"}_${new Date().toISOString().slice(0,10)}.pdf`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(M),document.body.removeChild(A),f("PDF가 성공적으로 편집되어 다운로드되었습니다"),c({}),p(null),s(""),k.current&&(k.current.value="")}else{const _=await F.json();throw new Error(_.detail||"PDF 편집에 실패했습니다")}}catch(F){console.error("PDF 편집 실패:",F),m(F instanceof Error?F.message:"PDF 편집 중 오류가 발생했습니다")}finally{j(!1)}},Q=async()=>{if(!n){m("양식을 선택해주세요");return}try{const C=await fetch(`/api/v1/pdf-editor/forms/${n}/template`);if(C.ok){const F=await C.blob(),_=window.URL.createObjectURL(F),M=document.createElement("a");M.href=_;const A=e.find(Qe=>Qe.form_id===n);M.download=`${(A==null?void 0:A.name)||"template"}.pdf`,document.body.appendChild(M),M.click(),window.URL.revokeObjectURL(_),document.body.removeChild(M),f("템플릿이 다운로드되었습니다")}else throw new Error("템플릿 다운로드에 실패했습니다")}catch(C){console.error("템플릿 다운로드 실패:",C),m("템플릿 다운로드 중 오류가 발생했습니다")}};return r.jsx("div",{className:"max-w-7xl mx-auto p-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"향상된 PDF 편집기"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"브라우저에서 직접 PDF를 편집하고 양식을 작성하세요"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>w("simple"),className:`px-4 py-2 rounded-md transition-colors ${h==="simple"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[r.jsx(Se,{className:"inline mr-2",size:16}),"간단 편집"]}),r.jsxs("button",{onClick:()=>w("advanced"),className:`px-4 py-2 rounded-md transition-colors ${h==="advanced"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[r.jsx(cd,{className:"inline mr-2",size:16}),"고급 편집"]})]})]})}),g&&r.jsxs("div",{className:"mx-6 mt-4 p-4 bg-red-50 border border-red-200 rounded-md flex items-start",children:[r.jsx(Nr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0"}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-red-800",children:g})}),r.jsx("button",{onClick:()=>m(null),className:"text-red-400 hover:text-red-600",children:r.jsx(os,{className:"h-5 w-5"})})]}),u&&r.jsxs("div",{className:"mx-6 mt-4 p-4 bg-green-50 border border-green-200 rounded-md flex items-start",children:[r.jsx(Ht,{className:"h-5 w-5 text-green-400 mt-0.5 mr-2 flex-shrink-0"}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-green-800",children:u})}),r.jsx("button",{onClick:()=>f(null),className:"text-green-400 hover:text-green-600",children:r.jsx(os,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"p-6",children:[h==="simple"?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Se,{className:"mr-2",size:20}),"기본 양식 선택"]}),r.jsxs("select",{value:n,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d,children:[r.jsx("option",{value:"",children:"양식을 선택하세요"}),e.map(C=>r.jsxs("option",{value:C.form_id,children:[C.name," (",C.category,")"]},C.form_id))]}),n&&r.jsxs("button",{onClick:Q,className:"mt-3 inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",disabled:d,children:[r.jsx(wr,{className:"mr-2",size:16}),"템플릿 다운로드"]})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Yr,{className:"mr-2",size:20}),"PDF 파일 업로드"]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("input",{ref:k,type:"file",accept:".pdf",onChange:V,className:"hidden",id:"pdf-upload",disabled:d}),r.jsxs("label",{htmlFor:"pdf-upload",className:"cursor-pointer flex flex-col items-center",children:[r.jsx(Yr,{size:48,className:"text-gray-400 mb-2"}),r.jsx("span",{className:"text-gray-600",children:o?o.name:"클릭하여 PDF 파일을 선택하세요"}),r.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"또는 파일을 여기로 드래그하세요"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"필드 입력"}),l.length>0?r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:l.map(C=>r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[C.label,C.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("input",{type:C.type==="date"?"date":C.type==="number"?"number":"text",value:i[C.name]||"",onChange:F=>S(C.name,F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:C.required,disabled:d,placeholder:C.type==="signature"?"서명란 (이름 입력)":""})]},C.name))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Se,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"양식을 선택하거나 PDF 파일을 업로드하면"}),r.jsx("p",{className:"text-sm text-gray-600",children:"편집 가능한 필드가 표시됩니다"})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[!y&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"기본 양식 선택"}),r.jsxs("select",{value:n,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"양식을 선택하세요"}),e.map(C=>r.jsxs("option",{value:C.form_id,children:[C.name," (",C.category,")"]},C.form_id))]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"PDF 파일 업로드"}),r.jsx("input",{ref:k,type:"file",accept:".pdf",onChange:V,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),y&&r.jsxs("div",{className:"border-b pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"편집 도구"}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{onClick:()=>x(b==="viewer"?"editor":"viewer"),className:`px-3 py-2 rounded-md text-sm transition-colors ${b==="viewer"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[r.jsx(Wt,{className:"inline mr-1",size:14}),b==="viewer"?"보기 모드":"편집 모드"]})})]}),b==="editor"&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:()=>L("TEXT"),className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:[r.jsx(ud,{className:"inline mr-1",size:14}),"텍스트"]}),r.jsxs("button",{onClick:()=>L("CHECKBOX"),className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[r.jsx(dd,{className:"inline mr-1",size:14}),"체크박스"]}),r.jsxs("button",{onClick:()=>L("SIGNATURE"),className:"px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm",children:[r.jsx(md,{className:"inline mr-1",size:14}),"서명"]}),r.jsxs("button",{onClick:()=>L("IMAGE"),className:"px-3 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors text-sm",children:[r.jsx(qe,{className:"inline mr-1",size:14}),"이미지"]}),r.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors text-sm ml-auto",children:[r.jsx(it,{className:"inline mr-1",size:14}),"저장 및 다운로드"]})]})]}),y&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsx(xd,{ref:N,mode:"inline",style:{width:"100%",height:"700px",border:"1px solid #e5e7eb",borderRadius:"8px"},documentURL:y,onEmbedEvent:W,companyIdentifier:b==="viewer"?"react-viewer":void 0,locale:"en"})}),!y&&r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[r.jsx(Se,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"PDF 편집기가 준비되었습니다"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"양식을 선택하거나 PDF 파일을 업로드하여 시작하세요"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["• 텍스트, 체크박스, 서명 추가",r.jsx("br",{}),"• 자동 필드 감지",r.jsx("br",{}),"• 페이지 회전 및 병합",r.jsx("br",{}),"• 브라우저에서 완전한 편집"]})]})]}),h==="simple"&&(l.length>0||o)&&r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:U,disabled:d,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:d?r.jsxs(r.Fragment,{children:[r.jsx(pd,{className:"animate-spin mr-2",size:20}),"처리 중..."]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"mr-2",size:20}),"PDF 편집 및 다운로드"]})})})]})]})})};function Cf(){const[e,t]=E.useState("dashboard"),[n,s]=E.useState(!1),l=()=>{switch(e){case"dashboard":return r.jsx(To,{});case"workers":return r.jsx(rf,{});case"health":return r.jsx(af,{});case"environment":return r.jsx(uf,{});case"education":return r.jsx(pf,{});case"chemicals":return r.jsx(gf,{});case"accidents":return r.jsx(vf,{});case"unified-documents":return r.jsx(bf,{});case"reports":return r.jsx(_f,{});case"monitoring":return r.jsx(ef,{});case"settings":return r.jsx(kf,{});case"pdf-editor":return r.jsx(Sf,{});default:return r.jsx(To,{})}};return r.jsx(Jp,{sidebarOpen:n,setSidebarOpen:s,activeMenu:e,setActiveMenu:t,children:l()})}Cl.createRoot(document.getElementById("root")).render(r.jsx(Sl.StrictMode,{children:r.jsx(Cf,{})}));
