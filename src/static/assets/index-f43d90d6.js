import{useLocation as Qo,useParams as cu,useSearchParams as du,BrowserRouter as uu,Routes as mu,Route as nl}from"react-router-dom";import*as xu from"lucide-react";import{X as Ko,LogOut as Yo,Menu as pu,Search as Pr,Bell as Yt,TrendingUp as ns,Users as An,Activity as Gt,ShieldCheck as hu,Calendar as Nt,Zap as fu,AlertTriangle as tt,FileText as Ae,RefreshCw as ls,CheckCircle as Me,Shield as as,Volume2 as gu,Wind as Ci,Thermometer as yu,Settings as vu,BarChart3 as Ol,Clock as nt,AlertCircle as Tt,Monitor as ju,Heart as Go,User as yr,ArrowLeft as $n,Save as _s,Plus as Ke,Edit as ks,Trash2 as Ht,ChevronUp as bu,ChevronDown as Nu,Phone as wu,XCircle as za,BookOpen as Ei,Eye as Ta,Download as Da,Upload as _u,FileImage as ku,Table as Su,Building as Fl,Database as Li,Bug as Cu,ClipboardCheck as Eu,QrCode as Lu,CheckCircle2 as ll}from"lucide-react";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();function zu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xo={exports:{}},Un={},Jo={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),Tu=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),Ou=Symbol.for("react.provider"),Fu=Symbol.for("react.context"),Mu=Symbol.for("react.forward_ref"),Iu=Symbol.for("react.suspense"),Au=Symbol.for("react.memo"),$u=Symbol.for("react.lazy"),zi=Symbol.iterator;function Uu(e){return e===null||typeof e!="object"?null:(e=zi&&e[zi]||e["@@iterator"],typeof e=="function"?e:null)}var Zo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ec=Object.assign,tc={};function Rr(e,r,s){this.props=e,this.context=r,this.refs=tc,this.updater=s||Zo}Rr.prototype.isReactComponent={};Rr.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rc(){}rc.prototype=Rr.prototype;function Pa(e,r,s){this.props=e,this.context=r,this.refs=tc,this.updater=s||Zo}var Ra=Pa.prototype=new rc;Ra.constructor=Pa;ec(Ra,Rr.prototype);Ra.isPureReactComponent=!0;var Ti=Array.isArray,sc=Object.prototype.hasOwnProperty,Oa={current:null},nc={key:!0,ref:!0,__self:!0,__source:!0};function lc(e,r,s){var n,l={},a=null,i=null;if(r!=null)for(n in r.ref!==void 0&&(i=r.ref),r.key!==void 0&&(a=""+r.key),r)sc.call(r,n)&&!nc.hasOwnProperty(n)&&(l[n]=r[n]);var d=arguments.length-2;if(d===1)l.children=s;else if(1<d){for(var o=Array(d),x=0;x<d;x++)o[x]=arguments[x+2];l.children=o}if(e&&e.defaultProps)for(n in d=e.defaultProps,d)l[n]===void 0&&(l[n]=d[n]);return{$$typeof:Ss,type:e,key:a,ref:i,props:l,_owner:Oa.current}}function Bu(e,r){return{$$typeof:Ss,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Fa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function qu(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return r[s]})}var Di=/\/+/g;function al(e,r){return typeof e=="object"&&e!==null&&e.key!=null?qu(""+e.key):r.toString(36)}function rn(e,r,s,n,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ss:case Tu:i=!0}}if(i)return i=e,l=l(i),e=n===""?"."+al(i,0):n,Ti(l)?(s="",e!=null&&(s=e.replace(Di,"$&/")+"/"),rn(l,r,s,"",function(x){return x})):l!=null&&(Fa(l)&&(l=Bu(l,s+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Di,"$&/")+"/")+e)),r.push(l)),1;if(i=0,n=n===""?".":n+":",Ti(e))for(var d=0;d<e.length;d++){a=e[d];var o=n+al(a,d);i+=rn(a,r,s,o,l)}else if(o=Uu(e),typeof o=="function")for(e=o.call(e),d=0;!(a=e.next()).done;)a=a.value,o=n+al(a,d++),i+=rn(a,r,s,o,l);else if(a==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return i}function Ps(e,r,s){if(e==null)return e;var n=[],l=0;return rn(e,n,"","",function(a){return r.call(s,a,l++)}),n}function Wu(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},sn={transition:null},Vu={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:sn,ReactCurrentOwner:Oa};function ac(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Ps,forEach:function(e,r,s){Ps(e,function(){r.apply(this,arguments)},s)},count:function(e){var r=0;return Ps(e,function(){r++}),r},toArray:function(e){return Ps(e,function(r){return r})||[]},only:function(e){if(!Fa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Rr;B.Fragment=Du;B.Profiler=Ru;B.PureComponent=Pa;B.StrictMode=Pu;B.Suspense=Iu;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vu;B.act=ac;B.cloneElement=function(e,r,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ec({},e.props),l=e.key,a=e.ref,i=e._owner;if(r!=null){if(r.ref!==void 0&&(a=r.ref,i=Oa.current),r.key!==void 0&&(l=""+r.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(o in r)sc.call(r,o)&&!nc.hasOwnProperty(o)&&(n[o]=r[o]===void 0&&d!==void 0?d[o]:r[o])}var o=arguments.length-2;if(o===1)n.children=s;else if(1<o){d=Array(o);for(var x=0;x<o;x++)d[x]=arguments[x+2];n.children=d}return{$$typeof:Ss,type:e.type,key:l,ref:a,props:n,_owner:i}};B.createContext=function(e){return e={$$typeof:Fu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ou,_context:e},e.Consumer=e};B.createElement=lc;B.createFactory=function(e){var r=lc.bind(null,e);return r.type=e,r};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Mu,render:e}};B.isValidElement=Fa;B.lazy=function(e){return{$$typeof:$u,_payload:{_status:-1,_result:e},_init:Wu}};B.memo=function(e,r){return{$$typeof:Au,type:e,compare:r===void 0?null:r}};B.startTransition=function(e){var r=sn.transition;sn.transition={};try{e()}finally{sn.transition=r}};B.unstable_act=ac;B.useCallback=function(e,r){return je.current.useCallback(e,r)};B.useContext=function(e){return je.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return je.current.useDeferredValue(e)};B.useEffect=function(e,r){return je.current.useEffect(e,r)};B.useId=function(){return je.current.useId()};B.useImperativeHandle=function(e,r,s){return je.current.useImperativeHandle(e,r,s)};B.useInsertionEffect=function(e,r){return je.current.useInsertionEffect(e,r)};B.useLayoutEffect=function(e,r){return je.current.useLayoutEffect(e,r)};B.useMemo=function(e,r){return je.current.useMemo(e,r)};B.useReducer=function(e,r,s){return je.current.useReducer(e,r,s)};B.useRef=function(e){return je.current.useRef(e)};B.useState=function(e){return je.current.useState(e)};B.useSyncExternalStore=function(e,r,s){return je.current.useSyncExternalStore(e,r,s)};B.useTransition=function(){return je.current.useTransition()};B.version="18.3.1";Jo.exports=B;var b=Jo.exports;const Hu=zu(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=b,Ku=Symbol.for("react.element"),Yu=Symbol.for("react.fragment"),Gu=Object.prototype.hasOwnProperty,Xu=Qu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ju={key:!0,ref:!0,__self:!0,__source:!0};function ic(e,r,s){var n,l={},a=null,i=null;s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(i=r.ref);for(n in r)Gu.call(r,n)&&!Ju.hasOwnProperty(n)&&(l[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return{$$typeof:Ku,type:e,key:a,ref:i,props:l,_owner:Xu.current}}Un.Fragment=Yu;Un.jsx=ic;Un.jsxs=ic;Xo.exports=Un;var t=Xo.exports,Ml={},oc={exports:{}},Pe={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(N,R){var F=N.length;N.push(R);e:for(;0<F;){var V=F-1>>>1,G=N[V];if(0<l(G,R))N[V]=R,N[F]=G,F=V;else break e}}function s(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var R=N[0],F=N.pop();if(F!==R){N[0]=F;e:for(var V=0,G=N.length,Ts=G>>>1;V<Ts;){var It=2*(V+1)-1,sl=N[It],At=It+1,Ds=N[At];if(0>l(sl,F))At<G&&0>l(Ds,sl)?(N[V]=Ds,N[At]=F,V=At):(N[V]=sl,N[It]=F,V=It);else if(At<G&&0>l(Ds,F))N[V]=Ds,N[At]=F,V=At;else break e}}return R}function l(N,R){var F=N.sortIndex-R.sortIndex;return F!==0?F:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,d=i.now();e.unstable_now=function(){return i.now()-d}}var o=[],x=[],g=1,f=null,p=3,v=!1,m=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(N){for(var R=s(x);R!==null;){if(R.callback===null)n(x);else if(R.startTime<=N)n(x),R.sortIndex=R.expirationTime,r(o,R);else break;R=s(x)}}function k(N){if(j=!1,h(N),!m)if(s(o)!==null)m=!0,U(_);else{var R=s(x);R!==null&&E(k,R.startTime-N)}}function _(N,R){m=!1,j&&(j=!1,u(P),P=-1),v=!0;var F=p;try{for(h(R),f=s(o);f!==null&&(!(f.expirationTime>R)||N&&!q());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var G=V(f.expirationTime<=R);R=e.unstable_now(),typeof G=="function"?f.callback=G:f===s(o)&&n(o),h(R)}else n(o);f=s(o)}if(f!==null)var Ts=!0;else{var It=s(x);It!==null&&E(k,It.startTime-R),Ts=!1}return Ts}finally{f=null,p=F,v=!1}}var w=!1,S=null,P=-1,A=5,z=-1;function q(){return!(e.unstable_now()-z<A)}function C(){if(S!==null){var N=e.unstable_now();z=N;var R=!0;try{R=S(!0,N)}finally{R?te():(w=!1,S=null)}}else w=!1}var te;if(typeof c=="function")te=function(){c(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,T=D.port2;D.port1.onmessage=C,te=function(){T.postMessage(null)}}else te=function(){y(C,0)};function U(N){S=N,w||(w=!0,te())}function E(N,R){P=y(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){m||v||(m=!0,U(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return s(o)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var F=p;p=R;try{return N()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=p;p=N;try{return R()}finally{p=F}},e.unstable_scheduleCallback=function(N,R,F){var V=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?V+F:V):F=V,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,N={id:g++,callback:R,priorityLevel:N,startTime:F,expirationTime:G,sortIndex:-1},F>V?(N.sortIndex=F,r(x,N),s(o)===null&&N===s(x)&&(j?(u(P),P=-1):j=!0,E(k,F-V))):(N.sortIndex=G,r(o,N),m||v||(m=!0,U(_))),N},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(N){var R=p;return function(){var F=p;p=R;try{return N.apply(this,arguments)}finally{p=F}}}})(dc);cc.exports=dc;var Zu=cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=b,De=Zu;function L(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uc=new Set,is={};function sr(e,r){kr(e,r),kr(e+"Capture",r)}function kr(e,r){for(is[e]=r,e=0;e<r.length;e++)uc.add(r[e])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=Object.prototype.hasOwnProperty,tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pi={},Ri={};function rm(e){return Il.call(Ri,e)?!0:Il.call(Pi,e)?!1:tm.test(e)?Ri[e]=!0:(Pi[e]=!0,!1)}function sm(e,r,s,n){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nm(e,r,s,n){if(r===null||typeof r>"u"||sm(e,r,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function be(e,r,s,n,l,a,i){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=a,this.removeEmptyString=i}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];me[r]=new be(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ma=/[\-:]([a-z])/g;function Ia(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Ma,Ia);me[r]=new be(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Ma,Ia);me[r]=new be(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Ma,Ia);me[r]=new be(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Aa(e,r,s,n){var l=me.hasOwnProperty(r)?me[r]:null;(l!==null?l.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(nm(r,s,l,n)&&(s=null),n||l===null?rm(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):l.mustUseProperty?e[l.propertyName]=s===null?l.type===3?!1:"":s:(r=l.attributeName,n=l.attributeNamespace,s===null?e.removeAttribute(r):(l=l.type,s=l===3||l===4&&s===!0?"":""+s,n?e.setAttributeNS(n,r,s):e.setAttribute(r,s))))}var pt=em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),ar=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),$a=Symbol.for("react.strict_mode"),Al=Symbol.for("react.profiler"),mc=Symbol.for("react.provider"),xc=Symbol.for("react.context"),Ua=Symbol.for("react.forward_ref"),$l=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),Ba=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),pc=Symbol.for("react.offscreen"),Oi=Symbol.iterator;function Mr(e){return e===null||typeof e!="object"?null:(e=Oi&&e[Oi]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,il;function Vr(e){if(il===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);il=r&&r[1]||""}return`
`+il+e}var ol=!1;function cl(e,r){if(!e||ol)return"";ol=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(x){var n=x}Reflect.construct(e,[],r)}else{try{r.call()}catch(x){n=x}e.call(r.prototype)}else{try{throw Error()}catch(x){n=x}e()}}catch(x){if(x&&n&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),a=n.stack.split(`
`),i=l.length-1,d=a.length-1;1<=i&&0<=d&&l[i]!==a[d];)d--;for(;1<=i&&0<=d;i--,d--)if(l[i]!==a[d]){if(i!==1||d!==1)do if(i--,d--,0>d||l[i]!==a[d]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=d);break}}}finally{ol=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Vr(e):""}function lm(e){switch(e.tag){case 5:return Vr(e.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return e=cl(e.type,!1),e;case 11:return e=cl(e.type.render,!1),e;case 1:return e=cl(e.type,!0),e;default:return""}}function Bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case ar:return"Portal";case Al:return"Profiler";case $a:return"StrictMode";case $l:return"Suspense";case Ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xc:return(e.displayName||"Context")+".Consumer";case mc:return(e._context.displayName||"Context")+".Provider";case Ua:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ba:return r=e.displayName||null,r!==null?r:Bl(e.type)||"Memo";case ft:r=e._payload,e=e._init;try{return Bl(e(r))}catch{}}return null}function am(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(r);case 8:return r===$a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hc(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function im(e){var r=hc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),n=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,a=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return l.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Os(e){e._valueTracker||(e._valueTracker=im(e))}function fc(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),n="";return e&&(n=hc(e)?e.checked?"true":"false":e.value),e=n,e!==s?(r.setValue(e),!0):!1}function hn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ql(e,r){var s=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Fi(e,r){var s=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;s=Dt(r.value!=null?r.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function gc(e,r){r=r.checked,r!=null&&Aa(e,"checked",r,!1)}function Wl(e,r){gc(e,r);var s=Dt(r.value),n=r.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Vl(e,r.type,s):r.hasOwnProperty("defaultValue")&&Vl(e,r.type,Dt(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Mi(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Vl(e,r,s){(r!=="number"||hn(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Hr=Array.isArray;function vr(e,r,s,n){if(e=e.options,r){r={};for(var l=0;l<s.length;l++)r["$"+s[l]]=!0;for(s=0;s<e.length;s++)l=r.hasOwnProperty("$"+e[s].value),e[s].selected!==l&&(e[s].selected=l),l&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Dt(s),r=null,l=0;l<e.length;l++){if(e[l].value===s){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}r!==null||e[l].disabled||(r=e[l])}r!==null&&(r.selected=!0)}}function Hl(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(L(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ii(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(L(92));if(Hr(s)){if(1<s.length)throw Error(L(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:Dt(s)}}function yc(e,r){var s=Dt(r.value),n=Dt(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Ai(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function vc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?vc(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,n,l){MSApp.execUnsafeLocalFunction(function(){return e(r,s,n,l)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function os(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},om=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(e){om.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Yr[r]=Yr[e]})});function bc(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Yr.hasOwnProperty(e)&&Yr[e]?(""+r).trim():r+"px"}function Nc(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var n=s.indexOf("--")===0,l=bc(s,r[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,l):e[s]=l}}var cm=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,r){if(r){if(cm[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(L(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(L(61))}if(r.style!=null&&typeof r.style!="object")throw Error(L(62))}}function Yl(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xl=null,jr=null,br=null;function $i(e){if(e=Ls(e)){if(typeof Xl!="function")throw Error(L(280));var r=e.stateNode;r&&(r=Hn(r),Xl(e.stateNode,e.type,r))}}function wc(e){jr?br?br.push(e):br=[e]:jr=e}function _c(){if(jr){var e=jr,r=br;if(br=jr=null,$i(e),r)for(e=0;e<r.length;e++)$i(r[e])}}function kc(e,r){return e(r)}function Sc(){}var dl=!1;function Cc(e,r,s){if(dl)return e(r,s);dl=!0;try{return kc(e,r,s)}finally{dl=!1,(jr!==null||br!==null)&&(Sc(),_c())}}function cs(e,r){var s=e.stateNode;if(s===null)return null;var n=Hn(s);if(n===null)return null;s=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(L(231,r,typeof s));return s}var Jl=!1;if(dt)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Jl=!1}function dm(e,r,s,n,l,a,i,d,o){var x=Array.prototype.slice.call(arguments,3);try{r.apply(s,x)}catch(g){this.onError(g)}}var Gr=!1,fn=null,gn=!1,Zl=null,um={onError:function(e){Gr=!0,fn=e}};function mm(e,r,s,n,l,a,i,d,o){Gr=!1,fn=null,dm.apply(um,arguments)}function xm(e,r,s,n,l,a,i,d,o){if(mm.apply(this,arguments),Gr){if(Gr){var x=fn;Gr=!1,fn=null}else throw Error(L(198));gn||(gn=!0,Zl=x)}}function nr(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function Ec(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Ui(e){if(nr(e)!==e)throw Error(L(188))}function pm(e){var r=e.alternate;if(!r){if(r=nr(e),r===null)throw Error(L(188));return r!==e?null:e}for(var s=e,n=r;;){var l=s.return;if(l===null)break;var a=l.alternate;if(a===null){if(n=l.return,n!==null){s=n;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===s)return Ui(l),e;if(a===n)return Ui(l),r;a=a.sibling}throw Error(L(188))}if(s.return!==n.return)s=l,n=a;else{for(var i=!1,d=l.child;d;){if(d===s){i=!0,s=l,n=a;break}if(d===n){i=!0,n=l,s=a;break}d=d.sibling}if(!i){for(d=a.child;d;){if(d===s){i=!0,s=a,n=l;break}if(d===n){i=!0,n=a,s=l;break}d=d.sibling}if(!i)throw Error(L(189))}}if(s.alternate!==n)throw Error(L(190))}if(s.tag!==3)throw Error(L(188));return s.stateNode.current===s?e:r}function Lc(e){return e=pm(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=zc(e);if(r!==null)return r;e=e.sibling}return null}var Tc=De.unstable_scheduleCallback,Bi=De.unstable_cancelCallback,hm=De.unstable_shouldYield,fm=De.unstable_requestPaint,ne=De.unstable_now,gm=De.unstable_getCurrentPriorityLevel,Wa=De.unstable_ImmediatePriority,Dc=De.unstable_UserBlockingPriority,yn=De.unstable_NormalPriority,ym=De.unstable_LowPriority,Pc=De.unstable_IdlePriority,Bn=null,rt=null;function vm(e){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Bn,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Nm,jm=Math.log,bm=Math.LN2;function Nm(e){return e>>>=0,e===0?32:31-(jm(e)/bm|0)|0}var Ms=64,Is=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vn(e,r){var s=e.pendingLanes;if(s===0)return 0;var n=0,l=e.suspendedLanes,a=e.pingedLanes,i=s&268435455;if(i!==0){var d=i&~l;d!==0?n=Qr(d):(a&=i,a!==0&&(n=Qr(a)))}else i=s&~l,i!==0?n=Qr(i):a!==0&&(n=Qr(a));if(n===0)return 0;if(r!==0&&r!==n&&!(r&l)&&(l=n&-n,a=r&-r,l>=a||l===16&&(a&4194240)!==0))return r;if(n&4&&(n|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=n;0<r;)s=31-Ye(r),l=1<<s,n|=e[s],r&=~l;return n}function wm(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _m(e,r){for(var s=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ye(a),d=1<<i,o=l[i];o===-1?(!(d&s)||d&n)&&(l[i]=wm(d,r)):o<=r&&(e.expiredLanes|=d),a&=~d}}function ea(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rc(){var e=Ms;return Ms<<=1,!(Ms&4194240)&&(Ms=64),e}function ul(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function Cs(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Ye(r),e[r]=s}function km(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var l=31-Ye(s),a=1<<l;r[l]=0,n[l]=-1,e[l]=-1,s&=~a}}function Va(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var n=31-Ye(s),l=1<<n;l&r|e[n]&r&&(e[n]|=r),s&=~l}}var H=0;function Oc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fc,Ha,Mc,Ic,Ac,ta=!1,As=[],wt=null,_t=null,kt=null,ds=new Map,us=new Map,yt=[],Sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qi(e,r){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":ds.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(r.pointerId)}}function Ar(e,r,s,n,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:r,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[l]},r!==null&&(r=Ls(r),r!==null&&Ha(r)),e):(e.eventSystemFlags|=n,r=e.targetContainers,l!==null&&r.indexOf(l)===-1&&r.push(l),e)}function Cm(e,r,s,n,l){switch(r){case"focusin":return wt=Ar(wt,e,r,s,n,l),!0;case"dragenter":return _t=Ar(_t,e,r,s,n,l),!0;case"mouseover":return kt=Ar(kt,e,r,s,n,l),!0;case"pointerover":var a=l.pointerId;return ds.set(a,Ar(ds.get(a)||null,e,r,s,n,l)),!0;case"gotpointercapture":return a=l.pointerId,us.set(a,Ar(us.get(a)||null,e,r,s,n,l)),!0}return!1}function $c(e){var r=qt(e.target);if(r!==null){var s=nr(r);if(s!==null){if(r=s.tag,r===13){if(r=Ec(s),r!==null){e.blockedOn=r,Ac(e.priority,function(){Mc(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nn(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=ra(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Gl=n,s.target.dispatchEvent(n),Gl=null}else return r=Ls(s),r!==null&&Ha(r),e.blockedOn=s,!1;r.shift()}return!0}function Wi(e,r,s){nn(e)&&s.delete(r)}function Em(){ta=!1,wt!==null&&nn(wt)&&(wt=null),_t!==null&&nn(_t)&&(_t=null),kt!==null&&nn(kt)&&(kt=null),ds.forEach(Wi),us.forEach(Wi)}function $r(e,r){e.blockedOn===r&&(e.blockedOn=null,ta||(ta=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Em)))}function ms(e){function r(l){return $r(l,e)}if(0<As.length){$r(As[0],e);for(var s=1;s<As.length;s++){var n=As[s];n.blockedOn===e&&(n.blockedOn=null)}}for(wt!==null&&$r(wt,e),_t!==null&&$r(_t,e),kt!==null&&$r(kt,e),ds.forEach(r),us.forEach(r),s=0;s<yt.length;s++)n=yt[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<yt.length&&(s=yt[0],s.blockedOn===null);)$c(s),s.blockedOn===null&&yt.shift()}var Nr=pt.ReactCurrentBatchConfig,jn=!0;function Lm(e,r,s,n){var l=H,a=Nr.transition;Nr.transition=null;try{H=1,Qa(e,r,s,n)}finally{H=l,Nr.transition=a}}function zm(e,r,s,n){var l=H,a=Nr.transition;Nr.transition=null;try{H=4,Qa(e,r,s,n)}finally{H=l,Nr.transition=a}}function Qa(e,r,s,n){if(jn){var l=ra(e,r,s,n);if(l===null)bl(e,r,n,bn,s),qi(e,n);else if(Cm(l,e,r,s,n))n.stopPropagation();else if(qi(e,n),r&4&&-1<Sm.indexOf(e)){for(;l!==null;){var a=Ls(l);if(a!==null&&Fc(a),a=ra(e,r,s,n),a===null&&bl(e,r,n,bn,s),a===l)break;l=a}l!==null&&n.stopPropagation()}else bl(e,r,n,null,s)}}var bn=null;function ra(e,r,s,n){if(bn=null,e=qa(n),e=qt(e),e!==null)if(r=nr(e),r===null)e=null;else if(s=r.tag,s===13){if(e=Ec(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return bn=e,null}function Uc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case Wa:return 1;case Dc:return 4;case yn:case ym:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var jt=null,Ka=null,ln=null;function Bc(){if(ln)return ln;var e,r=Ka,s=r.length,n,l="value"in jt?jt.value:jt.textContent,a=l.length;for(e=0;e<s&&r[e]===l[e];e++);var i=s-e;for(n=1;n<=i&&r[s-n]===l[a-n];n++);return ln=l.slice(e,1<n?1-n:void 0)}function an(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function Vi(){return!1}function Re(e){function r(s,n,l,a,i){this._reactName=s,this._targetInst=l,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(s=e[d],this[d]=s?s(a):a[d]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$s:Vi,this.isPropagationStopped=Vi,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),r}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Re(Or),Es=ee({},Or,{view:0,detail:0}),Tm=Re(Es),ml,xl,Ur,qn=ee({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(ml=e.screenX-Ur.screenX,xl=e.screenY-Ur.screenY):xl=ml=0,Ur=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Hi=Re(qn),Dm=ee({},qn,{dataTransfer:0}),Pm=Re(Dm),Rm=ee({},Es,{relatedTarget:0}),pl=Re(Rm),Om=ee({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Fm=Re(Om),Mm=ee({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Im=Re(Mm),Am=ee({},Or,{data:0}),Qi=Re(Am),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qm(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Bm[e])?!!r[e]:!1}function Ga(){return qm}var Wm=ee({},Es,{key:function(e){if(e.key){var r=$m[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=an(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Um[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(e){return e.type==="keypress"?an(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?an(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=Re(Wm),Hm=ee({},qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Re(Hm),Qm=ee({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Km=Re(Qm),Ym=ee({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=Re(Ym),Xm=ee({},qn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jm=Re(Xm),Zm=[9,13,27,32],Xa=dt&&"CompositionEvent"in window,Xr=null;dt&&"documentMode"in document&&(Xr=document.documentMode);var ex=dt&&"TextEvent"in window&&!Xr,qc=dt&&(!Xa||Xr&&8<Xr&&11>=Xr),Yi=String.fromCharCode(32),Gi=!1;function Wc(e,r){switch(e){case"keyup":return Zm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function tx(e,r){switch(e){case"compositionend":return Vc(r);case"keypress":return r.which!==32?null:(Gi=!0,Yi);case"textInput":return e=r.data,e===Yi&&Gi?null:e;default:return null}}function rx(e,r){if(or)return e==="compositionend"||!Xa&&Wc(e,r)?(e=Bc(),ln=Ka=jt=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qc&&r.locale!=="ko"?null:r.data;default:return null}}var sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xi(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!sx[e.type]:r==="textarea"}function Hc(e,r,s,n){wc(n),r=Nn(r,"onChange"),0<r.length&&(s=new Ya("onChange","change",null,s,n),e.push({event:s,listeners:r}))}var Jr=null,xs=null;function nx(e){sd(e,0)}function Wn(e){var r=ur(e);if(fc(r))return e}function lx(e,r){if(e==="change")return r}var Qc=!1;if(dt){var hl;if(dt){var fl="oninput"in document;if(!fl){var Ji=document.createElement("div");Ji.setAttribute("oninput","return;"),fl=typeof Ji.oninput=="function"}hl=fl}else hl=!1;Qc=hl&&(!document.documentMode||9<document.documentMode)}function Zi(){Jr&&(Jr.detachEvent("onpropertychange",Kc),xs=Jr=null)}function Kc(e){if(e.propertyName==="value"&&Wn(xs)){var r=[];Hc(r,xs,e,qa(e)),Cc(nx,r)}}function ax(e,r,s){e==="focusin"?(Zi(),Jr=r,xs=s,Jr.attachEvent("onpropertychange",Kc)):e==="focusout"&&Zi()}function ix(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wn(xs)}function ox(e,r){if(e==="click")return Wn(r)}function cx(e,r){if(e==="input"||e==="change")return Wn(r)}function dx(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Xe=typeof Object.is=="function"?Object.is:dx;function ps(e,r){if(Xe(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),n=Object.keys(r);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var l=s[n];if(!Il.call(r,l)||!Xe(e[l],r[l]))return!1}return!0}function eo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function to(e,r){var s=eo(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=r&&n>=r)return{node:s,offset:r-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=eo(s)}}function Yc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Yc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Gc(){for(var e=window,r=hn();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=hn(e.document)}return r}function Ja(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function ux(e){var r=Gc(),s=e.focusedElem,n=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&Yc(s.ownerDocument.documentElement,s)){if(n!==null&&Ja(s)){if(r=n.start,e=n.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var l=s.textContent.length,a=Math.min(n.start,l);n=n.end===void 0?a:Math.min(n.end,l),!e.extend&&a>n&&(l=n,n=a,a=l),l=to(s,a);var i=to(s,n);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(r=r.createRange(),r.setStart(l.node,l.offset),e.removeAllRanges(),a>n?(e.addRange(r),e.extend(i.node,i.offset)):(r.setEnd(i.node,i.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mx=dt&&"documentMode"in document&&11>=document.documentMode,cr=null,sa=null,Zr=null,na=!1;function ro(e,r,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;na||cr==null||cr!==hn(n)||(n=cr,"selectionStart"in n&&Ja(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zr&&ps(Zr,n)||(Zr=n,n=Nn(sa,"onSelect"),0<n.length&&(r=new Ya("onSelect","select",null,r,s),e.push({event:r,listeners:n}),r.target=cr)))}function Us(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var dr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},gl={},Xc={};dt&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Vn(e){if(gl[e])return gl[e];if(!dr[e])return e;var r=dr[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in Xc)return gl[e]=r[s];return e}var Jc=Vn("animationend"),Zc=Vn("animationiteration"),ed=Vn("animationstart"),td=Vn("transitionend"),rd=new Map,so="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(e,r){rd.set(e,r),sr(r,[e])}for(var yl=0;yl<so.length;yl++){var vl=so[yl],xx=vl.toLowerCase(),px=vl[0].toUpperCase()+vl.slice(1);Rt(xx,"on"+px)}Rt(Jc,"onAnimationEnd");Rt(Zc,"onAnimationIteration");Rt(ed,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(td,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function no(e,r,s){var n=e.type||"unknown-event";e.currentTarget=s,xm(n,r,void 0,e),e.currentTarget=null}function sd(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],l=n.event;n=n.listeners;e:{var a=void 0;if(r)for(var i=n.length-1;0<=i;i--){var d=n[i],o=d.instance,x=d.currentTarget;if(d=d.listener,o!==a&&l.isPropagationStopped())break e;no(l,d,x),a=o}else for(i=0;i<n.length;i++){if(d=n[i],o=d.instance,x=d.currentTarget,d=d.listener,o!==a&&l.isPropagationStopped())break e;no(l,d,x),a=o}}}if(gn)throw e=Zl,gn=!1,Zl=null,e}function K(e,r){var s=r[ca];s===void 0&&(s=r[ca]=new Set);var n=e+"__bubble";s.has(n)||(nd(r,e,2,!1),s.add(n))}function jl(e,r,s){var n=0;r&&(n|=4),nd(s,e,n,r)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[Bs]){e[Bs]=!0,uc.forEach(function(s){s!=="selectionchange"&&(hx.has(s)||jl(s,!1,e),jl(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Bs]||(r[Bs]=!0,jl("selectionchange",!1,r))}}function nd(e,r,s,n){switch(Uc(r)){case 1:var l=Lm;break;case 4:l=zm;break;default:l=Qa}s=l.bind(null,r,s,e),l=void 0,!Jl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(r,s,{capture:!0,passive:l}):e.addEventListener(r,s,!0):l!==void 0?e.addEventListener(r,s,{passive:l}):e.addEventListener(r,s,!1)}function bl(e,r,s,n,l){var a=n;if(!(r&1)&&!(r&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var d=n.stateNode.containerInfo;if(d===l||d.nodeType===8&&d.parentNode===l)break;if(i===4)for(i=n.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;d!==null;){if(i=qt(d),i===null)return;if(o=i.tag,o===5||o===6){n=a=i;continue e}d=d.parentNode}}n=n.return}Cc(function(){var x=a,g=qa(s),f=[];e:{var p=rd.get(e);if(p!==void 0){var v=Ya,m=e;switch(e){case"keypress":if(an(s)===0)break e;case"keydown":case"keyup":v=Vm;break;case"focusin":m="focus",v=pl;break;case"focusout":m="blur",v=pl;break;case"beforeblur":case"afterblur":v=pl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Km;break;case Jc:case Zc:case ed:v=Fm;break;case td:v=Gm;break;case"scroll":v=Tm;break;case"wheel":v=Jm;break;case"copy":case"cut":case"paste":v=Im;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ki}var j=(r&4)!==0,y=!j&&e==="scroll",u=j?p!==null?p+"Capture":null:p;j=[];for(var c=x,h;c!==null;){h=c;var k=h.stateNode;if(h.tag===5&&k!==null&&(h=k,u!==null&&(k=cs(c,u),k!=null&&j.push(fs(c,k,h)))),y)break;c=c.return}0<j.length&&(p=new v(p,m,null,s,g),f.push({event:p,listeners:j}))}}if(!(r&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&s!==Gl&&(m=s.relatedTarget||s.fromElement)&&(qt(m)||m[ut]))break e;if((v||p)&&(p=g.window===g?g:(p=g.ownerDocument)?p.defaultView||p.parentWindow:window,v?(m=s.relatedTarget||s.toElement,v=x,m=m?qt(m):null,m!==null&&(y=nr(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=x),v!==m)){if(j=Hi,k="onMouseLeave",u="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(j=Ki,k="onPointerLeave",u="onPointerEnter",c="pointer"),y=v==null?p:ur(v),h=m==null?p:ur(m),p=new j(k,c+"leave",v,s,g),p.target=y,p.relatedTarget=h,k=null,qt(g)===x&&(j=new j(u,c+"enter",m,s,g),j.target=h,j.relatedTarget=y,k=j),y=k,v&&m)t:{for(j=v,u=m,c=0,h=j;h;h=lr(h))c++;for(h=0,k=u;k;k=lr(k))h++;for(;0<c-h;)j=lr(j),c--;for(;0<h-c;)u=lr(u),h--;for(;c--;){if(j===u||u!==null&&j===u.alternate)break t;j=lr(j),u=lr(u)}j=null}else j=null;v!==null&&lo(f,p,v,j,!1),m!==null&&y!==null&&lo(f,y,m,j,!0)}}e:{if(p=x?ur(x):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var _=lx;else if(Xi(p))if(Qc)_=cx;else{_=ix;var w=ax}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=ox);if(_&&(_=_(e,x))){Hc(f,_,s,g);break e}w&&w(e,p,x),e==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&Vl(p,"number",p.value)}switch(w=x?ur(x):window,e){case"focusin":(Xi(w)||w.contentEditable==="true")&&(cr=w,sa=x,Zr=null);break;case"focusout":Zr=sa=cr=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,ro(f,s,g);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":ro(f,s,g)}var S;if(Xa)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else or?Wc(e,s)&&(P="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(qc&&s.locale!=="ko"&&(or||P!=="onCompositionStart"?P==="onCompositionEnd"&&or&&(S=Bc()):(jt=g,Ka="value"in jt?jt.value:jt.textContent,or=!0)),w=Nn(x,P),0<w.length&&(P=new Qi(P,e,null,s,g),f.push({event:P,listeners:w}),S?P.data=S:(S=Vc(s),S!==null&&(P.data=S)))),(S=ex?tx(e,s):rx(e,s))&&(x=Nn(x,"onBeforeInput"),0<x.length&&(g=new Qi("onBeforeInput","beforeinput",null,s,g),f.push({event:g,listeners:x}),g.data=S))}sd(f,r)})}function fs(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Nn(e,r){for(var s=r+"Capture",n=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=cs(e,s),a!=null&&n.unshift(fs(e,a,l)),a=cs(e,r),a!=null&&n.push(fs(e,a,l))),e=e.return}return n}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lo(e,r,s,n,l){for(var a=r._reactName,i=[];s!==null&&s!==n;){var d=s,o=d.alternate,x=d.stateNode;if(o!==null&&o===n)break;d.tag===5&&x!==null&&(d=x,l?(o=cs(s,a),o!=null&&i.unshift(fs(s,o,d))):l||(o=cs(s,a),o!=null&&i.push(fs(s,o,d)))),s=s.return}i.length!==0&&e.push({event:r,listeners:i})}var fx=/\r\n?/g,gx=/\u0000|\uFFFD/g;function ao(e){return(typeof e=="string"?e:""+e).replace(fx,`
`).replace(gx,"")}function qs(e,r,s){if(r=ao(r),ao(e)!==r&&s)throw Error(L(425))}function wn(){}var la=null,aa=null;function ia(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var oa=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,io=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof io<"u"?function(e){return io.resolve(null).then(e).catch(jx)}:oa;function jx(e){setTimeout(function(){throw e})}function Nl(e,r){var s=r,n=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0){e.removeChild(l),ms(r);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=l}while(s);ms(r)}function St(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function oo(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),et="__reactFiber$"+Fr,gs="__reactProps$"+Fr,ut="__reactContainer$"+Fr,ca="__reactEvents$"+Fr,bx="__reactListeners$"+Fr,Nx="__reactHandles$"+Fr;function qt(e){var r=e[et];if(r)return r;for(var s=e.parentNode;s;){if(r=s[ut]||s[et]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=oo(e);e!==null;){if(s=e[et])return s;e=oo(e)}return r}e=s,s=e.parentNode}return null}function Ls(e){return e=e[et]||e[ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Hn(e){return e[gs]||null}var da=[],mr=-1;function Ot(e){return{current:e}}function Y(e){0>mr||(e.current=da[mr],da[mr]=null,mr--)}function Q(e,r){mr++,da[mr]=e.current,e.current=r}var Pt={},fe=Ot(Pt),Se=Ot(!1),Xt=Pt;function Sr(e,r){var s=e.type.contextTypes;if(!s)return Pt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in s)l[a]=r[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ce(e){return e=e.childContextTypes,e!=null}function _n(){Y(Se),Y(fe)}function co(e,r,s){if(fe.current!==Pt)throw Error(L(168));Q(fe,r),Q(Se,s)}function ld(e,r,s){var n=e.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var l in n)if(!(l in r))throw Error(L(108,am(e)||"Unknown",l));return ee({},s,n)}function kn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pt,Xt=fe.current,Q(fe,e),Q(Se,Se.current),!0}function uo(e,r,s){var n=e.stateNode;if(!n)throw Error(L(169));s?(e=ld(e,r,Xt),n.__reactInternalMemoizedMergedChildContext=e,Y(Se),Y(fe),Q(fe,e)):Y(Se),Q(Se,s)}var at=null,Qn=!1,wl=!1;function ad(e){at===null?at=[e]:at.push(e)}function wx(e){Qn=!0,ad(e)}function Ft(){if(!wl&&at!==null){wl=!0;var e=0,r=H;try{var s=at;for(H=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}at=null,Qn=!1}catch(l){throw at!==null&&(at=at.slice(e+1)),Tc(Wa,Ft),l}finally{H=r,wl=!1}}return null}var xr=[],pr=0,Sn=null,Cn=0,Oe=[],Fe=0,Jt=null,it=1,ot="";function Ut(e,r){xr[pr++]=Cn,xr[pr++]=Sn,Sn=e,Cn=r}function id(e,r,s){Oe[Fe++]=it,Oe[Fe++]=ot,Oe[Fe++]=Jt,Jt=e;var n=it;e=ot;var l=32-Ye(n)-1;n&=~(1<<l),s+=1;var a=32-Ye(r)+l;if(30<a){var i=l-l%5;a=(n&(1<<i)-1).toString(32),n>>=i,l-=i,it=1<<32-Ye(r)+l|s<<l|n,ot=a+e}else it=1<<a|s<<l|n,ot=e}function Za(e){e.return!==null&&(Ut(e,1),id(e,1,0))}function ei(e){for(;e===Sn;)Sn=xr[--pr],xr[pr]=null,Cn=xr[--pr],xr[pr]=null;for(;e===Jt;)Jt=Oe[--Fe],Oe[Fe]=null,ot=Oe[--Fe],Oe[Fe]=null,it=Oe[--Fe],Oe[Fe]=null}var Te=null,ze=null,X=!1,Qe=null;function od(e,r){var s=Ie(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function mo(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Te=e,ze=St(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Te=e,ze=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=Jt!==null?{id:it,overflow:ot}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Ie(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,Te=e,ze=null,!0):!1;default:return!1}}function ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ma(e){if(X){var r=ze;if(r){var s=r;if(!mo(e,r)){if(ua(e))throw Error(L(418));r=St(s.nextSibling);var n=Te;r&&mo(e,r)?od(n,s):(e.flags=e.flags&-4097|2,X=!1,Te=e)}}else{if(ua(e))throw Error(L(418));e.flags=e.flags&-4097|2,X=!1,Te=e}}}function xo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function Ws(e){if(e!==Te)return!1;if(!X)return xo(e),X=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!ia(e.type,e.memoizedProps)),r&&(r=ze)){if(ua(e))throw cd(),Error(L(418));for(;r;)od(e,r),r=St(r.nextSibling)}if(xo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){ze=St(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}ze=null}}else ze=Te?St(e.stateNode.nextSibling):null;return!0}function cd(){for(var e=ze;e;)e=St(e.nextSibling)}function Cr(){ze=Te=null,X=!1}function ti(e){Qe===null?Qe=[e]:Qe.push(e)}var _x=pt.ReactCurrentBatchConfig;function Br(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(L(309));var n=s.stateNode}if(!n)throw Error(L(147,e));var l=n,a=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===a?r.ref:(r=function(i){var d=l.refs;i===null?delete d[a]:d[a]=i},r._stringRef=a,r)}if(typeof e!="string")throw Error(L(284));if(!s._owner)throw Error(L(290,e))}return e}function Vs(e,r){throw e=Object.prototype.toString.call(r),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function po(e){var r=e._init;return r(e._payload)}function dd(e){function r(u,c){if(e){var h=u.deletions;h===null?(u.deletions=[c],u.flags|=16):h.push(c)}}function s(u,c){if(!e)return null;for(;c!==null;)r(u,c),c=c.sibling;return null}function n(u,c){for(u=new Map;c!==null;)c.key!==null?u.set(c.key,c):u.set(c.index,c),c=c.sibling;return u}function l(u,c){return u=zt(u,c),u.index=0,u.sibling=null,u}function a(u,c,h){return u.index=h,e?(h=u.alternate,h!==null?(h=h.index,h<c?(u.flags|=2,c):h):(u.flags|=2,c)):(u.flags|=1048576,c)}function i(u){return e&&u.alternate===null&&(u.flags|=2),u}function d(u,c,h,k){return c===null||c.tag!==6?(c=zl(h,u.mode,k),c.return=u,c):(c=l(c,h),c.return=u,c)}function o(u,c,h,k){var _=h.type;return _===ir?g(u,c,h.props.children,k,h.key):c!==null&&(c.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ft&&po(_)===c.type)?(k=l(c,h.props),k.ref=Br(u,c,h),k.return=u,k):(k=pn(h.type,h.key,h.props,null,u.mode,k),k.ref=Br(u,c,h),k.return=u,k)}function x(u,c,h,k){return c===null||c.tag!==4||c.stateNode.containerInfo!==h.containerInfo||c.stateNode.implementation!==h.implementation?(c=Tl(h,u.mode,k),c.return=u,c):(c=l(c,h.children||[]),c.return=u,c)}function g(u,c,h,k,_){return c===null||c.tag!==7?(c=Kt(h,u.mode,k,_),c.return=u,c):(c=l(c,h),c.return=u,c)}function f(u,c,h){if(typeof c=="string"&&c!==""||typeof c=="number")return c=zl(""+c,u.mode,h),c.return=u,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Rs:return h=pn(c.type,c.key,c.props,null,u.mode,h),h.ref=Br(u,null,c),h.return=u,h;case ar:return c=Tl(c,u.mode,h),c.return=u,c;case ft:var k=c._init;return f(u,k(c._payload),h)}if(Hr(c)||Mr(c))return c=Kt(c,u.mode,h,null),c.return=u,c;Vs(u,c)}return null}function p(u,c,h,k){var _=c!==null?c.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:d(u,c,""+h,k);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Rs:return h.key===_?o(u,c,h,k):null;case ar:return h.key===_?x(u,c,h,k):null;case ft:return _=h._init,p(u,c,_(h._payload),k)}if(Hr(h)||Mr(h))return _!==null?null:g(u,c,h,k,null);Vs(u,h)}return null}function v(u,c,h,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return u=u.get(h)||null,d(c,u,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Rs:return u=u.get(k.key===null?h:k.key)||null,o(c,u,k,_);case ar:return u=u.get(k.key===null?h:k.key)||null,x(c,u,k,_);case ft:var w=k._init;return v(u,c,h,w(k._payload),_)}if(Hr(k)||Mr(k))return u=u.get(h)||null,g(c,u,k,_,null);Vs(c,k)}return null}function m(u,c,h,k){for(var _=null,w=null,S=c,P=c=0,A=null;S!==null&&P<h.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var z=p(u,S,h[P],k);if(z===null){S===null&&(S=A);break}e&&S&&z.alternate===null&&r(u,S),c=a(z,c,P),w===null?_=z:w.sibling=z,w=z,S=A}if(P===h.length)return s(u,S),X&&Ut(u,P),_;if(S===null){for(;P<h.length;P++)S=f(u,h[P],k),S!==null&&(c=a(S,c,P),w===null?_=S:w.sibling=S,w=S);return X&&Ut(u,P),_}for(S=n(u,S);P<h.length;P++)A=v(S,u,P,h[P],k),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?P:A.key),c=a(A,c,P),w===null?_=A:w.sibling=A,w=A);return e&&S.forEach(function(q){return r(u,q)}),X&&Ut(u,P),_}function j(u,c,h,k){var _=Mr(h);if(typeof _!="function")throw Error(L(150));if(h=_.call(h),h==null)throw Error(L(151));for(var w=_=null,S=c,P=c=0,A=null,z=h.next();S!==null&&!z.done;P++,z=h.next()){S.index>P?(A=S,S=null):A=S.sibling;var q=p(u,S,z.value,k);if(q===null){S===null&&(S=A);break}e&&S&&q.alternate===null&&r(u,S),c=a(q,c,P),w===null?_=q:w.sibling=q,w=q,S=A}if(z.done)return s(u,S),X&&Ut(u,P),_;if(S===null){for(;!z.done;P++,z=h.next())z=f(u,z.value,k),z!==null&&(c=a(z,c,P),w===null?_=z:w.sibling=z,w=z);return X&&Ut(u,P),_}for(S=n(u,S);!z.done;P++,z=h.next())z=v(S,u,P,z.value,k),z!==null&&(e&&z.alternate!==null&&S.delete(z.key===null?P:z.key),c=a(z,c,P),w===null?_=z:w.sibling=z,w=z);return e&&S.forEach(function(C){return r(u,C)}),X&&Ut(u,P),_}function y(u,c,h,k){if(typeof h=="object"&&h!==null&&h.type===ir&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Rs:e:{for(var _=h.key,w=c;w!==null;){if(w.key===_){if(_=h.type,_===ir){if(w.tag===7){s(u,w.sibling),c=l(w,h.props.children),c.return=u,u=c;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ft&&po(_)===w.type){s(u,w.sibling),c=l(w,h.props),c.ref=Br(u,w,h),c.return=u,u=c;break e}s(u,w);break}else r(u,w);w=w.sibling}h.type===ir?(c=Kt(h.props.children,u.mode,k,h.key),c.return=u,u=c):(k=pn(h.type,h.key,h.props,null,u.mode,k),k.ref=Br(u,c,h),k.return=u,u=k)}return i(u);case ar:e:{for(w=h.key;c!==null;){if(c.key===w)if(c.tag===4&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){s(u,c.sibling),c=l(c,h.children||[]),c.return=u,u=c;break e}else{s(u,c);break}else r(u,c);c=c.sibling}c=Tl(h,u.mode,k),c.return=u,u=c}return i(u);case ft:return w=h._init,y(u,c,w(h._payload),k)}if(Hr(h))return m(u,c,h,k);if(Mr(h))return j(u,c,h,k);Vs(u,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,c!==null&&c.tag===6?(s(u,c.sibling),c=l(c,h),c.return=u,u=c):(s(u,c),c=zl(h,u.mode,k),c.return=u,u=c),i(u)):s(u,c)}return y}var Er=dd(!0),ud=dd(!1),En=Ot(null),Ln=null,hr=null,ri=null;function si(){ri=hr=Ln=null}function ni(e){var r=En.current;Y(En),e._currentValue=r}function xa(e,r,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),e===s)break;e=e.return}}function wr(e,r){Ln=e,ri=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(_e=!0),e.firstContext=null)}function Ue(e){var r=e._currentValue;if(ri!==e)if(e={context:e,memoizedValue:r,next:null},hr===null){if(Ln===null)throw Error(L(308));hr=e,Ln.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return r}var Wt=null;function li(e){Wt===null?Wt=[e]:Wt.push(e)}function md(e,r,s,n){var l=r.interleaved;return l===null?(s.next=s,li(r)):(s.next=l.next,l.next=s),r.interleaved=s,mt(e,n)}function mt(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var gt=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ct(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Ct(e,r,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var l=n.pending;return l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r,mt(e,s)}return l=n.interleaved,l===null?(r.next=r,li(n)):(r.next=l.next,l.next=r),n.interleaved=r,mt(e,s)}function on(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var n=r.lanes;n&=e.pendingLanes,s|=n,r.lanes=s,Va(e,s)}}function ho(e,r){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var l=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?l=a=i:a=a.next=i,s=s.next}while(s!==null);a===null?l=a=r:a=a.next=r}else l=a=r;s={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function zn(e,r,s,n){var l=e.updateQueue;gt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,d=l.shared.pending;if(d!==null){l.shared.pending=null;var o=d,x=o.next;o.next=null,i===null?a=x:i.next=x,i=o;var g=e.alternate;g!==null&&(g=g.updateQueue,d=g.lastBaseUpdate,d!==i&&(d===null?g.firstBaseUpdate=x:d.next=x,g.lastBaseUpdate=o))}if(a!==null){var f=l.baseState;i=0,g=x=o=null,d=a;do{var p=d.lane,v=d.eventTime;if((n&p)===p){g!==null&&(g=g.next={eventTime:v,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var m=e,j=d;switch(p=r,v=s,j.tag){case 1:if(m=j.payload,typeof m=="function"){f=m.call(v,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=j.payload,p=typeof m=="function"?m.call(v,f,p):m,p==null)break e;f=ee({},f,p);break e;case 2:gt=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[d]:p.push(d))}else v={eventTime:v,lane:p,tag:d.tag,payload:d.payload,callback:d.callback,next:null},g===null?(x=g=v,o=f):g=g.next=v,i|=p;if(d=d.next,d===null){if(d=l.shared.pending,d===null)break;p=d,d=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(1);if(g===null&&(o=f),l.baseState=o,l.firstBaseUpdate=x,l.lastBaseUpdate=g,r=l.shared.interleaved,r!==null){l=r;do i|=l.lane,l=l.next;while(l!==r)}else a===null&&(l.shared.lanes=0);er|=i,e.lanes=i,e.memoizedState=f}}function fo(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var n=e[r],l=n.callback;if(l!==null){if(n.callback=null,n=s,typeof l!="function")throw Error(L(191,l));l.call(n)}}}var zs={},st=Ot(zs),ys=Ot(zs),vs=Ot(zs);function Vt(e){if(e===zs)throw Error(L(174));return e}function ii(e,r){switch(Q(vs,r),Q(ys,e),Q(st,zs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ql(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Ql(r,e)}Y(st),Q(st,r)}function Lr(){Y(st),Y(ys),Y(vs)}function pd(e){Vt(vs.current);var r=Vt(st.current),s=Ql(r,e.type);r!==s&&(Q(ys,e),Q(st,s))}function oi(e){ys.current===e&&(Y(st),Y(ys))}var J=Ot(0);function Tn(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var _l=[];function ci(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var cn=pt.ReactCurrentDispatcher,kl=pt.ReactCurrentBatchConfig,Zt=0,Z=null,ae=null,oe=null,Dn=!1,es=!1,js=0,kx=0;function xe(){throw Error(L(321))}function di(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Xe(e[s],r[s]))return!1;return!0}function ui(e,r,s,n,l,a){if(Zt=a,Z=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,cn.current=e===null||e.memoizedState===null?Lx:zx,e=s(n,l),es){a=0;do{if(es=!1,js=0,25<=a)throw Error(L(301));a+=1,oe=ae=null,r.updateQueue=null,cn.current=Tx,e=s(n,l)}while(es)}if(cn.current=Pn,r=ae!==null&&ae.next!==null,Zt=0,oe=ae=Z=null,Dn=!1,r)throw Error(L(300));return e}function mi(){var e=js!==0;return js=0,e}function Ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Z.memoizedState=oe=e:oe=oe.next=e,oe}function Be(){if(ae===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var r=oe===null?Z.memoizedState:oe.next;if(r!==null)oe=r,ae=e;else{if(e===null)throw Error(L(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},oe===null?Z.memoizedState=oe=e:oe=oe.next=e}return oe}function bs(e,r){return typeof r=="function"?r(e):r}function Sl(e){var r=Be(),s=r.queue;if(s===null)throw Error(L(311));s.lastRenderedReducer=e;var n=ae,l=n.baseQueue,a=s.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}n.baseQueue=l=a,s.pending=null}if(l!==null){a=l.next,n=n.baseState;var d=i=null,o=null,x=a;do{var g=x.lane;if((Zt&g)===g)o!==null&&(o=o.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),n=x.hasEagerState?x.eagerState:e(n,x.action);else{var f={lane:g,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};o===null?(d=o=f,i=n):o=o.next=f,Z.lanes|=g,er|=g}x=x.next}while(x!==null&&x!==a);o===null?i=n:o.next=d,Xe(n,r.memoizedState)||(_e=!0),r.memoizedState=n,r.baseState=i,r.baseQueue=o,s.lastRenderedState=n}if(e=s.interleaved,e!==null){l=e;do a=l.lane,Z.lanes|=a,er|=a,l=l.next;while(l!==e)}else l===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Cl(e){var r=Be(),s=r.queue;if(s===null)throw Error(L(311));s.lastRenderedReducer=e;var n=s.dispatch,l=s.pending,a=r.memoizedState;if(l!==null){s.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);Xe(a,r.memoizedState)||(_e=!0),r.memoizedState=a,r.baseQueue===null&&(r.baseState=a),s.lastRenderedState=a}return[a,n]}function hd(){}function fd(e,r){var s=Z,n=Be(),l=r(),a=!Xe(n.memoizedState,l);if(a&&(n.memoizedState=l,_e=!0),n=n.queue,xi(vd.bind(null,s,n,e),[e]),n.getSnapshot!==r||a||oe!==null&&oe.memoizedState.tag&1){if(s.flags|=2048,Ns(9,yd.bind(null,s,n,l,r),void 0,null),ce===null)throw Error(L(349));Zt&30||gd(s,r,l)}return l}function gd(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Z.updateQueue,r===null?(r={lastEffect:null,stores:null},Z.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function yd(e,r,s,n){r.value=s,r.getSnapshot=n,jd(r)&&bd(e)}function vd(e,r,s){return s(function(){jd(r)&&bd(e)})}function jd(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Xe(e,s)}catch{return!0}}function bd(e){var r=mt(e,1);r!==null&&Ge(r,e,1,-1)}function go(e){var r=Ze();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},r.queue=e,e=e.dispatch=Ex.bind(null,Z,e),[r.memoizedState,e]}function Ns(e,r,s,n){return e={tag:e,create:r,destroy:s,deps:n,next:null},r=Z.updateQueue,r===null?(r={lastEffect:null,stores:null},Z.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,r.lastEffect=e)),e}function Nd(){return Be().memoizedState}function dn(e,r,s,n){var l=Ze();Z.flags|=e,l.memoizedState=Ns(1|r,s,void 0,n===void 0?null:n)}function Kn(e,r,s,n){var l=Be();n=n===void 0?null:n;var a=void 0;if(ae!==null){var i=ae.memoizedState;if(a=i.destroy,n!==null&&di(n,i.deps)){l.memoizedState=Ns(r,s,a,n);return}}Z.flags|=e,l.memoizedState=Ns(1|r,s,a,n)}function yo(e,r){return dn(8390656,8,e,r)}function xi(e,r){return Kn(2048,8,e,r)}function wd(e,r){return Kn(4,2,e,r)}function _d(e,r){return Kn(4,4,e,r)}function kd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Sd(e,r,s){return s=s!=null?s.concat([e]):null,Kn(4,4,kd.bind(null,r,e),s)}function pi(){}function Cd(e,r){var s=Be();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&di(r,n[1])?n[0]:(s.memoizedState=[e,r],e)}function Ed(e,r){var s=Be();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&di(r,n[1])?n[0]:(e=e(),s.memoizedState=[e,r],e)}function Ld(e,r,s){return Zt&21?(Xe(s,r)||(s=Rc(),Z.lanes|=s,er|=s,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=s)}function Sx(e,r){var s=H;H=s!==0&&4>s?s:4,e(!0);var n=kl.transition;kl.transition={};try{e(!1),r()}finally{H=s,kl.transition=n}}function zd(){return Be().memoizedState}function Cx(e,r,s){var n=Lt(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Td(e))Dd(r,s);else if(s=md(e,r,s,n),s!==null){var l=ve();Ge(s,e,n,l),Pd(s,r,n)}}function Ex(e,r,s){var n=Lt(e),l={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Td(e))Dd(r,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=r.lastRenderedReducer,a!==null))try{var i=r.lastRenderedState,d=a(i,s);if(l.hasEagerState=!0,l.eagerState=d,Xe(d,i)){var o=r.interleaved;o===null?(l.next=l,li(r)):(l.next=o.next,o.next=l),r.interleaved=l;return}}catch{}finally{}s=md(e,r,l,n),s!==null&&(l=ve(),Ge(s,e,n,l),Pd(s,r,n))}}function Td(e){var r=e.alternate;return e===Z||r!==null&&r===Z}function Dd(e,r){es=Dn=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function Pd(e,r,s){if(s&4194240){var n=r.lanes;n&=e.pendingLanes,s|=n,r.lanes=s,Va(e,s)}}var Pn={readContext:Ue,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},Lx={readContext:Ue,useCallback:function(e,r){return Ze().memoizedState=[e,r===void 0?null:r],e},useContext:Ue,useEffect:yo,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,dn(4194308,4,kd.bind(null,r,e),s)},useLayoutEffect:function(e,r){return dn(4194308,4,e,r)},useInsertionEffect:function(e,r){return dn(4,2,e,r)},useMemo:function(e,r){var s=Ze();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var n=Ze();return r=s!==void 0?s(r):r,n.memoizedState=n.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Cx.bind(null,Z,e),[n.memoizedState,e]},useRef:function(e){var r=Ze();return e={current:e},r.memoizedState=e},useState:go,useDebugValue:pi,useDeferredValue:function(e){return Ze().memoizedState=e},useTransition:function(){var e=go(!1),r=e[0];return e=Sx.bind(null,e[1]),Ze().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var n=Z,l=Ze();if(X){if(s===void 0)throw Error(L(407));s=s()}else{if(s=r(),ce===null)throw Error(L(349));Zt&30||gd(n,r,s)}l.memoizedState=s;var a={value:s,getSnapshot:r};return l.queue=a,yo(vd.bind(null,n,a,e),[e]),n.flags|=2048,Ns(9,yd.bind(null,n,a,s,r),void 0,null),s},useId:function(){var e=Ze(),r=ce.identifierPrefix;if(X){var s=ot,n=it;s=(n&~(1<<32-Ye(n)-1)).toString(32)+s,r=":"+r+"R"+s,s=js++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=kx++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},zx={readContext:Ue,useCallback:Cd,useContext:Ue,useEffect:xi,useImperativeHandle:Sd,useInsertionEffect:wd,useLayoutEffect:_d,useMemo:Ed,useReducer:Sl,useRef:Nd,useState:function(){return Sl(bs)},useDebugValue:pi,useDeferredValue:function(e){var r=Be();return Ld(r,ae.memoizedState,e)},useTransition:function(){var e=Sl(bs)[0],r=Be().memoizedState;return[e,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:zd,unstable_isNewReconciler:!1},Tx={readContext:Ue,useCallback:Cd,useContext:Ue,useEffect:xi,useImperativeHandle:Sd,useInsertionEffect:wd,useLayoutEffect:_d,useMemo:Ed,useReducer:Cl,useRef:Nd,useState:function(){return Cl(bs)},useDebugValue:pi,useDeferredValue:function(e){var r=Be();return ae===null?r.memoizedState=e:Ld(r,ae.memoizedState,e)},useTransition:function(){var e=Cl(bs)[0],r=Be().memoizedState;return[e,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:zd,unstable_isNewReconciler:!1};function Ve(e,r){if(e&&e.defaultProps){r=ee({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function pa(e,r,s,n){r=e.memoizedState,s=s(n,r),s=s==null?r:ee({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Yn={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var n=ve(),l=Lt(e),a=ct(n,l);a.payload=r,s!=null&&(a.callback=s),r=Ct(e,a,l),r!==null&&(Ge(r,e,l,n),on(r,e,l))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var n=ve(),l=Lt(e),a=ct(n,l);a.tag=1,a.payload=r,s!=null&&(a.callback=s),r=Ct(e,a,l),r!==null&&(Ge(r,e,l,n),on(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=ve(),n=Lt(e),l=ct(s,n);l.tag=2,r!=null&&(l.callback=r),r=Ct(e,l,n),r!==null&&(Ge(r,e,n,s),on(r,e,n))}};function vo(e,r,s,n,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):r.prototype&&r.prototype.isPureReactComponent?!ps(s,n)||!ps(l,a):!0}function Rd(e,r,s){var n=!1,l=Pt,a=r.contextType;return typeof a=="object"&&a!==null?a=Ue(a):(l=Ce(r)?Xt:fe.current,n=r.contextTypes,a=(n=n!=null)?Sr(e,l):Pt),r=new r(s,a),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Yn,e.stateNode=r,r._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),r}function jo(e,r,s,n){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,n),r.state!==e&&Yn.enqueueReplaceState(r,r.state,null)}function ha(e,r,s,n){var l=e.stateNode;l.props=s,l.state=e.memoizedState,l.refs={},ai(e);var a=r.contextType;typeof a=="object"&&a!==null?l.context=Ue(a):(a=Ce(r)?Xt:fe.current,l.context=Sr(e,a)),l.state=e.memoizedState,a=r.getDerivedStateFromProps,typeof a=="function"&&(pa(e,r,a,s),l.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(r=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),r!==l.state&&Yn.enqueueReplaceState(l,l.state,null),zn(e,s,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,r){try{var s="",n=r;do s+=lm(n),n=n.return;while(n);var l=s}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:r,stack:l,digest:null}}function El(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function fa(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Dx=typeof WeakMap=="function"?WeakMap:Map;function Od(e,r,s){s=ct(-1,s),s.tag=3,s.payload={element:null};var n=r.value;return s.callback=function(){On||(On=!0,Sa=n),fa(e,r)},s}function Fd(e,r,s){s=ct(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=r.value;s.payload=function(){return n(l)},s.callback=function(){fa(e,r)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){fa(e,r),typeof n!="function"&&(Et===null?Et=new Set([this]):Et.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})}),s}function bo(e,r,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Dx;var l=new Set;n.set(r,l)}else l=n.get(r),l===void 0&&(l=new Set,n.set(r,l));l.has(s)||(l.add(s),e=Hx.bind(null,e,r,s),r.then(e,e))}function No(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function wo(e,r,s,n,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=ct(-1,1),r.tag=2,Ct(s,r,1))),s.lanes|=1),e)}var Px=pt.ReactCurrentOwner,_e=!1;function ge(e,r,s,n){r.child=e===null?ud(r,null,s,n):Er(r,e.child,s,n)}function _o(e,r,s,n,l){s=s.render;var a=r.ref;return wr(r,l),n=ui(e,r,s,n,a,l),s=mi(),e!==null&&!_e?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~l,xt(e,r,l)):(X&&s&&Za(r),r.flags|=1,ge(e,r,n,l),r.child)}function ko(e,r,s,n,l){if(e===null){var a=s.type;return typeof a=="function"&&!Ni(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=a,Md(e,r,a,n,l)):(e=pn(s.type,null,n,r,r.mode,l),e.ref=r.ref,e.return=r,r.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(s=s.compare,s=s!==null?s:ps,s(i,n)&&e.ref===r.ref)return xt(e,r,l)}return r.flags|=1,e=zt(a,n),e.ref=r.ref,e.return=r,r.child=e}function Md(e,r,s,n,l){if(e!==null){var a=e.memoizedProps;if(ps(a,n)&&e.ref===r.ref)if(_e=!1,r.pendingProps=n=a,(e.lanes&l)!==0)e.flags&131072&&(_e=!0);else return r.lanes=e.lanes,xt(e,r,l)}return ga(e,r,s,n,l)}function Id(e,r,s){var n=r.pendingProps,l=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(gr,Le),Le|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Q(gr,Le),Le|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Q(gr,Le),Le|=n}else a!==null?(n=a.baseLanes|s,r.memoizedState=null):n=s,Q(gr,Le),Le|=n;return ge(e,r,l,s),r.child}function Ad(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function ga(e,r,s,n,l){var a=Ce(s)?Xt:fe.current;return a=Sr(r,a),wr(r,l),s=ui(e,r,s,n,a,l),n=mi(),e!==null&&!_e?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~l,xt(e,r,l)):(X&&n&&Za(r),r.flags|=1,ge(e,r,s,l),r.child)}function So(e,r,s,n,l){if(Ce(s)){var a=!0;kn(r)}else a=!1;if(wr(r,l),r.stateNode===null)un(e,r),Rd(r,s,n),ha(r,s,n,l),n=!0;else if(e===null){var i=r.stateNode,d=r.memoizedProps;i.props=d;var o=i.context,x=s.contextType;typeof x=="object"&&x!==null?x=Ue(x):(x=Ce(s)?Xt:fe.current,x=Sr(r,x));var g=s.getDerivedStateFromProps,f=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==n||o!==x)&&jo(r,i,n,x),gt=!1;var p=r.memoizedState;i.state=p,zn(r,n,i,l),o=r.memoizedState,d!==n||p!==o||Se.current||gt?(typeof g=="function"&&(pa(r,s,g,n),o=r.memoizedState),(d=gt||vo(r,s,d,n,p,o,x))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(r.flags|=4194308)):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=o),i.props=n,i.state=o,i.context=x,n=d):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{i=r.stateNode,xd(e,r),d=r.memoizedProps,x=r.type===r.elementType?d:Ve(r.type,d),i.props=x,f=r.pendingProps,p=i.context,o=s.contextType,typeof o=="object"&&o!==null?o=Ue(o):(o=Ce(s)?Xt:fe.current,o=Sr(r,o));var v=s.getDerivedStateFromProps;(g=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==f||p!==o)&&jo(r,i,n,o),gt=!1,p=r.memoizedState,i.state=p,zn(r,n,i,l);var m=r.memoizedState;d!==f||p!==m||Se.current||gt?(typeof v=="function"&&(pa(r,s,v,n),m=r.memoizedState),(x=gt||vo(r,s,x,n,p,m,o)||!1)?(g||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,o)),typeof i.componentDidUpdate=="function"&&(r.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&p===e.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&p===e.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=m),i.props=n,i.state=m,i.context=o,n=x):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&p===e.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&p===e.memoizedState||(r.flags|=1024),n=!1)}return ya(e,r,s,n,a,l)}function ya(e,r,s,n,l,a){Ad(e,r);var i=(r.flags&128)!==0;if(!n&&!i)return l&&uo(r,s,!1),xt(e,r,a);n=r.stateNode,Px.current=r;var d=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,e!==null&&i?(r.child=Er(r,e.child,null,a),r.child=Er(r,null,d,a)):ge(e,r,d,a),r.memoizedState=n.state,l&&uo(r,s,!0),r.child}function $d(e){var r=e.stateNode;r.pendingContext?co(e,r.pendingContext,r.pendingContext!==r.context):r.context&&co(e,r.context,!1),ii(e,r.containerInfo)}function Co(e,r,s,n,l){return Cr(),ti(l),r.flags|=256,ge(e,r,s,n),r.child}var va={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,r,s){var n=r.pendingProps,l=J.current,a=!1,i=(r.flags&128)!==0,d;if((d=i)||(d=e!==null&&e.memoizedState===null?!1:(l&2)!==0),d?(a=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Q(J,l&1),e===null)return ma(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(i=n.children,e=n.fallback,a?(n=r.mode,a=r.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Jn(i,n,0,null),e=Kt(e,n,s,null),a.return=r,e.return=r,a.sibling=e,r.child=a,r.child.memoizedState=ja(s),r.memoizedState=va,e):hi(r,i));if(l=e.memoizedState,l!==null&&(d=l.dehydrated,d!==null))return Rx(e,r,i,n,d,l,s);if(a){a=n.fallback,i=r.mode,l=e.child,d=l.sibling;var o={mode:"hidden",children:n.children};return!(i&1)&&r.child!==l?(n=r.child,n.childLanes=0,n.pendingProps=o,r.deletions=null):(n=zt(l,o),n.subtreeFlags=l.subtreeFlags&14680064),d!==null?a=zt(d,a):(a=Kt(a,i,s,null),a.flags|=2),a.return=r,n.return=r,n.sibling=a,r.child=n,n=a,a=r.child,i=e.child.memoizedState,i=i===null?ja(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~s,r.memoizedState=va,n}return a=e.child,e=a.sibling,n=zt(a,{mode:"visible",children:n.children}),!(r.mode&1)&&(n.lanes=s),n.return=r,n.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=n,r.memoizedState=null,n}function hi(e,r){return r=Jn({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Hs(e,r,s,n){return n!==null&&ti(n),Er(r,e.child,null,s),e=hi(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Rx(e,r,s,n,l,a,i){if(s)return r.flags&256?(r.flags&=-257,n=El(Error(L(422))),Hs(e,r,i,n)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(a=n.fallback,l=r.mode,n=Jn({mode:"visible",children:n.children},l,0,null),a=Kt(a,l,i,null),a.flags|=2,n.return=r,a.return=r,n.sibling=a,r.child=n,r.mode&1&&Er(r,e.child,null,i),r.child.memoizedState=ja(i),r.memoizedState=va,a);if(!(r.mode&1))return Hs(e,r,i,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var d=n.dgst;return n=d,a=Error(L(419)),n=El(a,n,void 0),Hs(e,r,i,n)}if(d=(i&e.childLanes)!==0,_e||d){if(n=ce,n!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,mt(e,l),Ge(n,e,l,-1))}return bi(),n=El(Error(L(421))),Hs(e,r,i,n)}return l.data==="$?"?(r.flags|=128,r.child=e.child,r=Qx.bind(null,e),l._reactRetry=r,null):(e=a.treeContext,ze=St(l.nextSibling),Te=r,X=!0,Qe=null,e!==null&&(Oe[Fe++]=it,Oe[Fe++]=ot,Oe[Fe++]=Jt,it=e.id,ot=e.overflow,Jt=r),r=hi(r,n.children),r.flags|=4096,r)}function Eo(e,r,s){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r),xa(e.return,r,s)}function Ll(e,r,s,n,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:l}:(a.isBackwards=r,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=l)}function Bd(e,r,s){var n=r.pendingProps,l=n.revealOrder,a=n.tail;if(ge(e,r,n.children,s),n=J.current,n&2)n=n&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eo(e,s,r);else if(e.tag===19)Eo(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(J,n),!(r.mode&1))r.memoizedState=null;else switch(l){case"forwards":for(s=r.child,l=null;s!==null;)e=s.alternate,e!==null&&Tn(e)===null&&(l=s),s=s.sibling;s=l,s===null?(l=r.child,r.child=null):(l=s.sibling,s.sibling=null),Ll(r,!1,l,s,a);break;case"backwards":for(s=null,l=r.child,r.child=null;l!==null;){if(e=l.alternate,e!==null&&Tn(e)===null){r.child=l;break}e=l.sibling,l.sibling=s,s=l,l=e}Ll(r,!0,s,null,a);break;case"together":Ll(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function un(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function xt(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),er|=r.lanes,!(s&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(L(153));if(r.child!==null){for(e=r.child,s=zt(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=zt(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function Ox(e,r,s){switch(r.tag){case 3:$d(r),Cr();break;case 5:pd(r);break;case 1:Ce(r.type)&&kn(r);break;case 4:ii(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,l=r.memoizedProps.value;Q(En,n._currentValue),n._currentValue=l;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(Q(J,J.current&1),r.flags|=128,null):s&r.child.childLanes?Ud(e,r,s):(Q(J,J.current&1),e=xt(e,r,s),e!==null?e.sibling:null);Q(J,J.current&1);break;case 19:if(n=(s&r.childLanes)!==0,e.flags&128){if(n)return Bd(e,r,s);r.flags|=128}if(l=r.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Q(J,J.current),n)break;return null;case 22:case 23:return r.lanes=0,Id(e,r,s)}return xt(e,r,s)}var qd,ba,Wd,Vd;qd=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};ba=function(){};Wd=function(e,r,s,n){var l=e.memoizedProps;if(l!==n){e=r.stateNode,Vt(st.current);var a=null;switch(s){case"input":l=ql(e,l),n=ql(e,n),a=[];break;case"select":l=ee({},l,{value:void 0}),n=ee({},n,{value:void 0}),a=[];break;case"textarea":l=Hl(e,l),n=Hl(e,n),a=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wn)}Kl(s,n);var i;s=null;for(x in l)if(!n.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var d=l[x];for(i in d)d.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(is.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in n){var o=n[x];if(d=l!=null?l[x]:void 0,n.hasOwnProperty(x)&&o!==d&&(o!=null||d!=null))if(x==="style")if(d){for(i in d)!d.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in o)o.hasOwnProperty(i)&&d[i]!==o[i]&&(s||(s={}),s[i]=o[i])}else s||(a||(a=[]),a.push(x,s)),s=o;else x==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,d=d?d.__html:void 0,o!=null&&d!==o&&(a=a||[]).push(x,o)):x==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(x,""+o):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(is.hasOwnProperty(x)?(o!=null&&x==="onScroll"&&K("scroll",e),a||d===o||(a=[])):(a=a||[]).push(x,o))}s&&(a=a||[]).push("style",s);var x=a;(r.updateQueue=x)&&(r.flags|=4)}};Vd=function(e,r,s,n){s!==n&&(r.flags|=4)};function qr(e,r){if(!X)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pe(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(r)for(var l=e.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)s|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=s,r}function Fx(e,r,s){var n=r.pendingProps;switch(ei(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(r),null;case 1:return Ce(r.type)&&_n(),pe(r),null;case 3:return n=r.stateNode,Lr(),Y(Se),Y(fe),ci(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ws(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Qe!==null&&(La(Qe),Qe=null))),ba(e,r),pe(r),null;case 5:oi(r);var l=Vt(vs.current);if(s=r.type,e!==null&&r.stateNode!=null)Wd(e,r,s,n,l),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(L(166));return pe(r),null}if(e=Vt(st.current),Ws(r)){n=r.stateNode,s=r.type;var a=r.memoizedProps;switch(n[et]=r,n[gs]=a,e=(r.mode&1)!==0,s){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(l=0;l<Kr.length;l++)K(Kr[l],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":Fi(n,a),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},K("invalid",n);break;case"textarea":Ii(n,a),K("invalid",n)}Kl(s,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var d=a[i];i==="children"?typeof d=="string"?n.textContent!==d&&(a.suppressHydrationWarning!==!0&&qs(n.textContent,d,e),l=["children",d]):typeof d=="number"&&n.textContent!==""+d&&(a.suppressHydrationWarning!==!0&&qs(n.textContent,d,e),l=["children",""+d]):is.hasOwnProperty(i)&&d!=null&&i==="onScroll"&&K("scroll",n)}switch(s){case"input":Os(n),Mi(n,a,!0);break;case"textarea":Os(n),Ai(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=wn)}n=l,r.updateQueue=n,n!==null&&(r.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[et]=r,e[gs]=n,qd(e,r,!1,!1),r.stateNode=e;e:{switch(i=Yl(s,n),s){case"dialog":K("cancel",e),K("close",e),l=n;break;case"iframe":case"object":case"embed":K("load",e),l=n;break;case"video":case"audio":for(l=0;l<Kr.length;l++)K(Kr[l],e);l=n;break;case"source":K("error",e),l=n;break;case"img":case"image":case"link":K("error",e),K("load",e),l=n;break;case"details":K("toggle",e),l=n;break;case"input":Fi(e,n),l=ql(e,n),K("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=ee({},n,{value:void 0}),K("invalid",e);break;case"textarea":Ii(e,n),l=Hl(e,n),K("invalid",e);break;default:l=n}Kl(s,l),d=l;for(a in d)if(d.hasOwnProperty(a)){var o=d[a];a==="style"?Nc(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&jc(e,o)):a==="children"?typeof o=="string"?(s!=="textarea"||o!=="")&&os(e,o):typeof o=="number"&&os(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(is.hasOwnProperty(a)?o!=null&&a==="onScroll"&&K("scroll",e):o!=null&&Aa(e,a,o,i))}switch(s){case"input":Os(e),Mi(e,n,!1);break;case"textarea":Os(e),Ai(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?vr(e,!!n.multiple,a,!1):n.defaultValue!=null&&vr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=wn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return pe(r),null;case 6:if(e&&r.stateNode!=null)Vd(e,r,e.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(L(166));if(s=Vt(vs.current),Vt(st.current),Ws(r)){if(n=r.stateNode,s=r.memoizedProps,n[et]=r,(a=n.nodeValue!==s)&&(e=Te,e!==null))switch(e.tag){case 3:qs(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qs(n.nodeValue,s,(e.mode&1)!==0)}a&&(r.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[et]=r,r.stateNode=n}return pe(r),null;case 13:if(Y(J),n=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&ze!==null&&r.mode&1&&!(r.flags&128))cd(),Cr(),r.flags|=98560,a=!1;else if(a=Ws(r),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[et]=r}else Cr(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;pe(r),a=!1}else Qe!==null&&(La(Qe),Qe=null),a=!0;if(!a)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(r.child.flags|=8192,r.mode&1&&(e===null||J.current&1?ie===0&&(ie=3):bi())),r.updateQueue!==null&&(r.flags|=4),pe(r),null);case 4:return Lr(),ba(e,r),e===null&&hs(r.stateNode.containerInfo),pe(r),null;case 10:return ni(r.type._context),pe(r),null;case 17:return Ce(r.type)&&_n(),pe(r),null;case 19:if(Y(J),a=r.memoizedState,a===null)return pe(r),null;if(n=(r.flags&128)!==0,i=a.rendering,i===null)if(n)qr(a,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(i=Tn(e),i!==null){for(r.flags|=128,qr(a,!1),n=i.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)a=s,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Q(J,J.current&1|2),r.child}e=e.sibling}a.tail!==null&&ne()>Tr&&(r.flags|=128,n=!0,qr(a,!1),r.lanes=4194304)}else{if(!n)if(e=Tn(i),e!==null){if(r.flags|=128,n=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),qr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!X)return pe(r),null}else 2*ne()-a.renderingStartTime>Tr&&s!==1073741824&&(r.flags|=128,n=!0,qr(a,!1),r.lanes=4194304);a.isBackwards?(i.sibling=r.child,r.child=i):(s=a.last,s!==null?s.sibling=i:r.child=i,a.last=i)}return a.tail!==null?(r=a.tail,a.rendering=r,a.tail=r.sibling,a.renderingStartTime=ne(),r.sibling=null,s=J.current,Q(J,n?s&1|2:s&1),r):(pe(r),null);case 22:case 23:return ji(),n=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(r.flags|=8192),n&&r.mode&1?Le&1073741824&&(pe(r),r.subtreeFlags&6&&(r.flags|=8192)):pe(r),null;case 24:return null;case 25:return null}throw Error(L(156,r.tag))}function Mx(e,r){switch(ei(r),r.tag){case 1:return Ce(r.type)&&_n(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Lr(),Y(Se),Y(fe),ci(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return oi(r),null;case 13:if(Y(J),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(L(340));Cr()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Y(J),null;case 4:return Lr(),null;case 10:return ni(r.type._context),null;case 22:case 23:return ji(),null;case 24:return null;default:return null}}var Qs=!1,he=!1,Ix=typeof WeakSet=="function"?WeakSet:Set,O=null;function fr(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){se(e,r,n)}else s.current=null}function Na(e,r,s){try{s()}catch(n){se(e,r,n)}}var Lo=!1;function Ax(e,r){if(la=jn,e=Gc(),Ja(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var l=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var i=0,d=-1,o=-1,x=0,g=0,f=e,p=null;t:for(;;){for(var v;f!==s||l!==0&&f.nodeType!==3||(d=i+l),f!==a||n!==0&&f.nodeType!==3||(o=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===e)break t;if(p===s&&++x===l&&(d=i),p===a&&++g===n&&(o=i),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}s=d===-1||o===-1?null:{start:d,end:o}}else s=null}s=s||{start:0,end:0}}else s=null;for(aa={focusedElem:e,selectionRange:s},jn=!1,O=r;O!==null;)if(r=O,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,O=e;else for(;O!==null;){r=O;try{var m=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var j=m.memoizedProps,y=m.memoizedState,u=r.stateNode,c=u.getSnapshotBeforeUpdate(r.elementType===r.type?j:Ve(r.type,j),y);u.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var h=r.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){se(r,r.return,k)}if(e=r.sibling,e!==null){e.return=r.return,O=e;break}O=r.return}return m=Lo,Lo=!1,m}function ts(e,r,s){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Na(r,s,a)}l=l.next}while(l!==n)}}function Gn(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==r)}}function wa(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function Hd(e){var r=e.alternate;r!==null&&(e.alternate=null,Hd(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[et],delete r[gs],delete r[ca],delete r[bx],delete r[Nx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qd(e){return e.tag===5||e.tag===3||e.tag===4}function zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _a(e,r,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=wn));else if(n!==4&&(e=e.child,e!==null))for(_a(e,r,s),e=e.sibling;e!==null;)_a(e,r,s),e=e.sibling}function ka(e,r,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ka(e,r,s),e=e.sibling;e!==null;)ka(e,r,s),e=e.sibling}var de=null,He=!1;function ht(e,r,s){for(s=s.child;s!==null;)Kd(e,r,s),s=s.sibling}function Kd(e,r,s){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Bn,s)}catch{}switch(s.tag){case 5:he||fr(s,r);case 6:var n=de,l=He;de=null,ht(e,r,s),de=n,He=l,de!==null&&(He?(e=de,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):de.removeChild(s.stateNode));break;case 18:de!==null&&(He?(e=de,s=s.stateNode,e.nodeType===8?Nl(e.parentNode,s):e.nodeType===1&&Nl(e,s),ms(e)):Nl(de,s.stateNode));break;case 4:n=de,l=He,de=s.stateNode.containerInfo,He=!0,ht(e,r,s),de=n,He=l;break;case 0:case 11:case 14:case 15:if(!he&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Na(s,r,i),l=l.next}while(l!==n)}ht(e,r,s);break;case 1:if(!he&&(fr(s,r),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(d){se(s,r,d)}ht(e,r,s);break;case 21:ht(e,r,s);break;case 22:s.mode&1?(he=(n=he)||s.memoizedState!==null,ht(e,r,s),he=n):ht(e,r,s);break;default:ht(e,r,s)}}function To(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ix),r.forEach(function(n){var l=Kx.bind(null,e,n);s.has(n)||(s.add(n),n.then(l,l))})}}function qe(e,r){var s=r.deletions;if(s!==null)for(var n=0;n<s.length;n++){var l=s[n];try{var a=e,i=r,d=i;e:for(;d!==null;){switch(d.tag){case 5:de=d.stateNode,He=!1;break e;case 3:de=d.stateNode.containerInfo,He=!0;break e;case 4:de=d.stateNode.containerInfo,He=!0;break e}d=d.return}if(de===null)throw Error(L(160));Kd(a,i,l),de=null,He=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(x){se(l,r,x)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Yd(r,e),r=r.sibling}function Yd(e,r){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(r,e),Je(e),n&4){try{ts(3,e,e.return),Gn(3,e)}catch(j){se(e,e.return,j)}try{ts(5,e,e.return)}catch(j){se(e,e.return,j)}}break;case 1:qe(r,e),Je(e),n&512&&s!==null&&fr(s,s.return);break;case 5:if(qe(r,e),Je(e),n&512&&s!==null&&fr(s,s.return),e.flags&32){var l=e.stateNode;try{os(l,"")}catch(j){se(e,e.return,j)}}if(n&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=s!==null?s.memoizedProps:a,d=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{d==="input"&&a.type==="radio"&&a.name!=null&&gc(l,a),Yl(d,i);var x=Yl(d,a);for(i=0;i<o.length;i+=2){var g=o[i],f=o[i+1];g==="style"?Nc(l,f):g==="dangerouslySetInnerHTML"?jc(l,f):g==="children"?os(l,f):Aa(l,g,f,x)}switch(d){case"input":Wl(l,a);break;case"textarea":yc(l,a);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?vr(l,!!a.multiple,v,!1):p!==!!a.multiple&&(a.defaultValue!=null?vr(l,!!a.multiple,a.defaultValue,!0):vr(l,!!a.multiple,a.multiple?[]:"",!1))}l[gs]=a}catch(j){se(e,e.return,j)}}break;case 6:if(qe(r,e),Je(e),n&4){if(e.stateNode===null)throw Error(L(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(j){se(e,e.return,j)}}break;case 3:if(qe(r,e),Je(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{ms(r.containerInfo)}catch(j){se(e,e.return,j)}break;case 4:qe(r,e),Je(e);break;case 13:qe(r,e),Je(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(yi=ne())),n&4&&To(e);break;case 22:if(g=s!==null&&s.memoizedState!==null,e.mode&1?(he=(x=he)||g,qe(r,e),he=x):qe(r,e),Je(e),n&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!g&&e.mode&1)for(O=e,g=e.child;g!==null;){for(f=O=g;O!==null;){switch(p=O,v=p.child,p.tag){case 0:case 11:case 14:case 15:ts(4,p,p.return);break;case 1:fr(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,s=p.return;try{r=n,m.props=r.memoizedProps,m.state=r.memoizedState,m.componentWillUnmount()}catch(j){se(n,s,j)}}break;case 5:fr(p,p.return);break;case 22:if(p.memoizedState!==null){Po(f);continue}}v!==null?(v.return=p,O=v):Po(f)}g=g.sibling}e:for(g=null,f=e;;){if(f.tag===5){if(g===null){g=f;try{l=f.stateNode,x?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(d=f.stateNode,o=f.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,d.style.display=bc("display",i))}catch(j){se(e,e.return,j)}}}else if(f.tag===6){if(g===null)try{f.stateNode.nodeValue=x?"":f.memoizedProps}catch(j){se(e,e.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qe(r,e),Je(e),n&4&&To(e);break;case 21:break;default:qe(r,e),Je(e)}}function Je(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(Qd(s)){var n=s;break e}s=s.return}throw Error(L(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(os(l,""),n.flags&=-33);var a=zo(e);ka(e,a,l);break;case 3:case 4:var i=n.stateNode.containerInfo,d=zo(e);_a(e,d,i);break;default:throw Error(L(161))}}catch(o){se(e,e.return,o)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function $x(e,r,s){O=e,Gd(e)}function Gd(e,r,s){for(var n=(e.mode&1)!==0;O!==null;){var l=O,a=l.child;if(l.tag===22&&n){var i=l.memoizedState!==null||Qs;if(!i){var d=l.alternate,o=d!==null&&d.memoizedState!==null||he;d=Qs;var x=he;if(Qs=i,(he=o)&&!x)for(O=l;O!==null;)i=O,o=i.child,i.tag===22&&i.memoizedState!==null?Ro(l):o!==null?(o.return=i,O=o):Ro(l);for(;a!==null;)O=a,Gd(a),a=a.sibling;O=l,Qs=d,he=x}Do(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,O=a):Do(e)}}function Do(e){for(;O!==null;){var r=O;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:he||Gn(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!he)if(s===null)n.componentDidMount();else{var l=r.elementType===r.type?s.memoizedProps:Ve(r.type,s.memoizedProps);n.componentDidUpdate(l,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=r.updateQueue;a!==null&&fo(r,a,n);break;case 3:var i=r.updateQueue;if(i!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}fo(r,i,s)}break;case 5:var d=r.stateNode;if(s===null&&r.flags&4){s=d;var o=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break;case"img":o.src&&(s.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var x=r.alternate;if(x!==null){var g=x.memoizedState;if(g!==null){var f=g.dehydrated;f!==null&&ms(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}he||r.flags&512&&wa(r)}catch(p){se(r,r.return,p)}}if(r===e){O=null;break}if(s=r.sibling,s!==null){s.return=r.return,O=s;break}O=r.return}}function Po(e){for(;O!==null;){var r=O;if(r===e){O=null;break}var s=r.sibling;if(s!==null){s.return=r.return,O=s;break}O=r.return}}function Ro(e){for(;O!==null;){var r=O;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Gn(4,r)}catch(o){se(r,s,o)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var l=r.return;try{n.componentDidMount()}catch(o){se(r,l,o)}}var a=r.return;try{wa(r)}catch(o){se(r,a,o)}break;case 5:var i=r.return;try{wa(r)}catch(o){se(r,i,o)}}}catch(o){se(r,r.return,o)}if(r===e){O=null;break}var d=r.sibling;if(d!==null){d.return=r.return,O=d;break}O=r.return}}var Ux=Math.ceil,Rn=pt.ReactCurrentDispatcher,fi=pt.ReactCurrentOwner,$e=pt.ReactCurrentBatchConfig,W=0,ce=null,le=null,ue=0,Le=0,gr=Ot(0),ie=0,ws=null,er=0,Xn=0,gi=0,rs=null,we=null,yi=0,Tr=1/0,lt=null,On=!1,Sa=null,Et=null,Ks=!1,bt=null,Fn=0,ss=0,Ca=null,mn=-1,xn=0;function ve(){return W&6?ne():mn!==-1?mn:mn=ne()}function Lt(e){return e.mode&1?W&2&&ue!==0?ue&-ue:_x.transition!==null?(xn===0&&(xn=Rc()),xn):(e=H,e!==0||(e=window.event,e=e===void 0?16:Uc(e.type)),e):1}function Ge(e,r,s,n){if(50<ss)throw ss=0,Ca=null,Error(L(185));Cs(e,s,n),(!(W&2)||e!==ce)&&(e===ce&&(!(W&2)&&(Xn|=s),ie===4&&vt(e,ue)),Ee(e,n),s===1&&W===0&&!(r.mode&1)&&(Tr=ne()+500,Qn&&Ft()))}function Ee(e,r){var s=e.callbackNode;_m(e,r);var n=vn(e,e===ce?ue:0);if(n===0)s!==null&&Bi(s),e.callbackNode=null,e.callbackPriority=0;else if(r=n&-n,e.callbackPriority!==r){if(s!=null&&Bi(s),r===1)e.tag===0?wx(Oo.bind(null,e)):ad(Oo.bind(null,e)),vx(function(){!(W&6)&&Ft()}),s=null;else{switch(Oc(n)){case 1:s=Wa;break;case 4:s=Dc;break;case 16:s=yn;break;case 536870912:s=Pc;break;default:s=yn}s=nu(s,Xd.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function Xd(e,r){if(mn=-1,xn=0,W&6)throw Error(L(327));var s=e.callbackNode;if(_r()&&e.callbackNode!==s)return null;var n=vn(e,e===ce?ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||r)r=Mn(e,n);else{r=n;var l=W;W|=2;var a=Zd();(ce!==e||ue!==r)&&(lt=null,Tr=ne()+500,Qt(e,r));do try{Wx();break}catch(d){Jd(e,d)}while(1);si(),Rn.current=a,W=l,le!==null?r=0:(ce=null,ue=0,r=ie)}if(r!==0){if(r===2&&(l=ea(e),l!==0&&(n=l,r=Ea(e,l))),r===1)throw s=ws,Qt(e,0),vt(e,n),Ee(e,ne()),s;if(r===6)vt(e,n);else{if(l=e.current.alternate,!(n&30)&&!Bx(l)&&(r=Mn(e,n),r===2&&(a=ea(e),a!==0&&(n=a,r=Ea(e,a))),r===1))throw s=ws,Qt(e,0),vt(e,n),Ee(e,ne()),s;switch(e.finishedWork=l,e.finishedLanes=n,r){case 0:case 1:throw Error(L(345));case 2:Bt(e,we,lt);break;case 3:if(vt(e,n),(n&130023424)===n&&(r=yi+500-ne(),10<r)){if(vn(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){ve(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=oa(Bt.bind(null,e,we,lt),r);break}Bt(e,we,lt);break;case 4:if(vt(e,n),(n&4194240)===n)break;for(r=e.eventTimes,l=-1;0<n;){var i=31-Ye(n);a=1<<i,i=r[i],i>l&&(l=i),n&=~a}if(n=l,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ux(n/1960))-n,10<n){e.timeoutHandle=oa(Bt.bind(null,e,we,lt),n);break}Bt(e,we,lt);break;case 5:Bt(e,we,lt);break;default:throw Error(L(329))}}}return Ee(e,ne()),e.callbackNode===s?Xd.bind(null,e):null}function Ea(e,r){var s=rs;return e.current.memoizedState.isDehydrated&&(Qt(e,r).flags|=256),e=Mn(e,r),e!==2&&(r=we,we=s,r!==null&&La(r)),e}function La(e){we===null?we=e:we.push.apply(we,e)}function Bx(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var l=s[n],a=l.getSnapshot;l=l.value;try{if(!Xe(a(),l))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vt(e,r){for(r&=~gi,r&=~Xn,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Ye(r),n=1<<s;e[s]=-1,r&=~n}}function Oo(e){if(W&6)throw Error(L(327));_r();var r=vn(e,0);if(!(r&1))return Ee(e,ne()),null;var s=Mn(e,r);if(e.tag!==0&&s===2){var n=ea(e);n!==0&&(r=n,s=Ea(e,n))}if(s===1)throw s=ws,Qt(e,0),vt(e,r),Ee(e,ne()),s;if(s===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Bt(e,we,lt),Ee(e,ne()),null}function vi(e,r){var s=W;W|=1;try{return e(r)}finally{W=s,W===0&&(Tr=ne()+500,Qn&&Ft())}}function tr(e){bt!==null&&bt.tag===0&&!(W&6)&&_r();var r=W;W|=1;var s=$e.transition,n=H;try{if($e.transition=null,H=1,e)return e()}finally{H=n,$e.transition=s,W=r,!(W&6)&&Ft()}}function ji(){Le=gr.current,Y(gr)}function Qt(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,yx(s)),le!==null)for(s=le.return;s!==null;){var n=s;switch(ei(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_n();break;case 3:Lr(),Y(Se),Y(fe),ci();break;case 5:oi(n);break;case 4:Lr();break;case 13:Y(J);break;case 19:Y(J);break;case 10:ni(n.type._context);break;case 22:case 23:ji()}s=s.return}if(ce=e,le=e=zt(e.current,null),ue=Le=r,ie=0,ws=null,gi=Xn=er=0,we=rs=null,Wt!==null){for(r=0;r<Wt.length;r++)if(s=Wt[r],n=s.interleaved,n!==null){s.interleaved=null;var l=n.next,a=s.pending;if(a!==null){var i=a.next;a.next=l,n.next=i}s.pending=n}Wt=null}return e}function Jd(e,r){do{var s=le;try{if(si(),cn.current=Pn,Dn){for(var n=Z.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Dn=!1}if(Zt=0,oe=ae=Z=null,es=!1,js=0,fi.current=null,s===null||s.return===null){ie=1,ws=r,le=null;break}e:{var a=e,i=s.return,d=s,o=r;if(r=ue,d.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var x=o,g=d,f=g.tag;if(!(g.mode&1)&&(f===0||f===11||f===15)){var p=g.alternate;p?(g.updateQueue=p.updateQueue,g.memoizedState=p.memoizedState,g.lanes=p.lanes):(g.updateQueue=null,g.memoizedState=null)}var v=No(i);if(v!==null){v.flags&=-257,wo(v,i,d,a,r),v.mode&1&&bo(a,x,r),r=v,o=x;var m=r.updateQueue;if(m===null){var j=new Set;j.add(o),r.updateQueue=j}else m.add(o);break e}else{if(!(r&1)){bo(a,x,r),bi();break e}o=Error(L(426))}}else if(X&&d.mode&1){var y=No(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),wo(y,i,d,a,r),ti(zr(o,d));break e}}a=o=zr(o,d),ie!==4&&(ie=2),rs===null?rs=[a]:rs.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,r&=-r,a.lanes|=r;var u=Od(a,o,r);ho(a,u);break e;case 1:d=o;var c=a.type,h=a.stateNode;if(!(a.flags&128)&&(typeof c.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Et===null||!Et.has(h)))){a.flags|=65536,r&=-r,a.lanes|=r;var k=Fd(a,d,r);ho(a,k);break e}}a=a.return}while(a!==null)}tu(s)}catch(_){r=_,le===s&&s!==null&&(le=s=s.return);continue}break}while(1)}function Zd(){var e=Rn.current;return Rn.current=Pn,e===null?Pn:e}function bi(){(ie===0||ie===3||ie===2)&&(ie=4),ce===null||!(er&268435455)&&!(Xn&268435455)||vt(ce,ue)}function Mn(e,r){var s=W;W|=2;var n=Zd();(ce!==e||ue!==r)&&(lt=null,Qt(e,r));do try{qx();break}catch(l){Jd(e,l)}while(1);if(si(),W=s,Rn.current=n,le!==null)throw Error(L(261));return ce=null,ue=0,ie}function qx(){for(;le!==null;)eu(le)}function Wx(){for(;le!==null&&!hm();)eu(le)}function eu(e){var r=su(e.alternate,e,Le);e.memoizedProps=e.pendingProps,r===null?tu(e):le=r,fi.current=null}function tu(e){var r=e;do{var s=r.alternate;if(e=r.return,r.flags&32768){if(s=Mx(s,r),s!==null){s.flags&=32767,le=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,le=null;return}}else if(s=Fx(s,r,Le),s!==null){le=s;return}if(r=r.sibling,r!==null){le=r;return}le=r=e}while(r!==null);ie===0&&(ie=5)}function Bt(e,r,s){var n=H,l=$e.transition;try{$e.transition=null,H=1,Vx(e,r,s,n)}finally{$e.transition=l,H=n}return null}function Vx(e,r,s,n){do _r();while(bt!==null);if(W&6)throw Error(L(327));s=e.finishedWork;var l=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(km(e,a),e===ce&&(le=ce=null,ue=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ks||(Ks=!0,nu(yn,function(){return _r(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=$e.transition,$e.transition=null;var i=H;H=1;var d=W;W|=4,fi.current=null,Ax(e,s),Yd(s,e),ux(aa),jn=!!la,aa=la=null,e.current=s,$x(s),fm(),W=d,H=i,$e.transition=a}else e.current=s;if(Ks&&(Ks=!1,bt=e,Fn=l),a=e.pendingLanes,a===0&&(Et=null),vm(s.stateNode),Ee(e,ne()),r!==null)for(n=e.onRecoverableError,s=0;s<r.length;s++)l=r[s],n(l.value,{componentStack:l.stack,digest:l.digest});if(On)throw On=!1,e=Sa,Sa=null,e;return Fn&1&&e.tag!==0&&_r(),a=e.pendingLanes,a&1?e===Ca?ss++:(ss=0,Ca=e):ss=0,Ft(),null}function _r(){if(bt!==null){var e=Oc(Fn),r=$e.transition,s=H;try{if($e.transition=null,H=16>e?16:e,bt===null)var n=!1;else{if(e=bt,bt=null,Fn=0,W&6)throw Error(L(331));var l=W;for(W|=4,O=e.current;O!==null;){var a=O,i=a.child;if(O.flags&16){var d=a.deletions;if(d!==null){for(var o=0;o<d.length;o++){var x=d[o];for(O=x;O!==null;){var g=O;switch(g.tag){case 0:case 11:case 15:ts(8,g,a)}var f=g.child;if(f!==null)f.return=g,O=f;else for(;O!==null;){g=O;var p=g.sibling,v=g.return;if(Hd(g),g===x){O=null;break}if(p!==null){p.return=v,O=p;break}O=v}}}var m=a.alternate;if(m!==null){var j=m.child;if(j!==null){m.child=null;do{var y=j.sibling;j.sibling=null,j=y}while(j!==null)}}O=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,O=i;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ts(9,a,a.return)}var u=a.sibling;if(u!==null){u.return=a.return,O=u;break e}O=a.return}}var c=e.current;for(O=c;O!==null;){i=O;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,O=h;else e:for(i=c;O!==null;){if(d=O,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Gn(9,d)}}catch(_){se(d,d.return,_)}if(d===i){O=null;break e}var k=d.sibling;if(k!==null){k.return=d.return,O=k;break e}O=d.return}}if(W=l,Ft(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Bn,e)}catch{}n=!0}return n}finally{H=s,$e.transition=r}}return!1}function Fo(e,r,s){r=zr(s,r),r=Od(e,r,1),e=Ct(e,r,1),r=ve(),e!==null&&(Cs(e,1,r),Ee(e,r))}function se(e,r,s){if(e.tag===3)Fo(e,e,s);else for(;r!==null;){if(r.tag===3){Fo(r,e,s);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Et===null||!Et.has(n))){e=zr(s,e),e=Fd(r,e,1),r=Ct(r,e,1),e=ve(),r!==null&&(Cs(r,1,e),Ee(r,e));break}}r=r.return}}function Hx(e,r,s){var n=e.pingCache;n!==null&&n.delete(r),r=ve(),e.pingedLanes|=e.suspendedLanes&s,ce===e&&(ue&s)===s&&(ie===4||ie===3&&(ue&130023424)===ue&&500>ne()-yi?Qt(e,0):gi|=s),Ee(e,r)}function ru(e,r){r===0&&(e.mode&1?(r=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):r=1);var s=ve();e=mt(e,r),e!==null&&(Cs(e,r,s),Ee(e,s))}function Qx(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),ru(e,s)}function Kx(e,r){var s=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(s=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(r),ru(e,s)}var su;su=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||Se.current)_e=!0;else{if(!(e.lanes&s)&&!(r.flags&128))return _e=!1,Ox(e,r,s);_e=!!(e.flags&131072)}else _e=!1,X&&r.flags&1048576&&id(r,Cn,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;un(e,r),e=r.pendingProps;var l=Sr(r,fe.current);wr(r,s),l=ui(null,r,n,e,l,s);var a=mi();return r.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ce(n)?(a=!0,kn(r)):a=!1,r.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ai(r),l.updater=Yn,r.stateNode=l,l._reactInternals=r,ha(r,n,e,s),r=ya(null,r,n,!0,a,s)):(r.tag=0,X&&a&&Za(r),ge(null,r,l,s),r=r.child),r;case 16:n=r.elementType;e:{switch(un(e,r),e=r.pendingProps,l=n._init,n=l(n._payload),r.type=n,l=r.tag=Gx(n),e=Ve(n,e),l){case 0:r=ga(null,r,n,e,s);break e;case 1:r=So(null,r,n,e,s);break e;case 11:r=_o(null,r,n,e,s);break e;case 14:r=ko(null,r,n,Ve(n.type,e),s);break e}throw Error(L(306,n,""))}return r;case 0:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Ve(n,l),ga(e,r,n,l,s);case 1:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Ve(n,l),So(e,r,n,l,s);case 3:e:{if($d(r),e===null)throw Error(L(387));n=r.pendingProps,a=r.memoizedState,l=a.element,xd(e,r),zn(r,n,null,s);var i=r.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},r.updateQueue.baseState=a,r.memoizedState=a,r.flags&256){l=zr(Error(L(423)),r),r=Co(e,r,n,s,l);break e}else if(n!==l){l=zr(Error(L(424)),r),r=Co(e,r,n,s,l);break e}else for(ze=St(r.stateNode.containerInfo.firstChild),Te=r,X=!0,Qe=null,s=ud(r,null,n,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),n===l){r=xt(e,r,s);break e}ge(e,r,n,s)}r=r.child}return r;case 5:return pd(r),e===null&&ma(r),n=r.type,l=r.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ia(n,l)?i=null:a!==null&&ia(n,a)&&(r.flags|=32),Ad(e,r),ge(e,r,i,s),r.child;case 6:return e===null&&ma(r),null;case 13:return Ud(e,r,s);case 4:return ii(r,r.stateNode.containerInfo),n=r.pendingProps,e===null?r.child=Er(r,null,n,s):ge(e,r,n,s),r.child;case 11:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Ve(n,l),_o(e,r,n,l,s);case 7:return ge(e,r,r.pendingProps,s),r.child;case 8:return ge(e,r,r.pendingProps.children,s),r.child;case 12:return ge(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(n=r.type._context,l=r.pendingProps,a=r.memoizedProps,i=l.value,Q(En,n._currentValue),n._currentValue=i,a!==null)if(Xe(a.value,i)){if(a.children===l.children&&!Se.current){r=xt(e,r,s);break e}}else for(a=r.child,a!==null&&(a.return=r);a!==null;){var d=a.dependencies;if(d!==null){i=a.child;for(var o=d.firstContext;o!==null;){if(o.context===n){if(a.tag===1){o=ct(-1,s&-s),o.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var g=x.pending;g===null?o.next=o:(o.next=g.next,g.next=o),x.pending=o}}a.lanes|=s,o=a.alternate,o!==null&&(o.lanes|=s),xa(a.return,s,r),d.lanes|=s;break}o=o.next}}else if(a.tag===10)i=a.type===r.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(L(341));i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),xa(i,s,r),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===r){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ge(e,r,l.children,s),r=r.child}return r;case 9:return l=r.type,n=r.pendingProps.children,wr(r,s),l=Ue(l),n=n(l),r.flags|=1,ge(e,r,n,s),r.child;case 14:return n=r.type,l=Ve(n,r.pendingProps),l=Ve(n.type,l),ko(e,r,n,l,s);case 15:return Md(e,r,r.type,r.pendingProps,s);case 17:return n=r.type,l=r.pendingProps,l=r.elementType===n?l:Ve(n,l),un(e,r),r.tag=1,Ce(n)?(e=!0,kn(r)):e=!1,wr(r,s),Rd(r,n,l),ha(r,n,l,s),ya(null,r,n,!0,e,s);case 19:return Bd(e,r,s);case 22:return Id(e,r,s)}throw Error(L(156,r.tag))};function nu(e,r){return Tc(e,r)}function Yx(e,r,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,r,s,n){return new Yx(e,r,s,n)}function Ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gx(e){if(typeof e=="function")return Ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ua)return 11;if(e===Ba)return 14}return 2}function zt(e,r){var s=e.alternate;return s===null?(s=Ie(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function pn(e,r,s,n,l,a){var i=2;if(n=e,typeof e=="function")Ni(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ir:return Kt(s.children,l,a,r);case $a:i=8,l|=8;break;case Al:return e=Ie(12,s,r,l|2),e.elementType=Al,e.lanes=a,e;case $l:return e=Ie(13,s,r,l),e.elementType=$l,e.lanes=a,e;case Ul:return e=Ie(19,s,r,l),e.elementType=Ul,e.lanes=a,e;case pc:return Jn(s,l,a,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mc:i=10;break e;case xc:i=9;break e;case Ua:i=11;break e;case Ba:i=14;break e;case ft:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return r=Ie(i,s,r,l),r.elementType=e,r.type=n,r.lanes=a,r}function Kt(e,r,s,n){return e=Ie(7,e,n,r),e.lanes=s,e}function Jn(e,r,s,n){return e=Ie(22,e,n,r),e.elementType=pc,e.lanes=s,e.stateNode={isHidden:!1},e}function zl(e,r,s){return e=Ie(6,e,null,r),e.lanes=s,e}function Tl(e,r,s){return r=Ie(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Xx(e,r,s,n,l){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function wi(e,r,s,n,l,a,i,d,o){return e=new Xx(e,r,s,d,o),r===1?(r=1,a===!0&&(r|=8)):r=0,a=Ie(3,null,null,r),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ai(a),e}function Jx(e,r,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:n==null?null:""+n,children:e,containerInfo:r,implementation:s}}function lu(e){if(!e)return Pt;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(L(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ce(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(L(171))}if(e.tag===1){var s=e.type;if(Ce(s))return ld(e,s,r)}return r}function au(e,r,s,n,l,a,i,d,o){return e=wi(s,n,!0,e,l,a,i,d,o),e.context=lu(null),s=e.current,n=ve(),l=Lt(s),a=ct(n,l),a.callback=r??null,Ct(s,a,l),e.current.lanes=l,Cs(e,l,n),Ee(e,n),e}function Zn(e,r,s,n){var l=r.current,a=ve(),i=Lt(l);return s=lu(s),r.context===null?r.context=s:r.pendingContext=s,r=ct(a,i),r.payload={element:e},n=n===void 0?null:n,n!==null&&(r.callback=n),e=Ct(l,r,i),e!==null&&(Ge(e,l,i,a),on(e,l,i)),i}function In(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mo(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function _i(e,r){Mo(e,r),(e=e.alternate)&&Mo(e,r)}function Zx(){return null}var iu=typeof reportError=="function"?reportError:function(e){console.error(e)};function ki(e){this._internalRoot=e}el.prototype.render=ki.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(L(409));Zn(e,r,null,null)};el.prototype.unmount=ki.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;tr(function(){Zn(null,e,null,null)}),r[ut]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var r=Ic();e={blockedOn:null,target:e,priority:r};for(var s=0;s<yt.length&&r!==0&&r<yt[s].priority;s++);yt.splice(s,0,e),s===0&&$c(e)}};function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Io(){}function ep(e,r,s,n,l){if(l){if(typeof n=="function"){var a=n;n=function(){var x=In(i);a.call(x)}}var i=au(r,n,e,0,null,!1,!1,"",Io);return e._reactRootContainer=i,e[ut]=i.current,hs(e.nodeType===8?e.parentNode:e),tr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var d=n;n=function(){var x=In(o);d.call(x)}}var o=wi(e,0,!1,null,null,!1,!1,"",Io);return e._reactRootContainer=o,e[ut]=o.current,hs(e.nodeType===8?e.parentNode:e),tr(function(){Zn(r,o,s,n)}),o}function rl(e,r,s,n,l){var a=s._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var d=l;l=function(){var o=In(i);d.call(o)}}Zn(r,i,e,l)}else i=ep(s,r,e,l,n);return In(i)}Fc=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=Qr(r.pendingLanes);s!==0&&(Va(r,s|1),Ee(r,ne()),!(W&6)&&(Tr=ne()+500,Ft()))}break;case 13:tr(function(){var n=mt(e,1);if(n!==null){var l=ve();Ge(n,e,1,l)}}),_i(e,1)}};Ha=function(e){if(e.tag===13){var r=mt(e,134217728);if(r!==null){var s=ve();Ge(r,e,134217728,s)}_i(e,134217728)}};Mc=function(e){if(e.tag===13){var r=Lt(e),s=mt(e,r);if(s!==null){var n=ve();Ge(s,e,r,n)}_i(e,r)}};Ic=function(){return H};Ac=function(e,r){var s=H;try{return H=e,r()}finally{H=s}};Xl=function(e,r,s){switch(r){case"input":if(Wl(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var n=s[r];if(n!==e&&n.form===e.form){var l=Hn(n);if(!l)throw Error(L(90));fc(n),Wl(n,l)}}}break;case"textarea":yc(e,s);break;case"select":r=s.value,r!=null&&vr(e,!!s.multiple,r,!1)}};kc=vi;Sc=tr;var tp={usingClientEntryPoint:!1,Events:[Ls,ur,Hn,wc,_c,vi]},Wr={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lc(e),e===null?null:e.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||Zx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ys.isDisabled&&Ys.supportsFiber)try{Bn=Ys.inject(rp),rt=Ys}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp;Pe.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Si(r))throw Error(L(200));return Jx(e,r,null,s)};Pe.createRoot=function(e,r){if(!Si(e))throw Error(L(299));var s=!1,n="",l=iu;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),r=wi(e,1,!1,null,null,s,!1,n,l),e[ut]=r.current,hs(e.nodeType===8?e.parentNode:e),new ki(r)};Pe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Lc(r),e=e===null?null:e.stateNode,e};Pe.flushSync=function(e){return tr(e)};Pe.hydrate=function(e,r,s){if(!tl(r))throw Error(L(200));return rl(null,e,r,!0,s)};Pe.hydrateRoot=function(e,r,s){if(!Si(e))throw Error(L(405));var n=s!=null&&s.hydratedSources||null,l=!1,a="",i=iu;if(s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),r=au(r,null,e,1,s??null,l,!1,a,i),e[ut]=r.current,hs(e),n)for(e=0;e<n.length;e++)s=n[e],l=s._getVersion,l=l(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,l]:r.mutableSourceEagerHydrationData.push(s,l);return new el(r)};Pe.render=function(e,r,s){if(!tl(r))throw Error(L(200));return rl(null,e,r,!1,s)};Pe.unmountComponentAtNode=function(e){if(!tl(e))throw Error(L(40));return e._reactRootContainer?(tr(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[ut]=null})}),!0):!1};Pe.unstable_batchedUpdates=vi;Pe.unstable_renderSubtreeIntoContainer=function(e,r,s,n){if(!tl(s))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return rl(e,r,s,!1,n)};Pe.version="18.3.1-next-f1338f8080-20240426";function ou(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ou)}catch(e){console.error(e)}}ou(),oc.exports=Pe;var sp=oc.exports,Ao=sp;Ml.createRoot=Ao.createRoot,Ml.hydrateRoot=Ao.hydrateRoot;const np=new Date().toLocaleString("ko-KR",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\. /g,"-").replace(/\.$/,"")+" KST",lp=[{id:"dashboard",name:"",icon:"LayoutGrid",color:"text-blue-600"},{id:"workers",name:"",icon:"Users",color:"text-purple-600"},{id:"health",name:"",icon:"Heart",color:"text-red-600"},{id:"appointments",name:"",icon:"CalendarCheck",color:"text-purple-500"},{id:"environment",name:"",icon:"Activity",color:"text-green-600"},{id:"education",name:"",icon:"BookOpen",color:"text-indigo-600"},{id:"chemicals",name:"",icon:"FlaskConical",color:"text-yellow-600"},{id:"accidents",name:"",icon:"AlertTriangle",color:"text-orange-600"},{id:"unified-documents",name:"",icon:"FileText",color:"text-cyan-600"},{id:"integrated-documents",name:"",icon:"FolderOpen",color:"text-teal-600"},{id:"reports",name:"",icon:"BarChart3",color:"text-indigo-600"},{id:"monitoring",name:"",icon:"MonitorDot",color:"text-pink-600"},{id:"qr-registration",name:"QR ",icon:"QrCode",color:"text-blue-500"},{id:"confined-space",name:" ",icon:"Shield",color:"text-orange-600"},{id:"cardiovascular",name:" ",icon:"Heart",color:"text-red-500"},{id:"settings",name:"",icon:"Settings",color:"text-gray-600"}],Dl=[{value:"fall",label:""},{value:"cut",label:"/"},{value:"burn",label:""},{value:"collision",label:""},{value:"caught",label:""},{value:"electric_shock",label:""},{value:"poisoning",label:""}],ap=[{value:"minor",label:""},{value:"moderate",label:""},{value:"serious",label:""},{value:"fatal",label:""}],ip=[{value:"low",label:""},{value:"medium",label:""},{value:"high",label:""},{value:"very_high",label:" "}],op=[{value:"scheduled",label:""},{value:"in_progress",label:""},{value:"completed",label:""},{value:"cancelled",label:""}],$o={normal:"bg-green-100 text-green-800",caution:"bg-yellow-100 text-yellow-800",observation:"bg-orange-100 text-orange-800",treatment:"bg-red-100 text-red-800",adequate:"bg-green-100 text-green-800",inadequate:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",scheduled:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",current:"bg-green-100 text-green-800",expired:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",minor:"bg-yellow-100 text-yellow-800",moderate:"bg-orange-100 text-orange-800",serious:"bg-red-100 text-red-800",fatal:"bg-gray-900 text-white"};function cp({isOpen:e,onClose:r,activeMenu:s,onMenuSelect:n,onLogout:l}){return t.jsxs(t.Fragment,{children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:r}),t.jsxs("aside",{className:`
        fixed left-0 top-0 h-full w-64 bg-gradient-to-b from-gray-900 to-gray-800 
        text-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
      `,children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[t.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-green-400 bg-clip-text text-transparent",children:"SafeWork Pro"}),t.jsx("button",{onClick:r,className:"md:hidden text-gray-400 hover:text-white",children:t.jsx(Ko,{size:24})})]}),t.jsx("nav",{className:"mt-8 px-4",children:lp.map(a=>{const i=xu[a.icon];return t.jsxs("button",{onClick:()=>{n(a.id),r()},className:`
                  w-full flex items-center px-4 py-3 rounded-lg mb-2 transition-all duration-200
                  ${s===a.id?"bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg transform scale-105":"hover:bg-gray-700 hover:shadow-md"}
                `,children:[t.jsx(i,{size:20,className:`flex-shrink-0 ${s===a.id?"text-white":a.color}`}),t.jsx("span",{className:"ml-3 font-medium truncate",children:a.name})]},a.id)})}),t.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[l&&t.jsxs("button",{onClick:l,className:"w-full flex items-center px-4 py-3 rounded-lg mb-3 transition-all duration-200 hover:bg-red-600 hover:shadow-md text-red-400 hover:text-white",children:[t.jsx(Yo,{size:20,className:"flex-shrink-0"}),t.jsx("span",{className:"ml-3 font-medium",children:""})]}),t.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"  "}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"v1.0.0"})]})]})]})]})}const dp=()=>{const e={}.VITE_API_BASE_URL;if(e)return e;const r=window.location.protocol,s=window.location.host;return`${r}//${s}`},up=()=>{const e={}.VITE_WS_BASE_URL;if(e)return e;const r=window.location.protocol==="https:"?"wss:":"ws:",s=window.location.host;return`${r}//${s}`},ye={BASE_URL:dp(),WS_BASE_URL:up(),VERSION:"/api/v1",get API_URL(){return`${this.BASE_URL}${this.VERSION}`},get WS_API_URL(){return`${this.WS_BASE_URL}${this.VERSION}`}},ke=e=>`${ye.API_URL}${e}`,Ne={get:async e=>{const r=await fetch(ke(e));if(!r.ok)throw new Error(`API Error: ${r.status}`);return r.json()},post:async(e,r)=>{const s=await fetch(ke(e),{method:"POST",headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0});if(!s.ok)throw new Error(`API Error: ${s.status}`);return s.json()},put:async(e,r)=>{const s=await fetch(ke(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0});if(!s.ok)throw new Error(`API Error: ${s.status}`);return s.json()},delete:async e=>{const r=await fetch(ke(e),{method:"DELETE"});if(!r.ok)throw new Error(`API Error: ${r.status}`);return r.json()}};console.log(" API Configuration:",{baseUrl:ye.BASE_URL,apiUrl:ye.API_URL,wsUrl:ye.WS_BASE_URL,environment:"production"});class mp{constructor(){this.tokenKey="safework_token",this.userKey="safework_user"}async login(r){try{const s=await fetch(`${ye.API_URL}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const a=await s.json();throw new Error(a.detail||" ")}const n=await s.json();this.setToken(n.access_token);const l=this.parseTokenForUser(n.access_token);return l&&this.setUser(l),n}catch(s){throw console.error(" :",s),s}}async register(r){try{const s=await fetch(`${ye.API_URL}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const a=await s.json();throw new Error(a.detail||" ")}const n=await s.json();this.setToken(n.access_token);const l=this.parseTokenForUser(n.access_token);return l&&this.setUser(l),n}catch(s){throw console.error(" :",s),s}}async logout(){try{const r=this.getToken();r&&await fetch(`${ye.API_URL}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${r}`}})}catch(r){console.error(" :",r)}finally{this.clearAuth()}}getToken(){return localStorage.getItem(this.tokenKey)}setToken(r){localStorage.setItem(this.tokenKey,r)}getUser(){const r=localStorage.getItem(this.userKey);return r?JSON.parse(r):null}setUser(r){localStorage.setItem(this.userKey,JSON.stringify(r))}clearAuth(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.userKey)}isAuthenticated(){return!!this.getToken()}getAuthHeaders(){const r=this.getToken();return r?{Authorization:`Bearer ${r}`}:{}}parseTokenForUser(r){try{const s=JSON.parse(atob(r.split(".")[1]));return{id:s.sub,email:s.email,name:s.email.split("@")[0],role:s.role||"user"}}catch(s){return console.error("  :",s),null}}}const rr=new mp;function xp({onMenuToggle:e,onLogout:r}){const[s,n]=b.useState(!1),l=rr.getUser(),a=()=>{r&&r(),n(!1)};return t.jsx("header",{className:"bg-white shadow-lg border-b border-gray-200",children:t.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:e,className:"md:hidden text-gray-500 hover:text-gray-700 focus:outline-none",children:t.jsx(pu,{size:24})}),t.jsxs("div",{className:"ml-4 md:ml-0",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"SafeWork Pro"}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Build: ",np]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[t.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 rounded-lg px-3 py-2",children:[t.jsx(Pr,{size:18,className:"text-gray-500"}),t.jsx("input",{type:"text",placeholder:"...",className:"ml-2 bg-transparent border-none focus:outline-none text-sm"})]}),t.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 transition-colors",children:[t.jsx(Yt,{size:20}),t.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>n(!s),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent((l==null?void 0:l.name)||"")}&background=4F46E5&color=fff`,alt:"User",className:"h-8 w-8 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-gray-700 hidden md:block",children:(l==null?void 0:l.name)||""})]}),s&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-[9999]",children:t.jsxs("div",{className:"py-1",children:[t.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 border-b border-gray-200",children:l==null?void 0:l.email}),t.jsxs("button",{onClick:a,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Yo,{size:16,className:"mr-2"}),""]})]})})]})]})]})})})}function pp({children:e,sidebarOpen:r,setSidebarOpen:s,activeMenu:n,setActiveMenu:l,onLogout:a}){return t.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[t.jsx(cp,{isOpen:r,onClose:()=>s(!1),activeMenu:n,onMenuSelect:l,onLogout:a}),t.jsxs("div",{className:"flex-1 flex flex-col md:ml-64",children:[t.jsx(xp,{onMenuToggle:()=>s(!r),onLogout:a}),t.jsx("main",{className:"flex-1 overflow-y-auto",children:e})]})]})}function Uo(){const[e,r]=b.useState({total_workers:0,special_exam_targets:0,health_exam_needed:0,accidents_this_month:0}),[s,n]=b.useState([]),[l,a]=b.useState(!0);b.useEffect(()=>{i()},[]);const i=async()=>{var d;try{a(!0);const o=ke(""),x=await fetch(`${o}/workers/statistics/dashboard`);if(x.ok){const f=await x.json();r(f)}else console.warn(" API  ,  ");const g=await fetch(`${o}/workers/?page=1&page_size=5`);if(g.ok){const p=((d=(await g.json()).items)==null?void 0:d.map((v,m)=>({id:v.id||m,description:`${v.name} - ${v.department||""}`,time:new Date(v.hire_date).toLocaleDateString()||""})))||[];n(p)}}catch(o){console.error("   :",o),n([])}finally{a(!1)}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"SafeWork Pro "}),t.jsx("p",{className:"text-gray-600 mt-2",children:"    "})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:" "})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-100 text-sm font-medium",children:" "}),t.jsx("p",{className:"text-3xl font-bold mt-2",children:l?t.jsx("div",{className:"animate-pulse bg-blue-300 h-8 w-16 rounded"}):e.total_workers}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(ns,{size:16,className:"text-blue-200 mr-1"}),t.jsx("span",{className:"text-blue-200 text-xs",children:"  "})]})]}),t.jsx("div",{className:"p-3 bg-blue-400 bg-opacity-50 rounded-full",children:t.jsx(An,{size:32,className:"text-white"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-purple-100 text-sm font-medium",children:" "}),t.jsx("p",{className:"text-3xl font-bold mt-2",children:l?t.jsx("div",{className:"animate-pulse bg-purple-300 h-8 w-16 rounded"}):e.special_exam_targets}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(Gt,{size:16,className:"text-purple-200 mr-1"}),t.jsx("span",{className:"text-purple-200 text-xs",children:" "})]})]}),t.jsx("div",{className:"p-3 bg-purple-400 bg-opacity-50 rounded-full",children:t.jsx(hu,{size:32,className:"text-white"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:" "}),t.jsx("p",{className:"text-3xl font-bold mt-2",children:l?t.jsx("div",{className:"animate-pulse bg-emerald-300 h-8 w-16 rounded"}):e.health_exam_needed}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(Nt,{size:16,className:"text-emerald-200 mr-1"}),t.jsx("span",{className:"text-emerald-200 text-xs",children:" "})]})]}),t.jsx("div",{className:"p-3 bg-emerald-400 bg-opacity-50 rounded-full",children:t.jsx(Nt,{size:32,className:"text-white"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-red-100 text-sm font-medium",children:" "}),t.jsx("p",{className:"text-3xl font-bold mt-2",children:l?t.jsx("div",{className:"animate-pulse bg-red-300 h-8 w-16 rounded"}):e.accidents_this_month}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(fu,{size:16,className:"text-red-200 mr-1"}),t.jsx("span",{className:"text-red-200 text-xs",children:" "})]})]}),t.jsx("div",{className:"p-3 bg-red-400 bg-opacity-50 rounded-full",children:t.jsx(tt,{size:32,className:"text-white"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[t.jsx(Ae,{className:"mr-2 text-blue-600",size:24})," "]}),t.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:" "})]}),t.jsx("div",{className:"space-y-4",children:l?t.jsx("div",{className:"space-y-3",children:[1,2,3].map(d=>t.jsxs("div",{className:"animate-pulse flex items-center space-x-4",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mt-2"})]})]},d))}):s.length>0?s.map(d=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:d.description.charAt(0)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-gray-800 truncate",children:d.description}),t.jsx("p",{className:"text-sm text-gray-500 truncate",children:d.time})]}),t.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:""})]},d.id)):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Gt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 text-lg",children:"  "}),t.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"     "})]})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl shadow-lg p-6 border border-amber-200",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(tt,{className:"text-amber-600 mr-2",size:24}),t.jsx("h2",{className:"text-xl font-bold text-amber-800",children:" "})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-amber-500",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-800 font-medium",children:" "}),t.jsx("p",{className:"text-amber-700 text-sm mt-1",children:"   "})]})]})}),t.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-blue-500",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-800 font-medium",children:""}),t.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"  "})]})]})}),t.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-green-500",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-green-800 font-medium",children:" "}),t.jsx("p",{className:"text-green-700 text-sm mt-1",children:"  "})]})]})})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-amber-200",children:t.jsx("button",{className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-2 px-4 rounded-lg hover:from-amber-600 hover:to-orange-600 transition-colors font-medium",children:"  "})})]})]})]})}function M({children:e,className:r="",title:s,subtitle:n,action:l}){return t.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow ${r}`,children:[(s||n||l)&&t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[s&&t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s}),n&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),l&&t.jsx("div",{children:l})]}),e]})}function I({children:e,variant:r="primary",size:s="md",icon:n,loading:l=!1,className:a="",disabled:i,...d}){const o={primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-500 text-white hover:bg-red-600",success:"bg-green-500 text-white hover:bg-green-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600"},x={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return t.jsxs("button",{className:`
        ${o[r]}
        ${x[s]}
        rounded-lg font-medium transition-all duration-200 
        flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed
        ${a}
      `,disabled:i||l,...d,children:[l?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):n,e]})}function Dr({isOpen:e,onClose:r,title:s,children:n,size:l="md"}){if(!e)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:r}),t.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),t.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${a[l]} w-full`,children:[s&&t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-medium text-white",children:s}),t.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors",children:t.jsx(Ko,{size:24})})]})}),t.jsx("div",{className:"px-6 py-4",children:n})]})]})})}function $({value:e,label:r,type:s}){const n=s&&$o[s]?$o[s]:"bg-gray-100 text-gray-800";return t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n}`,children:r||e})}function Mt(){const[e,r]=b.useState(!1),[s,n]=b.useState(null);return{fetchApi:b.useCallback(async(a,i={})=>{const{params:d,...o}=i;try{r(!0),n(null);let x=`${ye.API_URL}${a}`;if(d){const p=new URLSearchParams(d);x+=`?${p.toString()}`}const g=await fetch(x,{...o,headers:{"Content-Type":"application/json",...rr.getAuthHeaders(),...o.headers}});if(!g.ok)throw g.status===401&&(["/api/v1/unified-documents","/api/v1/confined-spaces","/api/v1/legal-forms","/api/v1/documents"].some(m=>a.includes(m))||(rr.clearAuth(),window.location.reload())),new Error(`API Error: ${g.status} ${g.statusText}`);return await g.json()}catch(x){const g=x instanceof Error?x.message:"    .";throw n(g),x}finally{r(!1)}},[]),loading:e,error:s}}function hp(){const[e,r]=b.useState([]),[s,n]=b.useState([]),[l,a]=b.useState([]),[i,d]=b.useState([]),[o,x]=b.useState(!1),[g,f]=b.useState(!0),[p,v]=b.useState(30),[m,j]=b.useState("1h"),{fetchApi:y}=Mt();b.useEffect(()=>{if(u(),g){const C=setInterval(u,p*1e3);return()=>clearInterval(C)}},[g,p]);const u=async()=>{x(!0);try{await Promise.all([c(),h(),k(),_()])}catch(C){console.error("Failed to load monitoring data:",C),w()}finally{x(!1)}},c=async()=>{try{const C=await y(ke("/monitoring/system-metrics"));r(C||[])}catch(C){console.error("Failed to load system metrics:",C)}},h=async()=>{try{const C=await y(ke("/compliance/dashboard"));n(C!=null&&C.category_analysis?Object.entries(C.category_analysis).map(([te,D])=>({category:te,total_rules:D.total,compliant:D.compliant,violations:D.violations,compliance_rate:D.total>0?D.compliant/D.total*100:0})):[])}catch(C){console.error("Failed to load compliance status:",C)}},k=async()=>{try{const C=await y(ke("/monitoring/alerts"));a(C||[])}catch(C){console.error("Failed to load alerts:",C)}},_=async()=>{try{const C=await y(`/api/v1/monitoring/environment?range=${m}`);d(C||[])}catch(C){console.error("Failed to load environment data:",C)}},w=()=>{r([{id:"workers_online",name:"  ",value:245,status:"normal",trend:"up",change:5},{id:"safety_score",name:"",value:94,unit:"%",status:"normal",trend:"stable"},{id:"health_compliance",name:" ",value:87,unit:"%",status:"warning",trend:"down",change:-3},{id:"incident_rate",name:"",value:.12,unit:"%",status:"normal",trend:"down",change:-.05},{id:"education_completion",name:"",value:92,unit:"%",status:"normal",trend:"up",change:8},{id:"equipment_status",name:"",value:98,unit:"%",status:"normal",trend:"stable"}]),n([{category:"health_exam",total_rules:5,compliant:4,violations:1,compliance_rate:80},{category:"education",total_rules:8,compliant:7,violations:1,compliance_rate:87.5},{category:"environment",total_rules:6,compliant:5,violations:1,compliance_rate:83.3},{category:"chemical",total_rules:4,compliant:3,violations:1,compliance_rate:75},{category:"safety",total_rules:10,compliant:9,violations:1,compliance_rate:90}]),a([{id:"1",type:"environment",severity:"high",title:"  ",message:"   85dB .",timestamp:new Date(Date.now()-5*6e4).toISOString(),acknowledged:!1,location:" A"},{id:"2",type:"compliance",severity:"medium",title:"  ",message:"3   1  .",timestamp:new Date(Date.now()-15*6e4).toISOString(),acknowledged:!1},{id:"3",type:"safety",severity:"critical",title:"  ",message:"    .",timestamp:new Date(Date.now()-2*6e4).toISOString(),acknowledged:!1,location:" "}]),d([{location:"",noise_level:87,dust_level:.15,temperature:28,humidity:65,air_quality:85,timestamp:new Date().toISOString()},{location:"",noise_level:82,dust_level:.08,temperature:26,humidity:60,air_quality:92,timestamp:new Date().toISOString()}])},S=async C=>{try{await y(`/api/v1/monitoring/alerts/${C}/acknowledge`,{method:"POST"}),a(te=>te.map(D=>D.id===C?{...D,acknowledged:!0}:D))}catch(te){console.error("Failed to acknowledge alert:",te)}},P=C=>{switch(C){case"normal":return"green";case"warning":return"yellow";case"critical":return"red";default:return"gray"}},A=C=>{switch(C){case"low":return"blue";case"medium":return"yellow";case"high":return"orange";case"critical":return"red";default:return"gray"}},z=C=>{switch(C){case"up":return t.jsx(ns,{size:16,className:"text-green-600"});case"down":return t.jsx(ns,{size:16,className:"text-red-600 rotate-180"});default:return t.jsx(nt,{size:16,className:"text-gray-400"})}},q=C=>{switch(C){case"safety":return t.jsx(as,{size:16});case"health":return t.jsx(Go,{size:16});case"environment":return t.jsx(Ci,{size:16});case"compliance":return t.jsx(Ae,{size:16});case"system":return t.jsx(ju,{size:16});default:return t.jsx(Tt,{size:16})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"  "}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium",children:" :"}),t.jsx("input",{type:"checkbox",checked:g,onChange:C=>f(C.target.checked),className:"rounded"}),t.jsxs("select",{value:p,onChange:C=>v(Number(C.target.value)),disabled:!g,className:"text-sm border rounded px-2 py-1",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:30,children:"30"}),t.jsx("option",{value:60,children:"1"}),t.jsx("option",{value:300,children:"5"})]})]}),t.jsxs(I,{onClick:u,variant:"outline",children:[t.jsx(ls,{size:16,className:`mr-2 ${o?"animate-spin":""}`}),""]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(C=>t.jsx(M,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:C.name}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[C.value,C.unit&&` ${C.unit}`]}),C.change!==void 0&&t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[z(C.trend),t.jsxs("span",{className:`text-sm ${C.trend==="up"?"text-green-600":C.trend==="down"?"text-red-600":"text-gray-600"}`,children:[Math.abs(C.change),C.unit," "]})]})]}),t.jsx($,{color:P(C.status),children:C.status==="normal"?"":C.status==="warning"?"":""})]})},C.id))}),t.jsxs(M,{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(Yt,{className:"text-orange-600",size:20})," "]}),t.jsxs($,{color:"red",children:[l.filter(C=>!C.acknowledged).length," "]})]}),t.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(C=>t.jsxs("div",{className:`
                flex items-center justify-between p-3 rounded-lg border-l-4
                ${C.acknowledged?"bg-gray-50 border-gray-300":C.severity==="critical"?"bg-red-50 border-red-500":C.severity==="high"?"bg-orange-50 border-orange-500":C.severity==="medium"?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}
              `,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`
                  p-2 rounded-full
                  ${C.severity==="critical"?"bg-red-100 text-red-600":C.severity==="high"?"bg-orange-100 text-orange-600":C.severity==="medium"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"}
                `,children:q(C.type)}),t.jsxs("div",{children:[t.jsx("h3",{className:`font-medium ${C.acknowledged?"text-gray-600":"text-gray-900"}`,children:C.title}),t.jsx("p",{className:`text-sm ${C.acknowledged?"text-gray-500":"text-gray-700"}`,children:C.message}),t.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[t.jsx("span",{children:new Date(C.timestamp).toLocaleString()}),C.location&&t.jsxs("span",{children:[" ",C.location]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{color:A(C.severity),children:C.severity==="critical"?"":C.severity==="high"?"":C.severity==="medium"?"":""}),!C.acknowledged&&t.jsx(I,{size:"sm",variant:"outline",onClick:()=>S(C.id),children:t.jsx(Me,{size:14})})]})]},C.id))}),l.length===0&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Me,{className:"mx-auto h-12 w-12 text-green-400 mb-2"}),t.jsx("p",{children:"   "})]})]}),t.jsxs(M,{className:"p-6",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(as,{className:"text-blue-600",size:20}),"  "]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:s.map(C=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-2",children:t.jsx("div",{className:`
                  inline-flex items-center justify-center w-16 h-16 rounded-full
                  ${C.compliance_rate>=90?"bg-green-100 text-green-600":C.compliance_rate>=80?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}
                `,children:t.jsxs("span",{className:"text-lg font-bold",children:[C.compliance_rate.toFixed(0),"%"]})})}),t.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:C.category==="health_exam"?"":C.category==="education"?"":C.category==="environment"?"":C.category==="chemical"?"":C.category==="safety"?"":C.category}),t.jsxs("p",{className:"text-sm text-gray-600",children:[C.compliant,"/",C.total_rules," "]}),C.violations>0&&t.jsxs($,{color:"red",className:"mt-1",children:[C.violations," "]})]},C.category))})]}),t.jsxs(M,{className:"p-6",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"text-green-600",size:20})," "]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((C,te)=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:C.location}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gu,{size:16,className:"text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsxs("p",{className:`font-medium ${C.noise_level>85?"text-red-600":"text-green-600"}`,children:[C.noise_level," dB"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ci,{size:16,className:"text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsxs("p",{className:"font-medium",children:[C.dust_level," mg/m"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yu,{size:16,className:"text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsxs("p",{className:"font-medium",children:[C.temperature,"C"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gt,{size:16,className:"text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsxs("p",{className:"font-medium",children:[C.air_quality,"/100"]})]})]})]}),t.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[" : ",new Date(C.timestamp).toLocaleString()]})]},te))})]}),t.jsxs(M,{className:"p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:" "}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[t.jsx(Ae,{className:"mb-2",size:24}),t.jsx("span",{children:" "})]}),t.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[t.jsx(vu,{className:"mb-2",size:24}),t.jsx("span",{children:" "})]}),t.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[t.jsx(Ol,{className:"mb-2",size:24}),t.jsx("span",{children:" "})]}),t.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[t.jsx(Yt,{className:"mb-2",size:24}),t.jsx("span",{children:" "})]})]})]})]})}const fp=({workerId:e,workerName:r})=>{const[s,n]=b.useState([]),[l,a]=b.useState(!1),[i,d]=b.useState(!1),[o,x]=b.useState({content:"",photo:null}),g=async()=>{try{a(!0);const v=await fetch(`${ye.BASE_URL}/worker-feedbacks/worker/${e}`);if(v.ok){const m=await v.json();n(m.items)}}catch(v){console.error("  :",v)}finally{a(!1)}};b.useEffect(()=>{g()},[e]);const f=async v=>{v.preventDefault();const m=new FormData;m.append("worker_id",e.toString()),m.append("content",o.content),o.photo&&m.append("photo",o.photo);try{(await fetch(`${ye.BASE_URL}/worker-feedbacks/`,{method:"POST",body:m})).ok?(alert(" ."),x({content:"",photo:null}),d(!1),g()):alert("  .")}catch(j){console.error("  :",j),alert("    .")}},p=v=>{v.target.files&&v.target.files[0]&&x({...o,photo:v.target.files[0]})};return t.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[" ",r&&`- ${r}`]}),t.jsx("button",{onClick:()=>d(!i),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:i?"":" "})]}),i&&t.jsxs("form",{onSubmit:f,className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:o.content,onChange:v=>x({...o,content:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,required:!0,placeholder:"  ..."})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),t.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.photo&&t.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[" : ",o.photo.name]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:""}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:""})]})]}),t.jsx("div",{className:"space-y-4",children:l?t.jsx("p",{className:"text-center text-gray-500",children:" ..."}):s.length===0?t.jsx("p",{className:"text-center text-gray-500",children:"  ."}):s.map(v=>t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:[": ",v.created_by||""]}),t.jsx("div",{className:"text-sm text-gray-500",children:new Date(v.created_at).toLocaleString("ko-KR")})]}),t.jsx("p",{className:"text-gray-800 mb-2 whitespace-pre-wrap",children:v.content}),v.photo_url&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:`${ye.BASE_URL}${v.photo_url}`,alt:" ",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(`${ye.BASE_URL}${v.photo_url}`,"_blank")})})]},v.id))})]})},gp=()=>{const[e,r]=b.useState([]),[s,n]=b.useState(null),[l,a]=b.useState(!1),[i,d]=b.useState(!1),[o,x]=b.useState(!1),[g,f]=b.useState({employee_id:"",name:"",birth_date:"",gender:"male",phone:"",email:"",address:"",company_name:"",work_category:"",employment_type:"regular",work_type:"construction",hire_date:"",department:"",position:"",health_status:"normal",blood_type:"",emergency_contact:"",emergency_relationship:"",safety_education_cert:null,visa_type:"",visa_cert:null}),p=async()=>{try{x(!0);const c=await fetch(`${ye.BASE_URL}/workers/`);if(c.ok){const h=await c.json();r(h)}}catch(c){console.error("   :",c)}finally{x(!1)}};b.useEffect(()=>{p()},[]);const v=async c=>{c.preventDefault();const h=new FormData;Object.entries(g).forEach(([k,_])=>{_!=null&&!(_ instanceof File)&&h.append(k,_.toString())}),g.safety_education_cert&&h.append("safety_education_cert",g.safety_education_cert),g.visa_cert&&h.append("visa_cert",g.visa_cert);try{const k=s?`${ye.BASE_URL}/workers/${s.id}`:`${ye.BASE_URL}/workers/`,_=await fetch(k,{method:s?"PUT":"POST",body:h});if(_.ok)alert(s?"  .":" ."),a(!1),n(null),m(),p();else{const w=await _.json();alert(`: ${w.detail||"   ."}`)}}catch(k){console.error("  :",k),alert("    .")}},m=()=>{f({employee_id:"",name:"",birth_date:"",gender:"male",phone:"",email:"",address:"",company_name:"",work_category:"",employment_type:"regular",work_type:"construction",hire_date:"",department:"",position:"",health_status:"normal",blood_type:"",emergency_contact:"",emergency_relationship:"",safety_education_cert:null,visa_type:"",visa_cert:null})},j=c=>{n(c),d(!0)},y=c=>{n(c),f({...c,safety_education_cert:null,visa_cert:null}),a(!0)},u=c=>h=>{h.target.files&&h.target.files[0]&&f({...g,[c]:h.target.files[0]})};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("button",{onClick:()=>{a(!0),n(null),m()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:" "})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"  ":"  "}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:g.employee_id,onChange:c=>f({...g,employee_id:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:g.name,onChange:c=>f({...g,name:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"date",value:g.birth_date,onChange:c=>f({...g,birth_date:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsxs("select",{value:g.gender,onChange:c=>f({...g,gender:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"male",children:""}),t.jsx("option",{value:"female",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"tel",value:g.phone,onChange:c=>f({...g,phone:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"email",value:g.email,onChange:c=>f({...g,email:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:g.address,onChange:c=>f({...g,address:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:g.company_name,onChange:c=>f({...g,company_name:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:g.work_category,onChange:c=>f({...g,work_category:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["(/) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:g.department,onChange:c=>f({...g,department:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"text",value:g.position,onChange:c=>f({...g,position:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:g.employment_type,onChange:c=>f({...g,employment_type:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"regular",children:""}),t.jsx("option",{value:"contract",children:""}),t.jsx("option",{value:"temporary",children:""}),t.jsx("option",{value:"daily",children:""})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:g.work_type,onChange:c=>f({...g,work_type:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[t.jsx("option",{value:"construction",children:""}),t.jsx("option",{value:"electrical",children:""}),t.jsx("option",{value:"plumbing",children:""}),t.jsx("option",{value:"painting",children:""}),t.jsx("option",{value:"welding",children:""}),t.jsx("option",{value:"demolition",children:""}),t.jsx("option",{value:"earth_work",children:""}),t.jsx("option",{value:"concrete",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"date",value:g.hire_date,onChange:c=>f({...g,hire_date:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsxs("select",{value:g.health_status,onChange:c=>f({...g,health_status:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"normal",children:""}),t.jsx("option",{value:"caution",children:""}),t.jsx("option",{value:"observation",children:""}),t.jsx("option",{value:"treatment",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"text",value:g.blood_type,onChange:c=>f({...g,blood_type:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:": A+"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"tel",value:g.emergency_contact,onChange:c=>f({...g,emergency_contact:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),t.jsx("input",{type:"text",value:g.emergency_relationship,onChange:c=>f({...g,emergency_relationship:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:": , ,  "})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  "}),t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:u("safety_education_cert"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),t.jsx("input",{type:"text",value:g.visa_type,onChange:c=>f({...g,visa_type:c.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:": E-9, F-4 "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:u("visa_cert"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[t.jsx("button",{type:"button",onClick:()=>{a(!1),n(null),m()},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:""}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:s?"":""})]})]})]})}),t.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:" ..."})}):e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"  ."})}):e.map(c=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.employee_id}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.company_name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.work_category}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.department}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.health_status==="normal"?"bg-green-100 text-green-800":c.health_status==="caution"?"bg-yellow-100 text-yellow-800":c.health_status==="observation"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:c.health_status==="normal"?"":c.health_status==="caution"?"":c.health_status==="observation"?"":""})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.is_active?"":""})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[t.jsx("button",{onClick:()=>y(c),className:"text-indigo-600 hover:text-indigo-900 mr-2",children:""}),t.jsx("button",{onClick:()=>j(c),className:"text-blue-600 hover:text-blue-900",children:""})]})]},c.id))})]})}),i&&s&&t.jsx(fp,{workerId:s.id,workerName:s.name})]})},yp=[{value:"GENERAL",label:""},{value:"SPECIAL",label:""},{value:"EMPLOYMENT",label:""},{value:"PERIODIC",label:""}],vp=[{value:"NORMAL",label:""},{value:"OBSERVATION",label:""},{value:"ABNORMAL",label:""},{value:"TREATMENT",label:""}];function jp({isOpen:e,onClose:r,onSubmit:s,initialData:n,mode:l}){var v,m,j,y,u,c;const[a,i]=b.useState([]),[d,o]=b.useState({worker_id:0,exam_type:"GENERAL",exam_date:new Date().toISOString().split("T")[0],exam_result:"NORMAL",exam_institution:"",doctor_name:"",followup_required:"N",notes:"",vital_signs:{height:void 0,weight:void 0,blood_pressure_systolic:void 0,blood_pressure_diastolic:void 0,pulse:void 0,temperature:void 0},lab_results:[]}),{fetchApi:x}=Mt();b.useEffect(()=>{e&&g()},[e]),b.useEffect(()=>{o(n||{worker_id:0,exam_type:"GENERAL",exam_date:new Date().toISOString().split("T")[0],exam_result:"NORMAL",exam_institution:"",doctor_name:"",followup_required:"N",notes:"",vital_signs:{height:void 0,weight:void 0,blood_pressure_systolic:void 0,blood_pressure_diastolic:void 0,pulse:void 0,temperature:void 0},lab_results:[]})},[n]);const g=async()=>{try{const h=await x("/workers");i(h.items||[])}catch(h){console.error("   :",h)}},f=h=>{if(h.preventDefault(),!d.worker_id||d.worker_id===0){alert(" .");return}const k=new Date(d.exam_date),_=new Date(k);d.exam_type==="SPECIAL"?_.setMonth(_.getMonth()+6):_.setFullYear(_.getFullYear()+1);const w={...d,next_exam_date:_.toISOString().split("T")[0]};s(w)},p=h=>{const{name:k,value:_}=h.target;if(k.startsWith("vital_")){const w=k.replace("vital_","");o(S=>({...S,vital_signs:{...S.vital_signs,[w]:_?Number(_):void 0}}))}else o(w=>({...w,[k]:k==="worker_id"?Number(_):_}))};return t.jsx(Dr,{isOpen:e,onClose:r,title:l==="create"?" ":" ",size:"xl",children:t.jsxs("form",{onSubmit:f,className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(yr,{className:"mr-2",size:20})," "]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"worker_id",value:d.worker_id,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:l==="edit",children:[t.jsx("option",{value:0,children:" "}),a.map(h=>t.jsxs("option",{value:h.id,children:[h.name," (",h.employee_id,")"]},h.id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"exam_type",value:d.exam_type,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:yp.map(h=>t.jsx("option",{value:h.value,children:h.label},h.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"exam_date",value:d.exam_date,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"exam_result",value:d.exam_result,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:vp.map(h=>t.jsx("option",{value:h.value,children:h.label},h.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",name:"exam_institution",value:d.exam_institution,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",name:"doctor_name",value:d.doctor_name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"followup_required",checked:d.followup_required==="Y",onChange:h=>o(k=>({...k,followup_required:h.target.checked?"Y":"N"})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:" "})]})})]}),t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (cm)"}),t.jsx("input",{type:"number",name:"vital_height",value:((v=d.vital_signs)==null?void 0:v.height)||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (kg)"}),t.jsx("input",{type:"number",name:"vital_weight",value:((m=d.vital_signs)==null?void 0:m.weight)||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (bpm)"}),t.jsx("input",{type:"number",name:"vital_pulse",value:((j=d.vital_signs)==null?void 0:j.pulse)||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (mmHg)"}),t.jsx("input",{type:"number",name:"vital_blood_pressure_systolic",value:((y=d.vital_signs)==null?void 0:y.blood_pressure_systolic)||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (mmHg)"}),t.jsx("input",{type:"number",name:"vital_blood_pressure_diastolic",value:((u=d.vital_signs)==null?void 0:u.blood_pressure_diastolic)||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (C)"}),t.jsx("input",{type:"number",name:"vital_temperature",value:((c=d.vital_signs)==null?void 0:c.temperature)||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{name:"notes",value:d.notes,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"   ,  "})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsxs(I,{variant:"secondary",onClick:r,children:[t.jsx($n,{size:16}),""]}),t.jsx(I,{type:"submit",icon:t.jsx(_s,{size:16}),children:l==="create"?"":""})]})]})})}function bp(){const[e,r]=b.useState([]),[s,n]=b.useState(!0),[l,a]=b.useState(""),[i,d]=b.useState(!1),[o,x]=b.useState("create"),[g,f]=b.useState(null),{fetchApi:p}=Mt();b.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const _=await p("/health-exams");r(_.items||[])}catch(_){console.error("   :",_),r([])}finally{n(!1)}},m=()=>{x("create"),f(null),d(!0)},j=_=>{x("edit"),f(_),d(!0)},y=async _=>{if(confirm(" ?"))try{await p(`/health-exams/${_}`,{method:"DELETE"}),await v()}catch(w){console.error("  :",w)}},u=async _=>{try{o==="create"?await p("/health-exams",{method:"POST",body:JSON.stringify(_)}):g&&await p(`/health-exams/${g.id}`,{method:"PUT",body:JSON.stringify(_)}),d(!1),await v()}catch(w){console.error("  :",w)}},c=_=>{switch(_){case"":case"NORMAL":return"bg-green-100 text-green-800";case"":case"OBSERVATION":return"bg-yellow-100 text-yellow-800";case"":case"ABNORMAL":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=_=>{switch(_){case"NORMAL":return"";case"OBSERVATION":return"";case"ABNORMAL":return"";case"TREATMENT":return"";default:return _}},k=e.filter(_=>_.worker_name&&_.worker_name.toLowerCase().includes(l.toLowerCase())||_.exam_type.toLowerCase().includes(l.toLowerCase()));return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),t.jsxs(I,{onClick:m,className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"w-4 h-4"})," "]})]}),t.jsx(M,{children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"   ...",value:l,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx(I,{variant:"outline",onClick:v,children:""})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(_=>_.exam_result==="NORMAL"||_.exam_result==="").length})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:t.jsx(Tt,{className:"w-4 h-4 text-yellow-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(_=>_.exam_result==="OBSERVATION"||_.exam_result==="").length})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(Tt,{className:"w-4 h-4 text-red-600"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(_=>_.exam_result==="ABNORMAL"||_.exam_result==="").length})]})]})})]}),t.jsx(M,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:" ..."})}):k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"  ."})}):k.map(_=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.worker_name||` ID: ${_.worker_id}`}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.exam_type}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(_.exam_date).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx($,{className:c(_.exam_result),children:h(_.exam_result)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.next_exam_date?new Date(_.next_exam_date).toLocaleDateString():"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>j(_),className:"text-blue-600 hover:text-blue-800",children:t.jsx(ks,{size:16})}),t.jsx("button",{onClick:()=>y(_.id),className:"text-red-600 hover:text-red-800",children:t.jsx(Ht,{size:16})})]})})]},_.id))})]})})}),t.jsx(jp,{isOpen:i,onClose:()=>d(!1),onSubmit:u,initialData:g,mode:o})]})}function Np({columns:e,data:r,sortable:s=!1,searchable:n=!1,searchPlaceholder:l="..."}){const[a,i]=b.useState(null),[d,o]=b.useState("asc"),[x,g]=b.useState(""),f=j=>{s&&(a===j?o(d==="asc"?"desc":"asc"):(i(j),o("asc")))},p=(j,y)=>typeof y=="string"&&y.includes(".")?y.split(".").reduce((u,c)=>u==null?void 0:u[c],j):j[y],v=b.useMemo(()=>x?r.filter(j=>e.some(y=>{const u=p(j,y.accessor);return u==null?void 0:u.toString().toLowerCase().includes(x.toLowerCase())})):r,[r,x,e]),m=b.useMemo(()=>a?[...v].sort((j,y)=>{const u=p(j,a),c=p(y,a);return u<c?d==="asc"?-1:1:u>c?d==="asc"?1:-1:0}):v,[v,a,d]);return t.jsxs("div",{children:[n&&t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",value:x,onChange:j=>g(j.target.value),placeholder:l,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsx("tr",{children:e.map((j,y)=>t.jsx("th",{onClick:()=>f(j.accessor),className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${s?"cursor-pointer hover:bg-gray-100":""}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[j.header,s&&a===j.accessor&&(d==="asc"?t.jsx(bu,{className:"h-4 w-4"}):t.jsx(Nu,{className:"h-4 w-4"}))]})},y))})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((j,y)=>t.jsx("tr",{className:"hover:bg-gray-50",children:e.map((u,c)=>t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.render?u.render(p(j,u.accessor),j):p(j,u.accessor)},c))},y))})]}),m.length===0&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:" ."})]})]})}const wp=()=>{const[e,r]=b.useState([]),[s,n]=b.useState(null),[l,a]=b.useState(!0),[i,d]=b.useState(!1);b.useState(null);const[o,x]=b.useState("all");b.useEffect(()=>{g(),f()},[o]);const g=async()=>{try{const u=new URLSearchParams;o!=="all"&&u.append("status",o);const h=await(await fetch(`/api/v1/health-exam-appointments?${u}`)).json();r(h.items||[])}catch(u){console.error("Failed to fetch appointments:",u)}finally{a(!1)}},f=async()=>{try{const c=await(await fetch("/api/v1/health-exam-appointments/statistics")).json();n(c)}catch(u){console.error("Failed to fetch statistics:",u)}},p=async(u,c)=>{try{(await fetch(`/api/v1/health-exam-appointments/${u}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:c})})).ok&&(g(),f())}catch(h){console.error("Failed to update status:",h)}},v=async()=>{try{const u=await fetch("/api/v1/health-exam-appointments/reminders/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days_before:3})});if(u.ok){const c=await u.json();alert(`${c.appointment_count}  .`),g()}}catch(u){console.error("Failed to send reminders:",u)}},m=u=>{switch(u){case"scheduled":return t.jsx(Nt,{className:"h-4 w-4 text-blue-500"});case"confirmed":return t.jsx(Me,{className:"h-4 w-4 text-green-500"});case"completed":return t.jsx(Me,{className:"h-4 w-4 text-gray-500"});case"cancelled":return t.jsx(za,{className:"h-4 w-4 text-red-500"});case"no_show":return t.jsx(Tt,{className:"h-4 w-4 text-orange-500"});default:return null}},j=u=>({scheduled:"",confirmed:"",completed:"",cancelled:"",no_show:"",rescheduled:""})[u]||u,y=[{header:"",accessor:"status",render:u=>t.jsxs("div",{className:"flex items-center gap-2",children:[m(u),t.jsx("span",{className:"text-sm",children:j(u)})]})},{header:"",accessor:"worker_name",render:(u,c)=>t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:u}),t.jsx("div",{className:"text-sm text-gray-500",children:c.worker_employee_number})]})},{header:"",accessor:"exam_type"},{header:"",accessor:"scheduled_date",render:(u,c)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Nt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{children:new Date(u).toLocaleDateString("ko-KR")}),c.scheduled_time&&t.jsxs(t.Fragment,{children:[t.jsx(nt,{className:"h-4 w-4 text-gray-400 ml-2"}),t.jsx("span",{children:c.scheduled_time})]})]})},{header:"",accessor:"medical_institution",render:(u,c)=>t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:u}),c.institution_phone&&t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[t.jsx(wu,{className:"h-3 w-3"}),c.institution_phone]})]})},{header:"",accessor:"reminder_sent",render:u=>t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Yt,{className:`h-4 w-4 ${u?"text-green-500":"text-gray-400"}`}),t.jsx("span",{className:"text-sm",children:u?"":""})]})},{header:"",accessor:"id",render:(u,c)=>t.jsxs("div",{className:"flex gap-2",children:[c.status==="scheduled"&&t.jsx("button",{onClick:()=>p(u,"confirmed"),className:"text-sm text-green-600 hover:text-green-800",children:""}),c.status==="confirmed"&&t.jsx("button",{onClick:()=>p(u,"completed"),className:"text-sm text-blue-600 hover:text-blue-800",children:""}),(c.status==="scheduled"||c.status==="confirmed")&&t.jsx("button",{onClick:()=>p(u,"cancelled"),className:"text-sm text-red-600 hover:text-red-800",children:""})]})}];return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"  "}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[t.jsx(Yt,{className:"h-4 w-4 mr-2"})," "]}),t.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[t.jsx(Ke,{className:"h-4 w-4 mr-2"})," "]})]})]}),s&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"7  "}),t.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.upcoming_7_days})]}),t.jsx(Nt,{className:"h-8 w-8 text-blue-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.total_confirmed})]}),t.jsx(Me,{className:"h-8 w-8 text-green-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[s.completion_rate.toFixed(1),"%"]})]}),t.jsx(Me,{className:"h-8 w-8 text-gray-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[s.no_show_rate.toFixed(1),"%"]})]}),t.jsx(Tt,{className:"h-8 w-8 text-orange-500"})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:["all","scheduled","confirmed","completed","cancelled"].map(u=>t.jsx("button",{onClick:()=>x(u),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${o===u?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u==="all"?"":j(u)},u))})}),t.jsx("div",{className:"p-6",children:t.jsx(Np,{columns:y,data:e,sortable:!0,searchable:!0,searchPlaceholder:",  ..."})})]}),i&&t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"  "}),t.jsx("p",{className:"text-sm text-gray-600",children:"    ."}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:""})})]})})]})},_p=["","","","","","","",""],kp=["","",""],Sp=()=>{const[e,r]=b.useState([]),[s,n]=b.useState(!1),[l,a]=b.useState(!1),[i,d]=b.useState(null),[o,x]=b.useState({location:"",measurement_type:"",measurement_date:new Date().toISOString().split("T")[0],measured_value:0,standard_value:0,result:"",re_measurement_required:"N",substance_name:"",measurement_method:"",notes:""});b.useEffect(()=>{g(),f()},[]);const g=async()=>{a(!0);try{const m=await fetch(ke("/work-environments/"));if(m.ok){const j=await m.json();r(j.items||[])}}catch(m){console.error("  :",m)}finally{a(!1)}},f=async()=>{try{const m=await fetch(ke("/work-environments/statistics"));if(m.ok){const j=await m.json();d(j)}}catch(m){console.error("  :",m)}},p=async m=>{m.preventDefault(),a(!0);try{const j=await fetch(ke("/work-environments/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(j.ok)n(!1),x({location:"",measurement_type:"",measurement_date:new Date().toISOString().split("T")[0],measured_value:0,standard_value:0,result:"",re_measurement_required:"N",substance_name:"",measurement_method:"",notes:""}),g(),f(),alert(" .");else{const y=await j.json();alert(" : "+(y.detail||"   "))}}catch(j){console.error(" :",j),alert("  .")}finally{a(!1)}},v=m=>{switch(m){case"":return"text-green-600 bg-green-100";case"":return"text-red-600 bg-red-100";case"":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),t.jsx("p",{className:"text-gray-600",children:"Construction Work Environment Monitoring"})]}),t.jsx("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"+  "})]}),i&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"  "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total_measurements})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500",children:""}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.pass_count})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500",children:""}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.fail_count})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.re_measurement_required})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:" "})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:l?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:" ..."})}):e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"   ."})}):e.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.location}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.measurement_type}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(m.measurement_date).toLocaleDateString("ko-KR")}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.measured_value}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.standard_value}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(m.result)}`,children:m.result})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.re_measurement_required==="Y"?"":""})]},m.id))})]})})]}),s&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:" "}),t.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),t.jsxs("form",{onSubmit:p,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("input",{type:"text",required:!0,value:o.location,onChange:m=>x({...o,location:m.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:": A 1 "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("select",{required:!0,value:o.measurement_type,onChange:m=>x({...o,measurement_type:m.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:_p.map(m=>t.jsx("option",{value:m,children:m},m))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("input",{type:"date",required:!0,value:o.measurement_date,onChange:m=>x({...o,measurement_date:m.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"number",step:"0.01",required:!0,value:o.measured_value,onChange:m=>x({...o,measured_value:parseFloat(m.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"number",step:"0.01",required:!0,value:o.standard_value,onChange:m=>x({...o,standard_value:parseFloat(m.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("select",{required:!0,value:o.result,onChange:m=>x({...o,result:m.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:kp.map(m=>t.jsx("option",{value:m,children:m},m))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:o.substance_name,onChange:m=>x({...o,substance_name:m.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" ( )"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"text",value:o.measurement_method,onChange:m=>x({...o,measurement_method:m.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   "})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"re_measurement_required",value:"N",checked:o.re_measurement_required==="N",onChange:m=>x({...o,re_measurement_required:m.target.value}),className:"mr-2"}),""]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"re_measurement_required",value:"Y",checked:o.re_measurement_required==="Y",onChange:m=>x({...o,re_measurement_required:m.target.value}),className:"mr-2"}),""]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{value:o.notes,onChange:m=>x({...o,notes:m.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   "})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:l?" ...":""}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:""})]})]})]})})]})},Cp=[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}];function Ep({isOpen:e,onClose:r,onSubmit:s,initialData:n,mode:l}){var v;const[a,i]=b.useState({title:"",education_type:"",instructor:"",duration:3,target_workers:[""],scheduled_date:new Date().toISOString().split("T")[0],completion_rate:0,status:"scheduled",required_hours:3,description:""});b.useEffect(()=>{i(n||{title:"",education_type:"",instructor:"",duration:3,target_workers:[""],scheduled_date:new Date().toISOString().split("T")[0],completion_rate:0,status:"scheduled",required_hours:3,description:""})},[n,e]);const d=m=>{var y;m.preventDefault();const j={...a,target_workers:((y=a.target_workers)==null?void 0:y.filter(u=>u.trim()!==""))||[]};s(j)},o=m=>{const{name:j,value:y,type:u}=m.target;i(u==="number"?c=>({...c,[j]:y===""?0:Number(y)}):c=>({...c,[j]:y}))},x=(m,j)=>{i(y=>{var u;return{...y,target_workers:((u=y.target_workers)==null?void 0:u.map((c,h)=>h===m?j:c))||[]}})},g=()=>{i(m=>({...m,target_workers:[...m.target_workers||[],""]}))},f=m=>{i(j=>{var y;return{...j,target_workers:((y=j.target_workers)==null?void 0:y.filter((u,c)=>c!==m))||[]}})},p=m=>{let j=3;switch(m){case"":j=8;break;case"":j=3;break;case"":j=4;break;case"":j=16;break;default:j=3}i(y=>({...y,education_type:m,required_hours:j,duration:j}))};return t.jsx(Dr,{isOpen:e,onClose:r,title:l==="create"?"  ":"  ",size:"lg",children:t.jsxs("form",{onSubmit:d,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"title",value:a.title,onChange:o,placeholder:":   ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"education_type",value:a.education_type,onChange:m=>p(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Cp.map(m=>t.jsx("option",{value:m.value,children:m.label},m.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"instructor",value:a.instructor,onChange:o,placeholder:":  ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"scheduled_date",value:a.scheduled_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["   ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",name:"required_hours",value:a.required_hours,onChange:o,min:"1",max:"40",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["   ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",name:"duration",value:a.duration,onChange:o,min:"1",max:"40",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("select",{name:"status",value:a.status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:op.map(m=>t.jsx("option",{value:m.value,children:m.label},m.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (%)"}),t.jsx("input",{type:"number",name:"completion_rate",value:a.completion_rate,onChange:o,min:"0",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(v=a.target_workers)==null?void 0:v.map((m,j)=>{var y;return t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:m,onChange:u=>x(j,u.target.value),placeholder:" ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:j===0}),t.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>f(j),disabled:((y=a.target_workers)==null?void 0:y.length)===1,children:t.jsx(Ht,{size:16})})]},j)}),t.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:g,className:"flex items-center gap-2",children:[t.jsx(Ke,{size:16})," "]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{name:"description",value:a.description,onChange:o,rows:4,placeholder:" , ,     ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[t.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"   "}),t.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[t.jsxs("p",{children:[" ",t.jsx("strong",{children:"  ()"}),": 8 "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),":  3 "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),":   2~16"]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),":  16 "]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxs(I,{variant:"secondary",onClick:r,children:[t.jsx($n,{size:16}),""]}),t.jsx(I,{type:"submit",icon:t.jsx(_s,{size:16}),children:l==="create"?" ":" "})]})]})})}function Lp(){const[e,r]=b.useState([]),[s,n]=b.useState(!0),[l,a]=b.useState(""),[i,d]=b.useState("all"),[o,x]=b.useState(!1),[g,f]=b.useState("create"),[p,v]=b.useState(null),{fetchApi:m}=Mt();b.useEffect(()=>{j()},[]);const j=async()=>{try{n(!0);const z=new URLSearchParams;l&&z.append("search",l),i!=="all"&&z.append("status",i);const q=await m(`/educations?${z}`);q!=null&&q.items?r(q.items):Array.isArray(q)?r(q):r([])}catch(z){console.error("   :",z),r([])}finally{n(!1)}},y=()=>{f("create"),v(null),x(!0)},u=z=>{f("edit"),v(z),x(!0)},c=async z=>{try{g==="create"?(await m("/educations",{method:"POST",body:JSON.stringify(z)}),await j()):p&&(await m(`/educations/${p.id}`,{method:"PUT",body:JSON.stringify(z)}),r(q=>q.map(C=>C.id===p.id?{...C,...z}:C))),x(!1)}catch(q){console.error("  :",q),alert("  .")}},h=z=>{switch(z){case"scheduled":return t.jsx($,{className:"bg-blue-100 text-blue-800",children:""});case"ongoing":return t.jsx($,{className:"bg-yellow-100 text-yellow-800",children:""});case"completed":return t.jsx($,{className:"bg-green-100 text-green-800",children:""});case"cancelled":return t.jsx($,{className:"bg-red-100 text-red-800",children:""});default:return t.jsx($,{className:"bg-gray-100 text-gray-800",children:""})}},k=z=>{switch(z){case"":return t.jsx($,{className:"bg-purple-100 text-purple-800",children:""});case"":return t.jsx($,{className:"bg-blue-100 text-blue-800",children:""});case"":return t.jsx($,{className:"bg-orange-100 text-orange-800",children:""});default:return t.jsx($,{className:"bg-gray-100 text-gray-800",children:z})}},_=e.filter(z=>{const q=z.title.toLowerCase().includes(l.toLowerCase())||z.instructor.toLowerCase().includes(l.toLowerCase()),C=i==="all"||z.status===i;return q&&C}),w=e.length,S=e.filter(z=>z.status==="completed").length,P=e.filter(z=>z.status==="ongoing").length,A=e.filter(z=>z.status==="scheduled").length;return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),t.jsxs(I,{onClick:y,className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"w-4 h-4"}),"  "]})]}),t.jsx(M,{children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"   ...",value:l,onChange:z=>a(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("select",{value:i,onChange:z=>d(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:" "}),t.jsx("option",{value:"scheduled",children:""}),t.jsx("option",{value:"ongoing",children:""}),t.jsx("option",{value:"completed",children:""}),t.jsx("option",{value:"cancelled",children:""})]}),t.jsx(I,{variant:"outline",onClick:j,children:""})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ei,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Me,{className:"w-8 h-8 text-green-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:S})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(nt,{className:"w-8 h-8 text-yellow-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:P})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(An,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A})]})]})})]}),t.jsx(M,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:" ..."})}):_.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:"  ."})}):_.map(z=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.title}),t.jsx("p",{className:"text-sm text-gray-500",children:z.description})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(z.education_type)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.instructor}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.scheduled_date}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[z.duration,""]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[z.target_workers.length,""]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${z.completion_rate}%`}})}),t.jsxs("span",{className:"text-sm text-gray-500",children:[z.completion_rate,"%"]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h(z.status)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex gap-2",children:t.jsxs(I,{variant:"outline",size:"sm",onClick:()=>u(z),children:[t.jsx(ks,{size:14}),""]})})})]},z.id))})]})})}),t.jsx(M,{children:t.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ei,{className:"w-5 h-5 text-purple-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-purple-900 mb-1",children:"  "}),t.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[t.jsx("p",{children:"  : 8 "}),t.jsx("p",{children:"  :  3 "}),t.jsx("p",{children:"  :    "}),t.jsx("p",{children:" :  16 "})]})]})]})})}),t.jsx(Ep,{isOpen:o,onClose:()=>x(!1),onSubmit:c,initialData:p,mode:g})]})}const zp=[{value:" ",label:" "},{value:" ",label:" "},{value:" ",label:" "},{value:" ",label:" "},{value:" ",label:" "},{value:"",label:""},{value:" ",label:" "},{value:" ",label:" "},{value:"",label:""}],Tp=[{value:"L",label:"L ()"},{value:"kg",label:"kg ()"},{value:"g",label:"g ()"},{value:"mL",label:"mL ()"},{value:"m",label:"m ()"},{value:"",label:""}];function Dp({isOpen:e,onClose:r,onSubmit:s,initialData:n,mode:l}){var v;const[a,i]=b.useState({name:"",cas_number:"",manufacturer:"",supplier:"",hazard_class:" ",hazard_level:"medium",msds_available:!1,msds_updated_date:new Date().toISOString().split("T")[0],storage_location:"",quantity:0,unit:"L",last_inspection_date:new Date().toISOString().split("T")[0],expiry_date:"",safety_measures:[""],responsible_person:"",notes:""});b.useEffect(()=>{i(n||{name:"",cas_number:"",manufacturer:"",supplier:"",hazard_class:" ",hazard_level:"medium",msds_available:!1,msds_updated_date:new Date().toISOString().split("T")[0],storage_location:"",quantity:0,unit:"L",last_inspection_date:new Date().toISOString().split("T")[0],expiry_date:"",safety_measures:[""],responsible_person:"",notes:""})},[n,e]);const d=m=>{var y;m.preventDefault();const j={...a,safety_measures:((y=a.safety_measures)==null?void 0:y.filter(u=>u.trim()!==""))||[]};s(j)},o=m=>{const{name:j,value:y,type:u}=m.target;i(u==="checkbox"?c=>({...c,[j]:m.target.checked}):u==="number"?c=>({...c,[j]:y===""?0:Number(y)}):c=>({...c,[j]:y}))},x=(m,j)=>{i(y=>{var u;return{...y,safety_measures:((u=y.safety_measures)==null?void 0:u.map((c,h)=>h===m?j:c))||[]}})},g=()=>{i(m=>({...m,safety_measures:[...m.safety_measures||[],""]}))},f=m=>{i(j=>{var y;return{...j,safety_measures:((y=j.safety_measures)==null?void 0:y.filter((u,c)=>c!==m))||[]}})},p=m=>{let j="medium";switch(m){case" ":case" ":case" ":j="very_high";break;case" ":case" ":j="high";break;case" ":case" ":j="medium";break;default:j="low"}i(y=>({...y,hazard_class:m,hazard_level:j}))};return t.jsx(Dr,{isOpen:e,onClose:r,title:l==="create"?" ":"  ",size:"xl",children:t.jsxs("form",{onSubmit:d,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:a.name,onChange:o,placeholder:": ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CAS  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"cas_number",value:a.cas_number,onChange:o,placeholder:": 67-64-1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"manufacturer",value:a.manufacturer,onChange:o,placeholder:":  ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"supplier",value:a.supplier,onChange:o,placeholder:":  ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"hazard_class",value:a.hazard_class,onChange:m=>p(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:zp.map(m=>t.jsx("option",{value:m.value,children:m.label},m.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"hazard_level",value:a.hazard_level,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:ip.map(m=>t.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"storage_location",value:a.storage_location,onChange:o,placeholder:":   A",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",name:"quantity",value:a.quantity,onChange:o,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"unit",value:a.unit,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Tp.map(m=>t.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"responsible_person",value:a.responsible_person,onChange:o,placeholder:": ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"last_inspection_date",value:a.last_inspection_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"date",name:"expiry_date",value:a.expiry_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["MSDS  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"msds_updated_date",value:a.msds_updated_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"msds_available",checked:a.msds_available,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"MSDS () "})]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(v=a.safety_measures)==null?void 0:v.map((m,j)=>{var y;return t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:m,onChange:u=>x(j,u.target.value),placeholder:"   (: , ,  )",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:j===0}),t.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>f(j),disabled:((y=a.safety_measures)==null?void 0:y.length)===1,children:t.jsx(Ht,{size:16})})]},j)}),t.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:g,className:"flex items-center gap-2",children:[t.jsx(Ke,{size:16})," "]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,placeholder:" ,  ,    ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[t.jsx("h4",{className:"text-sm font-medium text-orange-900 mb-2",children:"   "}),t.jsxs("div",{className:"text-xs text-orange-700 space-y-1",children:[t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),": , ,  "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:""}),": ,  "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:""}),": ,  "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:""}),":  "]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxs(I,{variant:"secondary",onClick:r,children:[t.jsx($n,{size:16}),""]}),t.jsx(I,{type:"submit",icon:t.jsx(_s,{size:16}),children:l==="create"?" ":" "})]})]})})}function Pp(){const[e,r]=b.useState([]),[s,n]=b.useState(!0),[l,a]=b.useState(""),[i,d]=b.useState("all"),[o,x]=b.useState("all"),[g,f]=b.useState(!1),[p,v]=b.useState("create"),[m,j]=b.useState(null),{fetchApi:y}=Mt();b.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const D=new URLSearchParams;l&&D.append("search",l),i!=="all"&&D.append("hazard_level",i),o!=="all"&&D.append("msds_status",o);const T=await y(`/chemicals?${D}`);T!=null&&T.items?r(T.items):Array.isArray(T)?r(T):r([])}catch(D){console.error("   :",D),r([])}finally{n(!1)}},c=()=>{v("create"),j(null),f(!0)},h=D=>{v("edit"),j(D),f(!0)},k=async D=>{try{p==="create"?(await y("/chemicals",{method:"POST",body:JSON.stringify(D)}),await u()):m&&(await y(`/chemicals/${m.id}`,{method:"PUT",body:JSON.stringify(D)}),r(T=>T.map(U=>U.id===m.id?{...U,...D}:U))),f(!1)}catch(T){console.error("  :",T),alert("  .")}},_=D=>{switch(D){case"low":return t.jsx($,{className:"bg-green-100 text-green-800",children:""});case"medium":return t.jsx($,{className:"bg-yellow-100 text-yellow-800",children:""});case"high":return t.jsx($,{className:"bg-orange-100 text-orange-800",children:""});case"very_high":return t.jsx($,{className:"bg-red-100 text-red-800",children:" "});default:return t.jsx($,{className:"bg-gray-100 text-gray-800",children:""})}},w=(D,T)=>{const U=new Date(T)>new Date(Date.now()-31536e6);return D&&U?t.jsx($,{className:"bg-green-100 text-green-800",children:""}):D?t.jsx($,{className:"bg-yellow-100 text-yellow-800",children:" "}):t.jsx($,{className:"bg-red-100 text-red-800",children:""})},S=e.filter(D=>{const T=D.name.toLowerCase().includes(l.toLowerCase())||D.cas_number.includes(l)||D.manufacturer.toLowerCase().includes(l.toLowerCase()),U=i==="all"||D.hazard_level===i,E=o==="all"||o==="available"&&D.msds_available||o==="missing"&&!D.msds_available;return T&&U&&E}),P=e.length,A=e.filter(D=>D.hazard_level==="high"||D.hazard_level==="very_high").length,z=e.filter(D=>!D.msds_available).length,q=e.filter(D=>{if(!D.expiry_date)return!1;const T=new Date(D.expiry_date),U=new Date(Date.now()+90*24*60*60*1e3);return T<=U}).length,C=D=>{console.log("MSDS :",D.name)},te=D=>{console.log("MSDS :",D.name)};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),t.jsxs(I,{onClick:c,className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"w-4 h-4"})," "]})]}),t.jsx(M,{children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:", CAS,  ...",value:l,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("select",{value:i,onChange:D=>d(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:" "}),t.jsx("option",{value:"low",children:""}),t.jsx("option",{value:"medium",children:""}),t.jsx("option",{value:"high",children:""}),t.jsx("option",{value:"very_high",children:" "})]}),t.jsxs("select",{value:o,onChange:D=>x(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:" MSDS"}),t.jsx("option",{value:"available",children:"MSDS "}),t.jsx("option",{value:"missing",children:"MSDS "})]}),t.jsx(I,{variant:"outline",onClick:u,children:""})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(tt,{className:"w-8 h-8 text-red-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:A})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-8 h-8 text-orange-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"MSDS "}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:z})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(tt,{className:"w-8 h-8 text-yellow-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:q})]})]})})]}),t.jsx(M,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"/"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MSDS"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:" ..."})}):S.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:" ."})}):S.map(D=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:["CAS: ",D.cas_number]}),t.jsx("p",{className:"text-xs text-gray-400",children:D.hazard_class})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:D.manufacturer}),t.jsx("p",{className:"text-sm text-gray-500",children:D.supplier})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_(D.hazard_level)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:D.storage_location}),t.jsxs("p",{className:"text-sm text-gray-500",children:[D.quantity," ",D.unit]}),D.expiry_date&&t.jsxs("p",{className:"text-xs text-gray-400",children:[": ",D.expiry_date]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"space-y-1",children:[w(D.msds_available,D.msds_updated_date),t.jsxs("p",{className:"text-xs text-gray-400",children:[": ",D.msds_updated_date]}),D.msds_available&&t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>C(D),className:"text-blue-600 hover:text-blue-800",title:"MSDS ",children:t.jsx(Ta,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>te(D),className:"text-green-600 hover:text-green-800",title:"MSDS ",children:t.jsx(Da,{className:"w-3 h-3"})})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.responsible_person}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex gap-2",children:t.jsxs(I,{variant:"outline",size:"sm",onClick:()=>h(D),children:[t.jsx(ks,{size:14}),""]})})})]},D.id))})]})})}),t.jsx(M,{children:t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(tt,{className:"w-5 h-5 text-red-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-red-900 mb-1",children:"  "}),t.jsxs("div",{className:"text-sm text-red-700 space-y-1",children:[t.jsx("p",{children:" MSDS()     "}),t.jsx("p",{children:"       "}),t.jsx("p",{children:"      "}),t.jsx("p",{children:"     "}),t.jsx("p",{children:"     "})]})]})]})})}),t.jsx(Dp,{isOpen:g,onClose:()=>f(!1),onSubmit:k,initialData:m,mode:p})]})}function Rp({isOpen:e,onClose:r,onSubmit:s,initialData:n,mode:l}){var p,v,m,j;const[a,i]=b.useState({incident_date:new Date().toISOString().split("T")[0],report_date:new Date().toISOString().split("T")[0],location:"",injured_person:"",department:"",accident_type:((p=Dl[0])==null?void 0:p.value)||"fall",severity:"minor",injury_type:"",description:"",immediate_cause:"",root_cause:"",corrective_actions:[""],preventive_measures:[""],reported_by:"",investigated_by:"",investigation_date:new Date().toISOString().split("T")[0],status:"reported",follow_up_required:!1,follow_up_date:"",cost_estimate:0,lost_work_days:0,witnesses:[""],photos_attached:!1,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:""});b.useEffect(()=>{var y;i(n||{incident_date:new Date().toISOString().split("T")[0],report_date:new Date().toISOString().split("T")[0],location:"",injured_person:"",department:"",accident_type:((y=Dl[0])==null?void 0:y.value)||"fall",severity:"minor",injury_type:"",description:"",immediate_cause:"",root_cause:"",corrective_actions:[""],preventive_measures:[""],reported_by:"",investigated_by:"",investigation_date:new Date().toISOString().split("T")[0],status:"reported",follow_up_required:!1,follow_up_date:"",cost_estimate:0,lost_work_days:0,witnesses:[""],photos_attached:!1,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:""})},[n,e]);const d=y=>{var c,h,k;if(y.preventDefault(),l==="create"&&!a.report_number){const _=new Date().getFullYear(),w=Math.floor(Math.random()*1e3).toString().padStart(3,"0");a.report_number=`ACC-${_}-${w}`}const u={...a,corrective_actions:((c=a.corrective_actions)==null?void 0:c.filter(_=>_.trim()!==""))||[],preventive_measures:((h=a.preventive_measures)==null?void 0:h.filter(_=>_.trim()!==""))||[],witnesses:((k=a.witnesses)==null?void 0:k.filter(_=>_.trim()!==""))||[]};s(u)},o=y=>{const{name:u,value:c,type:h}=y.target;i(h==="checkbox"?k=>({...k,[u]:y.target.checked}):h==="number"?k=>({...k,[u]:c===""?0:Number(c)}):k=>({...k,[u]:c}))},x=(y,u,c)=>{i(h=>{var k;return{...h,[y]:((k=h[y])==null?void 0:k.map((_,w)=>w===u?c:_))||[]}})},g=y=>{i(u=>({...u,[y]:[...u[y]||[],""]}))},f=(y,u)=>{i(c=>{var h;return{...c,[y]:((h=c[y])==null?void 0:h.filter((k,_)=>_!==u))||[]}})};return t.jsx(Dr,{isOpen:e,onClose:r,title:l==="create"?"  ":"  ",size:"xl",children:t.jsxs("form",{onSubmit:d,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"incident_date",value:a.incident_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"report_date",value:a.report_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"location",value:a.location,onChange:o,placeholder:":   A",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"injured_person",value:a.injured_person,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"department",value:a.department,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"accident_type",value:a.accident_type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Dl.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{name:"severity",value:a.severity,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:ap.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"injury_type",value:a.injury_type,onChange:o,placeholder:": , ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{name:"description",value:a.description,onChange:o,rows:3,placeholder:"    ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"immediate_cause",value:a.immediate_cause,onChange:o,placeholder:":  ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"root_cause",value:a.root_cause,onChange:o,placeholder:":     ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),(v=a.corrective_actions)==null?void 0:v.map((y,u)=>{var c;return t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:y,onChange:h=>x("corrective_actions",u,h.target.value),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>f("corrective_actions",u),disabled:((c=a.corrective_actions)==null?void 0:c.length)===1,children:t.jsx(Ht,{size:16})})]},u)}),t.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>g("corrective_actions"),className:"flex items-center gap-2",children:[t.jsx(Ke,{size:16})," "]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),(m=a.preventive_measures)==null?void 0:m.map((y,u)=>{var c;return t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:y,onChange:h=>x("preventive_measures",u,h.target.value),placeholder:"  ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>f("preventive_measures",u),disabled:((c=a.preventive_measures)==null?void 0:c.length)===1,children:t.jsx(Ht,{size:16})})]},u)}),t.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>g("preventive_measures"),className:"flex items-center gap-2",children:[t.jsx(Ke,{size:16})," "]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),(j=a.witnesses)==null?void 0:j.map((y,u)=>{var c;return t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:y,onChange:h=>x("witnesses",u,h.target.value),placeholder:" ",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>f("witnesses",u),disabled:((c=a.witnesses)==null?void 0:c.length)===1,children:t.jsx(Ht,{size:16})})]},u)}),t.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>g("witnesses"),className:"flex items-center gap-2",children:[t.jsx(Ke,{size:16})," "]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",name:"reported_by",value:a.reported_by,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",name:"investigated_by",value:a.investigated_by,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"date",name:"investigation_date",value:a.investigation_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsxs("select",{name:"status",value:a.status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"reported",children:""}),t.jsx("option",{value:"investigating",children:""}),t.jsx("option",{value:"action_required",children:""}),t.jsx("option",{value:"completed",children:""}),t.jsx("option",{value:"closed",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"number",name:"lost_work_days",value:a.lost_work_days,onChange:o,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),t.jsx("input",{type:"number",name:"cost_estimate",value:a.cost_estimate,onChange:o,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"follow_up_required",checked:a.follow_up_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"  "})]}),a.follow_up_required&&t.jsxs("div",{className:"ml-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),t.jsx("input",{type:"date",name:"follow_up_date",value:a.follow_up_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"medical_treatment_required",checked:a.medical_treatment_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"  "})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"government_notification_required",checked:a.government_notification_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"  "})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"government_reported",checked:a.government_reported,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"  "})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"photos_attached",checked:a.photos_attached,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:" "})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxs(I,{variant:"secondary",onClick:r,children:[t.jsx($n,{size:16}),""]}),t.jsx(I,{type:"submit",icon:t.jsx(_s,{size:16}),children:l==="create"?" ":" "})]})]})})}function Op(){const[e,r]=b.useState([]),[s,n]=b.useState(!0),[l,a]=b.useState(""),[i,d]=b.useState("all"),[o,x]=b.useState("all");b.useState("all");const[g,f]=b.useState(!1),[p,v]=b.useState("create"),[m,j]=b.useState(null),[y,u]=b.useState(!1),{fetchApi:c}=Mt();b.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const T=new URLSearchParams;l&&T.append("search",l),i!=="all"&&T.append("severity",i),o!=="all"&&T.append("status",o);const U=await c(`/accidents?${T}`);U!=null&&U.items?r(U.items):Array.isArray(U)?r(U):r([])}catch(T){console.error("   :",T),r([])}finally{n(!1)}},k=()=>{v("create"),j(null),f(!0)},_=T=>{v("edit"),j(T),f(!0)},w=T=>{j(T),u(!0)},S=async T=>{try{p==="create"?(await c("/accidents",{method:"POST",body:JSON.stringify(T)}),await h()):m&&(await c(`/accidents/${m.id}`,{method:"PUT",body:JSON.stringify(T)}),r(U=>U.map(E=>E.id===m.id?{...E,...T}:E))),f(!1)}catch(U){console.error("   :",U),alert("   .")}},P=T=>{switch(T){case"minor":return t.jsx($,{className:"bg-green-100 text-green-800",children:""});case"moderate":return t.jsx($,{className:"bg-yellow-100 text-yellow-800",children:""});case"severe":return t.jsx($,{className:"bg-orange-100 text-orange-800",children:""});case"fatal":return t.jsx($,{className:"bg-red-100 text-red-800",children:""});default:return t.jsx($,{className:"bg-gray-100 text-gray-800",children:""})}},A=T=>{switch(T){case"reported":return t.jsx($,{className:"bg-blue-100 text-blue-800",children:""});case"investigating":return t.jsx($,{className:"bg-yellow-100 text-yellow-800",children:""});case"action_required":return t.jsx($,{className:"bg-orange-100 text-orange-800",children:""});case"completed":return t.jsx($,{className:"bg-green-100 text-green-800",children:""});case"closed":return t.jsx($,{className:"bg-gray-100 text-gray-800",children:""});default:return t.jsx($,{className:"bg-gray-100 text-gray-800",children:""})}},z=e.filter(T=>{const U=T.injured_person.toLowerCase().includes(l.toLowerCase())||T.location.toLowerCase().includes(l.toLowerCase())||T.report_number.toLowerCase().includes(l.toLowerCase())||T.accident_type.toLowerCase().includes(l.toLowerCase()),E=i==="all"||T.severity===i,N=o==="all"||T.status===o;return U&&E&&N}),q=e.length,C=e.filter(T=>T.severity==="severe"||T.severity==="fatal").length,te=e.filter(T=>T.status==="investigating"||T.status==="action_required").length,D=e.reduce((T,U)=>T+(U.lost_work_days||0),0);return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),t.jsxs(I,{onClick:k,className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"w-4 h-4"})," "]})]}),t.jsx(M,{children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:", , ,  ...",value:l,onChange:T=>a(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("select",{value:i,onChange:T=>d(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:" "}),t.jsx("option",{value:"minor",children:""}),t.jsx("option",{value:"moderate",children:""}),t.jsx("option",{value:"severe",children:""}),t.jsx("option",{value:"fatal",children:""})]}),t.jsxs("select",{value:o,onChange:T=>x(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:" "}),t.jsx("option",{value:"reported",children:""}),t.jsx("option",{value:"investigating",children:""}),t.jsx("option",{value:"action_required",children:""}),t.jsx("option",{value:"completed",children:""}),t.jsx("option",{value:"closed",children:""})]}),t.jsx(I,{variant:"outline",onClick:h,children:""})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(tt,{className:"w-8 h-8 text-red-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:C})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(nt,{className:"w-8 h-8 text-orange-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:te})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Nt,{className:"w-8 h-8 text-purple-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),t.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[D,""]})]})]})})]}),t.jsx(M,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"/"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:" ..."})}):z.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"  ."})}):z.map(T=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.report_number}),t.jsxs("p",{className:"text-sm text-gray-500",children:[": ",T.incident_date]}),t.jsxs("p",{className:"text-sm text-gray-500",children:[": ",T.report_date]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.injured_person}),t.jsx("p",{className:"text-sm text-gray-500",children:T.department}),t.jsx("p",{className:"text-xs text-gray-400",children:T.location})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:T.accident_type}),t.jsx("p",{className:"text-sm text-gray-500",children:T.injury_type})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P(T.severity)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"space-y-1",children:[A(T.status),T.follow_up_required&&t.jsxs("p",{className:"text-xs text-orange-600",children:[": ",T.follow_up_date]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-900",children:[T.lost_work_days||0,""]}),T.cost_estimate&&t.jsxs("p",{className:"text-xs text-gray-500",children:[": ",T.cost_estimate.toLocaleString(),""]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:T.investigated_by}),t.jsxs("p",{className:"text-xs text-gray-500",children:[": ",T.investigation_date]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(I,{variant:"outline",size:"sm",onClick:()=>w(T),children:[t.jsx(Ta,{size:14}),""]}),t.jsxs(I,{variant:"outline",size:"sm",onClick:()=>_(T),children:[t.jsx(ks,{size:14}),""]})]})})]},T.id))})]})})}),t.jsx(M,{children:t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(tt,{className:"w-5 h-5 text-red-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-red-900 mb-1",children:"  "}),t.jsxs("div",{className:"text-sm text-red-700 space-y-1",children:[t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),": , 3  ,   2  "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),": 4    ( )"]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),":  "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),":       "]}),t.jsxs("p",{children:[" ",t.jsx("strong",{children:" "}),": 1   "]})]})]})]})})}),t.jsx(Rp,{isOpen:g,onClose:()=>f(!1),onSubmit:S,initialData:m,mode:p}),y&&m&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"  "}),t.jsx(I,{variant:"outline",onClick:()=>u(!1),children:""})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.report_number]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.incident_date]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.report_date]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.location]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.injured_person]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.department]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.accident_type]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",P(m.severity)]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.injury_type]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.lost_work_days||0,""]}),m.cost_estimate&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.cost_estimate.toLocaleString(),""]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",A(m.status)]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.investigated_by]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.investigation_date]}),m.follow_up_required&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.follow_up_date]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:m.description})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.immediate_cause]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.root_cause]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsx("ul",{className:"text-sm space-y-1",children:m.corrective_actions.map((T,U)=>t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),T]},U))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsx("ul",{className:"text-sm space-y-1",children:m.preventive_measures.map((T,U)=>t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-2 flex-shrink-0"}),T]},U))})]}),m.witnesses.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:""}),t.jsx("div",{className:"text-sm",children:m.witnesses.join(", ")})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:" "}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.medical_treatment_required?"":""]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.government_notification_required?"":""]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.government_reported?"":""]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.photos_attached?"":""]}),m.notes&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:":"})," ",m.notes]})]})]})]})]})]})})]})}const Fp=()=>{const[e,r]=b.useState("all"),[s,n]=b.useState(""),l=[{id:"all",name:" "},{id:"health",name:""},{id:"safety",name:""},{id:"education",name:""},{id:"environment",name:""},{id:"accident",name:""},{id:"chemical",name:""},{id:"legal",name:""}],i=[{id:"1",name:" ",category:"health",description:"    ",updatedAt:"2025-01-21"},{id:"2",name:" ",category:"education",description:"   ",updatedAt:"2025-01-20"},{id:"3",name:"  ",category:"environment",description:", ,    ",updatedAt:"2025-01-19"},{id:"4",name:" ",category:"accident",description:"     ",updatedAt:"2025-01-18"},{id:"5",name:"MSDS ",category:"chemical",description:"  ",updatedAt:"2025-01-17"}].filter(o=>{const x=e==="all"||o.category===e,g=o.name.toLowerCase().includes(s.toLowerCase())||o.description.toLowerCase().includes(s.toLowerCase());return x&&g}),d=async(o,x)=>{try{console.log(`Downloading document: ${x}`),alert(`"${x}"     .`)}catch(g){console.error("  :",g),alert("    .")}};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),t.jsx("p",{className:"text-gray-600",children:"       ."})]}),t.jsx("div",{className:"mb-6 bg-white p-4 rounded-lg shadow",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:"   ...",value:s,onChange:o=>n(o.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:l.map(o=>t.jsx("button",{onClick:()=>r(o.id),className:`px-4 py-2 rounded-md transition-colors ${e===o.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:o.name},o.id))})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.length===0?t.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"  ."}):i.map(o=>{var x;return t.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:o.name}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.description})]}),t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${o.category==="health"?"bg-green-100 text-green-800":o.category==="safety"?"bg-red-100 text-red-800":o.category==="education"?"bg-blue-100 text-blue-800":o.category==="environment"?"bg-yellow-100 text-yellow-800":o.category==="accident"?"bg-orange-100 text-orange-800":o.category==="chemical"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:(x=l.find(g=>g.id===o.category))==null?void 0:x.name})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[" : ",new Date(o.updatedAt).toLocaleDateString("ko-KR")]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>d(o.id,o.name),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:""}),t.jsx("button",{className:"px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:""})]})]})]},o.id)})}),t.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"    "}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:"     "}),t.jsx("li",{children:"     "}),t.jsx("li",{children:"    "}),t.jsx("li",{children:"      ( )"})]})]})]})},Mp=()=>{const[e,r]=b.useState([]),[s,n]=b.useState({}),[l,a]=b.useState(null),[i,d]=b.useState(""),[o,x]=b.useState(""),[g,f]=b.useState(!1),[p,v]=b.useState(!0),[m,j]=b.useState(""),[y,u]=b.useState(null),[c,h]=b.useState(""),[k,_]=b.useState(null),[w,S]=b.useState({}),P=async()=>{try{v(!0);const E=new URLSearchParams;i&&E.append("category",i),o&&E.append("format",o),g&&E.append("editable_only","true");const N=await fetch(`/api/v1/documents/?${E.toString()}`);if(!N.ok)throw new Error("   ");const R=await N.json();r(R)}catch(E){j(E instanceof Error?E.message:"    ")}finally{v(!1)}},A=async()=>{try{const E=await fetch("/api/v1/documents/categories");if(!E.ok)throw new Error("  ");const N=await E.json();n(N)}catch(E){console.error("  :",E)}},z=async()=>{try{const E=await fetch("/api/v1/documents/stats");if(!E.ok)throw new Error("  ");const N=await E.json();a(N)}catch(E){console.error("  :",E)}},q=async()=>{if(!y||!c){j("  ");return}try{const E=new FormData;if(E.append("file",y),E.append("category",c),!(await fetch("/api/v1/documents/upload",{method:"POST",body:E})).ok)throw new Error("  ");u(null),h(""),await P(),await z()}catch(E){j(E instanceof Error?E.message:" ")}},C=async E=>{try{const N=await fetch(`/api/v1/documents/download/${E.category}/${encodeURIComponent(E.name)}`);if(!N.ok)throw new Error(" ");const R=await N.blob(),F=window.URL.createObjectURL(R),V=document.createElement("a");V.href=F,V.download=E.name,document.body.appendChild(V),V.click(),window.URL.revokeObjectURL(F),document.body.removeChild(V)}catch(N){j(N instanceof Error?N.message:" ")}},te=async E=>{if(!E.editable){j("    ");return}try{const N={document_id:E.name,edit_type:"data",data:w},R=await fetch("/api/v1/documents/edit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!R.ok)throw new Error(" ");const F=await R.blob(),V=window.URL.createObjectURL(F),G=document.createElement("a");G.href=V,G.download=`edited_${E.name}`,document.body.appendChild(G),G.click(),window.URL.revokeObjectURL(V),document.body.removeChild(G),_(null),S({})}catch(N){j(N instanceof Error?N.message:" ")}},D=async E=>{if(confirm(`"${E.name}"  ?`))try{if(!(await fetch(`/api/v1/documents/${E.category}/${encodeURIComponent(E.name)}`,{method:"DELETE"})).ok)throw new Error(" ");await P(),await z()}catch(N){j(N instanceof Error?N.message:" ")}},T=E=>{switch(E){case"pdf":return t.jsx(Ae,{className:"h-5 w-5 text-red-500"});case"excel":return t.jsx(Su,{className:"h-5 w-5 text-green-500"});case"word":return t.jsx(Ae,{className:"h-5 w-5 text-blue-500"});case"hwp":return t.jsx(ku,{className:"h-5 w-5 text-purple-500"});default:return t.jsx(Ae,{className:"h-5 w-5 text-gray-500"})}},U=E=>{if(E===0)return"0 Bytes";const N=1024,R=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(E)/Math.log(N));return parseFloat((E/Math.pow(N,F)).toFixed(2))+" "+R[F]};return b.useEffect(()=>{A(),z()},[]),b.useEffect(()=>{P()},[i,o,g]),t.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"PDF, Excel, Word   "})]}),m&&t.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md flex items-center",children:[t.jsx(Tt,{className:"h-5 w-5 text-red-500 mr-2"}),t.jsx("span",{className:"text-red-700",children:m}),t.jsx("button",{onClick:()=>j(""),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),l&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("div",{className:"text-sm text-gray-600",children:" "}),t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.total_documents})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("div",{className:"text-sm text-gray-600",children:" "}),t.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.editable_count})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("div",{className:"text-sm text-gray-600",children:" "}),t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:U(l.total_size)})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("div",{className:"text-sm text-gray-600",children:""}),t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Object.keys(l.by_category).length})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[t.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[t.jsx(_u,{className:"h-5 w-5 mr-2"})," "]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsx("input",{type:"file",onChange:E=>{var N;return u(((N=E.target.files)==null?void 0:N[0])||null)},className:"flex-1 min-w-0",accept:".pdf,.xlsx,.xls,.docx,.doc,.hwp"}),t.jsxs("select",{value:c,onChange:E=>h(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:" "}),Object.entries(s).map(([E,N])=>t.jsx("option",{value:E,children:N.name},E))]}),t.jsx("button",{onClick:q,disabled:!y||!c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300",children:""})]})]}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("select",{value:i,onChange:E=>d(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:" "}),Object.entries(s).map(([E,N])=>t.jsx("option",{value:E,children:N.name},E))]}),t.jsxs("select",{value:o,onChange:E=>x(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-md",children:[t.jsx("option",{value:"",children:" "}),t.jsx("option",{value:"pdf",children:"PDF"}),t.jsx("option",{value:"excel",children:"Excel"}),t.jsx("option",{value:"word",children:"Word"}),t.jsx("option",{value:"hwp",children:"HWP"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:g,onChange:E=>f(E.target.checked),className:"mr-2"}),"  "]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold",children:" "})}),p?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"  ..."})]}):e.length===0?t.jsx("div",{className:"p-8 text-center text-gray-500",children:" ."}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:""}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:""})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((E,N)=>{var R;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center",children:[T(E.format),t.jsx("span",{className:"ml-2",children:E.name}),E.editable&&t.jsx(Me,{className:"h-4 w-4 text-green-500 ml-2"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:((R=s[E.category])==null?void 0:R.name)||E.category})}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:E.format.toUpperCase()}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:U(E.size)}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(E.modified_at).toLocaleDateString("ko-KR")}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>C(E),className:"p-1 text-blue-600 hover:text-blue-800",title:"",children:t.jsx(Da,{className:"h-4 w-4"})}),E.editable&&t.jsx("button",{onClick:()=>_(E),className:"p-1 text-green-600 hover:text-green-800",title:"",children:t.jsx(ks,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>D(E),className:"p-1 text-red-600 hover:text-red-800",title:"",children:t.jsx(Ht,{className:"h-4 w-4"})})]})})]},N)})})]})})]}),k&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[t.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" : ",k.name]}),k.format==="pdf"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),t.jsx("textarea",{value:w.text||"",onChange:E=>S({...w,text:E.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",rows:3,placeholder:"  "})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"X "}),t.jsx("input",{type:"number",value:w.x||100,onChange:E=>S({...w,x:parseInt(E.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Y "}),t.jsx("input",{type:"number",value:w.y||100,onChange:E=>S({...w,y:parseInt(E.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md"})]})]})]}),k.format==="excel"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),t.jsx("input",{type:"text",value:w.cell||"A1",onChange:E=>S({...w,cell:E.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"A1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),t.jsx("input",{type:"text",value:w.value||"",onChange:E=>S({...w,value:E.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"  "})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[t.jsx("button",{onClick:()=>{_(null),S({})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:""}),t.jsx("button",{onClick:()=>te(k),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:" "})]})]})})]})};function Ip(){const[e,r]=b.useState("dashboard"),[s,n]=b.useState("month"),[l,a]=b.useState([]),[i,d]=b.useState([]),[o,x]=b.useState([]),[g,f]=b.useState(!1),[p,v]=b.useState({start:"",end:""}),{fetchApi:m}=Mt();b.useEffect(()=>{j()},[e,s]);const j=async()=>{f(!0);try{const[w,S,P]=await Promise.all([m(`/api/v1/reports?type=${e}&range=${s}`),m(`/api/v1/reports/metrics?type=${e}&range=${s}`),m(ke("/reports/compliance"))]);a(w||[]),d(S||[]),x(P||[])}catch(w){console.error("Failed to load report data:",w),a([]),d([]),x([])}finally{f(!1)}},y=async w=>{try{f(!0);const S=await m(ke("/reports/generate"),{method:"POST",body:JSON.stringify({type:w,time_range:s,custom_range:s==="custom"?p:null})});S!=null&&S.download_url&&window.open(S.download_url,"_blank"),await j()}catch(S){console.error("Failed to generate report:",S)}finally{f(!1)}},u=w=>{window.open(`/api/v1/reports/download/${w}`,"_blank")},c=w=>{switch(w){case"available":return"green";case"generating":return"yellow";case"error":return"red";default:return"gray"}},h=w=>{switch(w){case"compliant":return"green";case"non_compliant":return"red";case"pending":return"yellow";default:return"gray"}},k=w=>{switch(w){case"up":return t.jsx(ns,{size:16,className:"text-green-600"});case"down":return t.jsx(ns,{size:16,className:"text-red-600 rotate-180"});default:return t.jsx(nt,{size:16,className:"text-gray-400"})}},_=[{id:"dashboard",name:"",icon:Ol,color:"text-blue-600"},{id:"workers",name:"",icon:An,color:"text-purple-600"},{id:"health",name:"",icon:Go,color:"text-red-600"},{id:"environment",name:"",icon:Gt,color:"text-green-600"},{id:"safety",name:"",icon:tt,color:"text-orange-600"},{id:"compliance",name:"",icon:Me,color:"text-teal-600"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs($,{color:"blue",children:[t.jsx(Ol,{size:14,className:"mr-1"})," "]})})]}),t.jsx("div",{className:"flex flex-wrap gap-2 p-4 bg-gray-50 rounded-lg",children:_.map(w=>{const S=w.icon;return t.jsxs("button",{onClick:()=>r(w.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-lg transition-all
                ${e===w.id?"bg-white shadow-md border-2 border-blue-200":"hover:bg-white hover:shadow-sm"}
              `,children:[t.jsx(S,{size:16,className:w.color}),t.jsx("span",{className:"font-medium",children:w.name})]},w.id)})}),t.jsx(M,{className:"p-4",children:t.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Nt,{size:16,className:"text-gray-600"}),t.jsx("span",{className:"font-medium",children:" :"})]}),t.jsx("div",{className:"flex gap-2",children:[{value:"week",label:" 1"},{value:"month",label:" 1"},{value:"quarter",label:""},{value:"year",label:""},{value:"custom",label:" "}].map(w=>t.jsx("button",{onClick:()=>n(w.value),className:`
                  px-3 py-1 rounded-md text-sm transition-all
                  ${s===w.value?"bg-blue-100 text-blue-700 border border-blue-300":"hover:bg-gray-100"}
                `,children:w.label},w.value))}),s==="custom"&&t.jsxs("div",{className:"flex gap-2 ml-4",children:[t.jsx("input",{type:"date",value:p.start,onChange:w=>v(S=>({...S,start:w.target.value})),className:"px-3 py-1 border rounded-md"}),t.jsx("span",{children:"~"}),t.jsx("input",{type:"date",value:p.end,onChange:w=>v(S=>({...S,end:w.target.value})),className:"px-3 py-1 border rounded-md"})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((w,S)=>t.jsx(M,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:w.label}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.value}),w.change!==void 0&&t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[k(w.trend),t.jsxs("span",{className:`text-sm ${w.trend==="up"?"text-green-600":w.trend==="down"?"text-red-600":"text-gray-600"}`,children:[Math.abs(w.change),"%  "]})]})]}),t.jsx($,{color:w.color,children:w.color==="green"?"":w.color==="yellow"?"":w.color==="red"?"":""})]})},S))}),t.jsxs(M,{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"  "}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(I,{onClick:()=>j(),variant:"outline",children:[t.jsx(ls,{size:16,className:"mr-2"}),""]}),t.jsxs(I,{onClick:()=>y(e),children:[t.jsx(Ae,{size:16,className:"mr-2"})," "]})]})]}),g?t.jsx("div",{className:"flex justify-center items-center h-32",children:t.jsx(ls,{className:"animate-spin",size:32})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(w=>t.jsxs(M,{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:w.title}),t.jsx("p",{className:"text-sm text-gray-600",children:w.description})]}),t.jsx($,{color:c(w.status),children:w.status==="available"?"":w.status==="generating"?"":""})]}),t.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[t.jsxs("div",{children:[": ",new Date(w.last_generated).toLocaleDateString()]}),t.jsxs("div",{children:[": ",w.download_count,""]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(I,{size:"sm",variant:"outline",onClick:()=>window.open(`/api/v1/reports/preview/${w.id}`,"_blank"),children:t.jsx(Ta,{size:14})}),t.jsx(I,{size:"sm",onClick:()=>u(w.id),disabled:w.status!=="available",children:t.jsx(Da,{size:14})})]})]},w.id))})]}),t.jsxs(M,{className:"p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),t.jsx("div",{className:"space-y-3",children:o.map((w,S)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[w.status==="compliant"?t.jsx(Me,{size:16,className:"text-green-600"}):w.status==="pending"?t.jsx(nt,{size:16,className:"text-yellow-600"}):t.jsx(za,{size:16,className:"text-red-600"}),t.jsx($,{color:h(w.status),children:w.status==="compliant"?"":w.status==="pending"?"":""})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:w.requirement}),t.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",w.responsible,")"]})]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[": ",new Date(w.due_date).toLocaleDateString()]})]},S))})]})]})}function Ap(){const[e,r]=b.useState("system"),[s,n]=b.useState(null),[l,a]=b.useState(null),[i,d]=b.useState(!0),[o,x]=b.useState(!1),{fetchApi:g}=Mt();b.useEffect(()=>{f()},[]);const f=async()=>{try{d(!0);try{const y=await g("/settings");y!=null&&y.system&&n(y.system),y!=null&&y.user&&a(y.user)}catch(y){console.log("API  ,   :",y),n({company_name:"",company_address:"",company_phone:"",company_registration_number:"",business_type:"",total_employees:0,safety_manager:"",health_manager:"",representative_name:"",auto_backup_enabled:!0,backup_frequency:"daily",notification_enabled:!0,email_notifications:!0,sms_notifications:!1,report_language:"korean",data_retention_period:36,audit_log_enabled:!0,password_policy_enabled:!0,session_timeout:120,api_access_enabled:!1,maintenance_mode:!1}),a({user_name:"",user_email:"",user_phone:"",user_role:"",department:"",notification_preferences:{accidents:!0,health_exams:!0,education_reminders:!0,report_deadlines:!0,system_updates:!1},dashboard_layout:"default",theme:"light",language:"korean",timezone:"Asia/Seoul"})}}catch(y){console.error("  :",y)}finally{d(!1)}},p=async()=>{try{x(!0),await g("/settings",{method:"PUT",body:JSON.stringify({system:s,user:l})}),alert(" .")}catch(y){console.error("  :",y),alert("  .")}finally{x(!1)}},v=(y,u)=>{s&&n({...s,[y]:u})},m=(y,u)=>{l&&a({...l,[y]:u})},j=(y,u)=>{l&&a({...l,notification_preferences:{...l.notification_preferences,[y]:u}})};return i?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:""}),t.jsx(M,{children:t.jsx("p",{className:"text-gray-600",children:"  ..."})})]}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),t.jsxs(I,{onClick:p,disabled:o,className:"flex items-center gap-2",children:[t.jsx(_s,{className:"w-4 h-4"}),o?" ...":" "]})]}),t.jsx(M,{children:t.jsx("div",{className:"flex space-x-1 border-b",children:[{id:"system",label:" ",icon:Fl},{id:"user",label:" ",icon:yr},{id:"security",label:" ",icon:as},{id:"backup",label:"  ",icon:Li}].map(y=>t.jsxs("button",{onClick:()=>r(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg transition-colors ${e===y.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[t.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))})}),e==="system"&&s&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(M,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[t.jsx(Fl,{className:"w-5 h-5"})," "]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:s.company_name,onChange:y=>v("company_name",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:s.company_address,onChange:y=>v("company_address",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:s.company_phone,onChange:y=>v("company_phone",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:s.company_registration_number,onChange:y=>v("company_registration_number",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsxs("select",{value:s.business_type,onChange:y=>v("business_type",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"})," "]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:s.representative_name,onChange:y=>v("representative_name",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:s.safety_manager,onChange:y=>v("safety_manager",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:s.health_manager,onChange:y=>v("health_manager",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),t.jsx("input",{type:"number",value:s.total_employees,onChange:y=>v("total_employees",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsxs("select",{value:s.report_language,onChange:y=>v("report_language",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"korean",children:""}),t.jsx("option",{value:"english",children:""}),t.jsx("option",{value:"both",children:"/"})]})]})]})]})})]}),e==="user"&&l&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(M,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[t.jsx(yr,{className:"w-5 h-5"})," "]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:l.user_name,onChange:y=>m("user_name",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"email",value:l.user_email,onChange:y=>m("user_email",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:l.user_phone,onChange:y=>m("user_phone",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:l.user_role,onChange:y=>m("user_role",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:l.department,onChange:y=>m("department",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),t.jsx(M,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"})," "]}),t.jsx("div",{className:"space-y-3",children:Object.entries({accidents:" ",health_exams:" ",education_reminders:" ",report_deadlines:"  ",system_updates:" "}).map(([y,u])=>t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:l.notification_preferences[y],onChange:c=>j(y,c.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:u})]},y))}),t.jsx("div",{className:"pt-4 border-t",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsxs("select",{value:l.theme,onChange:y=>m("theme",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"light",children:""}),t.jsx("option",{value:"dark",children:""}),t.jsx("option",{value:"auto",children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsxs("select",{value:l.dashboard_layout,onChange:y=>m("dashboard_layout",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"default",children:""}),t.jsx("option",{value:"compact",children:""}),t.jsx("option",{value:"detailed",children:""})]})]})]})})]})})]}),e==="security"&&s&&t.jsx(M,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[t.jsx(as,{className:"w-5 h-5"})," "]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-800",children:" "}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.password_policy_enabled,onChange:y=>v("password_policy_enabled",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"   "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),t.jsx("input",{type:"number",value:s.session_timeout,onChange:y=>v("session_timeout",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.api_access_enabled,onChange:y=>v("api_access_enabled",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"API  "})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-800",children:" "}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.audit_log_enabled,onChange:y=>v("audit_log_enabled",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),t.jsx("input",{type:"number",value:s.data_retention_period,onChange:y=>v("data_retention_period",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" :  36"})]}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.maintenance_mode,onChange:y=>v("maintenance_mode",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:" "})]})]})]})]})}),e==="backup"&&s&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(M,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[t.jsx(Li,{className:"w-5 h-5"})," "]}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.auto_backup_enabled,onChange:y=>v("auto_backup_enabled",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),s.auto_backup_enabled&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsxs("select",{value:s.backup_frequency,onChange:y=>v("backup_frequency",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"daily",children:""}),t.jsx("option",{value:"weekly",children:""}),t.jsx("option",{value:"monthly",children:""})]})]}),t.jsx("div",{className:"pt-4 border-t",children:t.jsxs(I,{variant:"outline",onClick:()=>console.log("  "),className:"flex items-center gap-2",children:[t.jsx(ls,{className:"w-4 h-4"}),"  "]})})]})}),t.jsx(M,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"})," "]}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.notification_enabled,onChange:y=>v("notification_enabled",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),s.notification_enabled&&t.jsxs("div",{className:"space-y-3 pl-6",children:[t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.email_notifications,onChange:y=>v("email_notifications",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:s.sms_notifications,onChange:y=>v("sms_notifications",y.target.checked),className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"SMS "})]})]})]})})]}),t.jsx(M,{children:t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center mt-0.5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:" "}),t.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("p",{children:" : SafeWork Pro v2.0.1"}),t.jsx("p",{children:" : 2024.06.25.001"}),t.jsx("p",{children:" : PostgreSQL 15.3"}),t.jsx("p",{children:"  : 2024-06-25 02:00:00"}),t.jsxs("p",{children:["  : ",t.jsx($,{className:"bg-green-100 text-green-800",children:""})]})]})]})]})})})]})}class $p extends b.Component{constructor(r){super(r),this.errorId="",this.reportError=async(s,n)=>{this.setState({isReporting:!0});try{const l={message:s.message,name:s.name,stack:s.stack||"No stack trace available",filename:this.extractFilename(s.stack),url:window.location.href,userAgent:navigator.userAgent,severity:"error",component:"frontend",customData:{componentStack:n.componentStack,timestamp:new Date().toISOString(),userId:this.getCurrentUserId()}},a=await fetch(ke("/error-reporting/frontend-error"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(a.ok){const i=await a.json();this.errorId=i.error_id,this.setState({reportSent:!0}),console.log("Error report sent successfully:",i)}else console.error("Failed to send error report:",a.statusText)}catch(l){console.error("Error while reporting error:",l)}finally{this.setState({isReporting:!1})}},this.extractFilename=s=>{if(!s)return"unknown";const n=s.match(/https?:\/\/[^)]+/);return n&&n[0]&&n[0].split("/").pop()||"unknown"},this.getCurrentUserId=()=>{try{const s=localStorage.getItem("user");if(s)return JSON.parse(s).id}catch{}},this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,isReporting:!1,reportSent:!1})},this.state={hasError:!1,error:null,errorInfo:null,isReporting:!1,reportSent:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null,isReporting:!1,reportSent:!1}}componentDidCatch(r,s){this.setState({error:r,errorInfo:s}),this.reportError(r,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-red-100 rounded-full p-4",children:t.jsx(tt,{className:"h-12 w-12 text-red-600"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"!  "}),t.jsxs("p",{className:"text-gray-600 mb-6",children:["   .   .",this.state.reportSent&&t.jsxs("span",{className:"block mt-2 text-sm text-green-600",children:["     (ID: ",this.errorId,")"]})]}),!1,t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:this.handleReload,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[t.jsx(ls,{className:"h-5 w-5 mr-2"})," "]}),t.jsx("button",{onClick:this.handleReset,className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:" "}),!this.state.reportSent&&t.jsx("button",{onClick:()=>this.reportError(this.state.error,this.state.errorInfo),disabled:this.state.isReporting,className:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center disabled:bg-gray-400",children:this.state.isReporting?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"  ..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Cu,{className:"h-5 w-5 mr-2"}),"  "]})})]}),t.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["  "," ",t.jsx("a",{href:"mailto:support@safework.com",className:"text-blue-600 hover:underline",children:""})," ."]})})]})}):this.props.children}}function Up({onLoginSuccess:e}){const[r,s]=b.useState({email:"",password:""}),[n,l]=b.useState(!1),[a,i]=b.useState(""),[d,o]=b.useState(!1),x=async f=>{f.preventDefault(),i(""),l(!0);try{await rr.login(r),e()}catch(p){i(p instanceof Error?p.message:" ")}finally{l(!1)}},g=async f=>{f.preventDefault(),i(""),l(!0);try{await rr.register({...r,name:r.email.split("@")[0]}),e()}catch(p){i(p instanceof Error?p.message:" ")}finally{l(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs(M,{className:"w-full max-w-md p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SafeWork Pro"}),t.jsx("p",{className:"text-gray-600",children:d?"  ":" "})]}),t.jsxs("form",{onSubmit:d?g:x,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsx("input",{type:"email",id:"email",value:r.email,onChange:f=>s({...r,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),t.jsx("input",{type:"password",id:"password",value:r.password,onChange:f=>s({...r,password:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a&&t.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),t.jsx(I,{type:"submit",disabled:n,className:"w-full",children:n?" ...":d?"":""}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"button",onClick:()=>o(!d),className:"text-blue-600 hover:text-blue-800 text-sm",children:d?"  ? ":" ? "})})]}),t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"  :"}),t.jsxs("p",{className:"text-sm text-blue-800",children:[": admin@safework.local",t.jsx("br",{}),": admin123!"]})]})]})})}const Bp=()=>{const[e,r]=b.useState([]);b.useState([]);const[s,n]=b.useState(null),[l,a]=b.useState(!1),[i,d]=b.useState(null),[o,x]=b.useState(!1),[g,f]=b.useState(!1),[p,v]=b.useState(null),[m,j]=b.useState({name:"",employee_id:"",department:"",position:"",phone:"",email:""});b.useEffect(()=>{y(),u()},[]);const y=async()=>{try{a(!0);const S=await Ne.get("/api/v1/qr-registration/pending");r(S.data)}catch(S){d("   ."),console.error("  :",S)}finally{a(!1)}},u=async()=>{try{const S=await Ne.get("/api/v1/qr-registration/statistics");n(S.data)}catch(S){console.error("  :",S)}},c=async()=>{try{a(!0);const P=(await Ne.post("/api/v1/qr-registration/generate",{worker_data:m,department:m.department,position:m.position,expires_in_hours:24})).data;r([P,...e]),v(P),x(!1),f(!0),j({name:"",employee_id:"",department:"",position:"",phone:"",email:""}),u()}catch(S){d("QR  ."),console.error("QR  :",S)}finally{a(!1)}},h=async S=>{try{a(!0),await Ne.post("/api/v1/qr-registration/complete",{token:S}),y(),u()}catch(P){d("   ."),console.error("  :",P)}finally{a(!1)}},k=S=>new Date(S).toLocaleString("ko-KR"),_=S=>{switch(S){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"failed":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=S=>{switch(S){case"pending":return"";case"completed":return"";case"expired":return"";case"failed":return"";case"cancelled":return"";default:return"  "}};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"QR  "}),t.jsx(I,{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700",children:"QR "})]}),i&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"text-red-800",children:i}),t.jsx("button",{onClick:()=>d(null),className:"ml-auto text-red-600 hover:text-red-800",children:""})]})}),s&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(M,{className:"p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.total_tokens}),t.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),t.jsxs(M,{className:"p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.pending_tokens}),t.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),t.jsxs(M,{className:"p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.completed_tokens}),t.jsx("div",{className:"text-sm text-gray-600",children:""})]}),t.jsxs(M,{className:"p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[s.success_rate.toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),t.jsx(M,{children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),l?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:" ..."})]}):e.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-600",children:"  ."})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"/"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.worker_data.name}),t.jsx("div",{className:"text-sm text-gray-500",children:S.worker_data.employee_id})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:S.department}),S.position&&t.jsx("div",{className:"text-sm text-gray-500",children:S.position})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(S.status)}`,children:w(S.status)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k(S.created_at)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k(S.expires_at)}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[t.jsx(I,{onClick:()=>{v(S),f(!0)},className:"text-blue-600 hover:text-blue-900 mr-2",children:"QR "}),S.status==="pending"&&t.jsx(I,{onClick:()=>h(S.token),className:"text-green-600 hover:text-green-900",children:" "})]})]},S.id))})]})})]})}),t.jsx(Dr,{isOpen:o,onClose:()=>x(!1),title:"QR ",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("input",{type:"text",value:m.name,onChange:S=>j({...m,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"text",value:m.employee_id,onChange:S=>j({...m,employee_id:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"EMP001"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"text",value:m.department,onChange:S=>j({...m,department:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:m.position,onChange:S=>j({...m,position:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"tel",value:m.phone,onChange:S=>j({...m,phone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"010-1234-5678"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"email",value:m.email,onChange:S=>j({...m,email:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"hong@company.com"})]}),t.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t.jsx(I,{onClick:()=>x(!1),className:"text-gray-600 hover:text-gray-800",children:""}),t.jsx(I,{onClick:c,disabled:!m.name||!m.employee_id||!m.department||l,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:l?" ...":"QR "})]})]})}),t.jsx(Dr,{isOpen:g,onClose:()=>f(!1),title:"QR",children:p&&t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg inline-block",children:t.jsx("img",{src:p.qr_code_data,alt:"QR Code",className:"max-w-xs mx-auto"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-semibold text-lg",children:p.worker_data.name}),t.jsx("p",{className:"text-gray-600",children:p.worker_data.employee_id}),t.jsx("p",{className:"text-gray-600",children:p.department}),p.position&&t.jsx("p",{className:"text-gray-600",children:p.position}),t.jsxs("p",{className:"text-sm text-gray-500",children:[": ",k(p.expires_at)]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mt-4",children:[t.jsx("div",{className:"text-sm text-blue-600 mb-1",children:"  URL"}),t.jsxs("div",{className:"text-xs text-blue-800 break-all",children:[window.location.origin,"/worker-registration?token=",p.token]}),t.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"* QR   URL "})]})]}),t.jsxs("div",{className:"flex justify-center space-x-2 pt-4",children:[t.jsx(I,{onClick:()=>window.print(),className:"bg-gray-600 hover:bg-gray-700",children:""}),t.jsx(I,{onClick:()=>f(!1),className:"bg-blue-600 hover:bg-blue-700",children:""})]})]})})]})};if(typeof window<"u"){console.log(" QR Registration   ");const e=["pending","completed","expired","failed","cancelled"],r={getStatusColor:l=>{switch(l){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"failed":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},getStatusText:l=>{switch(l){case"pending":return"";case"completed":return"";case"expired":return"";case"failed":return"";case"cancelled":return"";default:return"  "}}};e.forEach(l=>{const a=r.getStatusColor(l),i=r.getStatusText(l);console.assert(a.includes("text-"),`Status color for ${l} should include text color`),console.assert(i.length>0,`Status text for ${l} should not be empty`)});const s=new Date().toISOString(),n=new Date(s).toLocaleString("ko-KR");console.assert(n.includes("")||n.includes("."),"Date formatting should work"),console.log("    !"),console.log("QR Registration   .")}const qp=()=>{const e=Qo(),[r,s]=b.useState(""),[n,l]=b.useState(null),[a,i]=b.useState(!1),[d,o]=b.useState(null),[x,g]=b.useState(!1),[f,p]=b.useState({name:"",employee_id:"",department:"",position:"",phone:"",email:"",birth_date:"",address:"",emergency_contact:"",emergency_phone:""});b.useEffect(()=>{const c=new URLSearchParams(e.search).get("token");c?(s(c),v(c)):o("  . QR  .")},[e]);const v=async u=>{try{i(!0);const c=await Ne.get(`/api/v1/qr-registration/validate/${u}`);if(c.valid){l(c.token_info);const h=c.token_info.worker_data;p({...f,name:h.name||"",employee_id:h.employee_id||"",department:h.department||c.token_info.department||"",position:h.position||c.token_info.position||"",phone:h.phone||"",email:h.email||""})}else o("    .")}catch(c){console.error("  :",c),o("    .")}finally{i(!1)}},m=async u=>{if(u.preventDefault(),!f.name||!f.employee_id||!f.phone){o(", ,   .");return}try{i(!0),o(null),await Ne.post("/api/v1/qr-registration/complete",{token:r,worker_data:f}),g(!0)}catch(c){console.error(" :",c),o("    .  .")}finally{i(!1)}},j=(u,c)=>{p({...f,[u]:c})},y=u=>new Date(u).toLocaleString("ko-KR");return x?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"mx-auto bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" !"}),t.jsx("p",{className:"text-gray-600",children:"   ."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:" "}),t.jsx("div",{className:"font-semibold text-gray-900",children:f.name}),t.jsx("div",{className:"text-sm text-gray-600",children:f.employee_id}),t.jsx("div",{className:"text-sm text-gray-600",children:f.department})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"    ."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),t.jsx("p",{className:"text-gray-600",children:"    ."})]}),d&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:t.jsx("div",{className:"text-red-800 text-sm",children:d})}),n&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:[t.jsx("div",{className:"text-sm text-blue-600 mb-1",children:" "}),t.jsxs("div",{className:"text-sm text-blue-800",children:[": ",n.department,n.position&&`  : ${n.position}`]}),t.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[": ",y(n.expires_at)]})]}),a?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:" ..."})]}):n?t.jsxs("form",{onSubmit:m,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"text",value:f.name,onChange:u=>j("name",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"text",value:f.employee_id,onChange:u=>j("employee_id",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"EMP001",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:f.department,onChange:u=>j("department",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:f.position,onChange:u=>j("position",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"tel",value:f.phone,onChange:u=>j("phone",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"010-1234-5678",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"email",value:f.email,onChange:u=>j("email",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"hong@company.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"date",value:f.birth_date,onChange:u=>j("birth_date",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{value:f.address,onChange:u=>j("address",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" ...",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"text",value:f.emergency_contact,onChange:u=>j("emergency_contact",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"tel",value:f.emergency_phone,onChange:u=>j("emergency_phone",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"010-5678-9012"})]}),t.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?" ...":" "}),t.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"*    ."})]}):!a&&t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"text-gray-600",children:"   ..."})})]})})};if(typeof window<"u"){console.log(" Worker Registration   ");const e="http://localhost:3000/worker-registration?token=abc123xyz",s=new URLSearchParams(new URL(e).search).get("token");console.assert(s==="abc123xyz","URL     ");const n={name:"",employee_id:"EMP001",department:"",position:"",phone:"010-1234-5678",email:"hong@company.com",birth_date:"1990-01-01",address:" ",emergency_contact:"",emergency_phone:"010-5678-9012"},l=d=>!!(d.name&&d.employee_id&&d.phone);console.assert(l(n),"     "),console.assert(!l({...n,name:""}),"     ");const a=new Date().toISOString(),i=new Date(a).toLocaleString("ko-KR");console.assert(i.length>0,"    "),console.log("    !"),console.log("Worker Registration   .")}const Wp=()=>{const[e,r]=b.useState("spaces"),[s,n]=b.useState([]),[l,a]=b.useState([]),[i,d]=b.useState(null),[o,x]=b.useState(null),[g,f]=b.useState(null),[p,v]=b.useState(!1),[m,j]=b.useState(!1),[y,u]=b.useState(!1),[c,h]=b.useState(""),[k,_]=b.useState("all"),[w,S]=b.useState(!1);b.useEffect(()=>{P(),A(),z()},[]);const P=async()=>{try{const N=await Ne.get("/confined-spaces/");n(N.data)}catch(N){console.error("   :",N)}},A=async()=>{try{const N=await Ne.get("/confined-spaces/permits/");a(N.data)}catch(N){console.error("    :",N)}},z=async()=>{try{const N=await Ne.get("/confined-spaces/statistics");d(N.data)}catch(N){console.error("  :",N)}},q=async N=>{try{S(!0),await Ne.post("/confined-spaces/",N),await P(),v(!1),alert(" .")}catch(R){console.error("  :",R),alert("  .")}finally{S(!1)}},C=async N=>{try{S(!0),await Ne.post("/confined-spaces/permits/",N),await A(),j(!1),alert("  .")}catch(R){console.error("   :",R),alert("   .")}finally{S(!1)}},te=async(N,R,F)=>{try{await Ne.post(`/confined-spaces/permits/${N}/approve`,{approved:R,comments:F}),await A(),alert(R?"  .":"  .")}catch(V){console.error(" / :",V),alert(" .")}},D=async N=>{try{await Ne.post(`/confined-spaces/permits/${N}/start`),await A(),alert(" .")}catch(R){console.error("  :",R),alert("  .")}},T=async N=>{try{await Ne.post(`/confined-spaces/permits/${N}/complete`),await A(),alert(" .")}catch(R){console.error("  :",R),alert("   .")}},U=N=>{const R={:{color:"bg-gray-100 text-gray-700",icon:t.jsx(Ae,{className:"w-4 h-4"}),text:""},:{color:"bg-blue-100 text-blue-700",icon:t.jsx(nt,{className:"w-4 h-4"}),text:""},:{color:"bg-green-100 text-green-700",icon:t.jsx(Me,{className:"w-4 h-4"}),text:""},:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Gt,{className:"w-4 h-4"}),text:""},:{color:"bg-gray-100 text-gray-700",icon:t.jsx(Me,{className:"w-4 h-4"}),text:""},:{color:"bg-red-100 text-red-700",icon:t.jsx(za,{className:"w-4 h-4"}),text:""}},F=R[N]||R.;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${F.color}`,children:[F.icon,F.text]})},E=N=>{const R={:"bg-blue-100 text-blue-700",:"bg-green-100 text-green-700",:"bg-purple-100 text-purple-700",:"bg-yellow-100 text-yellow-700",:"bg-orange-100 text-orange-700",:"bg-gray-100 text-gray-700",:"bg-red-100 text-red-700",:"bg-pink-100 text-pink-700",:"bg-indigo-100 text-indigo-700",:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${R[N]||"bg-gray-100 text-gray-700"}`,children:N})};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),t.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]}),i&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i.total_spaces})]}),t.jsx(as,{className:"w-8 h-8 text-blue-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:""}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i.active_spaces})]}),t.jsx(Gt,{className:"w-8 h-8 text-green-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i.permits_today})]}),t.jsx(Nt,{className:"w-8 h-8 text-purple-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i.permits_this_month})]}),t.jsx(Eu,{className:"w-8 h-8 text-indigo-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:" "}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.pending_approvals})]}),t.jsx(nt,{className:"w-8 h-8 text-yellow-500"})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"  "}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.overdue_inspections})]}),t.jsx(tt,{className:"w-8 h-8 text-red-500"})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsxs("nav",{className:"-mb-px flex",children:[t.jsx("button",{onClick:()=>r("spaces"),className:`py-2 px-6 border-b-2 font-medium text-sm ${e==="spaces"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" "}),t.jsx("button",{onClick:()=>r("permits"),className:`py-2 px-6 border-b-2 font-medium text-sm ${e==="permits"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" "}),t.jsx("button",{onClick:()=>r("gas"),className:`py-2 px-6 border-b-2 font-medium text-sm ${e==="gas"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"  "})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"...",value:c,onChange:N=>h(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx(Pr,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),e==="permits"&&t.jsxs("select",{value:k,onChange:N=>_(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:" "}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]}),t.jsxs("button",{onClick:()=>{e==="spaces"?v(!0):e==="permits"&&j(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2",children:[t.jsx(Ke,{className:"w-5 h-5"}),e==="spaces"?" ":"  "]})]}),e==="spaces"&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(N=>N.name.toLowerCase().includes(c.toLowerCase())||N.location.toLowerCase().includes(c.toLowerCase())).map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),N.description&&t.jsx("div",{className:"text-sm text-gray-500",children:N.description})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.location}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(N.type)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.responsible_person||"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.last_inspection_date?new Date(N.last_inspection_date).toLocaleDateString():""}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:N.is_active?"":""})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[t.jsx("button",{onClick:()=>x(N),className:"text-blue-600 hover:text-blue-900 mr-3",children:""}),t.jsx("button",{onClick:()=>{x(N),j(!0)},className:"text-green-600 hover:text-green-900",children:""})]})]},N.id))})]})}),e==="permits"&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter(N=>k==="all"||N.status===k).filter(N=>N.permit_number.toLowerCase().includes(c.toLowerCase())||N.work_description.toLowerCase().includes(c.toLowerCase())).map(N=>{var R;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.permit_number})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((R=N.confined_space)==null?void 0:R.name)||"-"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:N.work_description}),N.contractor&&t.jsx("div",{className:"text-sm text-gray-500",children:N.contractor})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:new Date(N.scheduled_start).toLocaleString()}),t.jsxs("div",{className:"text-sm text-gray-500",children:["~ ",new Date(N.scheduled_end).toLocaleString()]})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:N.supervisor_name}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(An,{className:"w-3 h-3"}),N.workers.length,""]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U(N.status)}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[t.jsx("button",{onClick:()=>f(N),className:"text-blue-600 hover:text-blue-900 mr-3",children:""}),N.status===""&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>te(N.id,!0),className:"text-green-600 hover:text-green-900 mr-2",children:""}),t.jsx("button",{onClick:()=>{const F=prompt("  :");F&&te(N.id,!1,F)},className:"text-red-600 hover:text-red-900",children:""})]}),N.status===""&&t.jsx("button",{onClick:()=>D(N.id),className:"text-green-600 hover:text-green-900",children:""}),N.status===""&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>u(!0),className:"text-purple-600 hover:text-purple-900 mr-2",children:""}),t.jsx("button",{onClick:()=>T(N.id),className:"text-blue-600 hover:text-blue-900",children:""})]})]})]},N.id)})})]})}),e==="gas"&&t.jsx("div",{className:"text-center py-12 text-gray-500",children:"     ."})]})]}),p&&t.jsx(Vp,{onClose:()=>v(!1),onSubmit:q,loading:w}),m&&t.jsx(Hp,{spaces:s,selectedSpace:o,onClose:()=>{j(!1),x(null)},onSubmit:C,loading:w})]})},Vp=({onClose:e,onSubmit:r,loading:s})=>{const[n,l]=b.useState({name:"",location:"",type:"",description:"",volume:"",depth:"",entry_points:1,ventilation_type:"",hazards:[],oxygen_level_normal:"",responsible_person:"",inspection_cycle_days:30}),a=["","","","","","","","","",""],i=["","","","","","","","","",""],d=o=>{o.preventDefault();const x={...n,volume:n.volume?parseFloat(n.volume):void 0,depth:n.depth?parseFloat(n.depth):void 0,oxygen_level_normal:n.oxygen_level_normal?parseFloat(n.oxygen_level_normal):void 0};r(x)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),t.jsxs("form",{onSubmit:d,children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"text",required:!0,value:n.name,onChange:o=>l({...n,name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("input",{type:"text",required:!0,value:n.location,onChange:o=>l({...n,location:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsx("select",{required:!0,value:n.type,onChange:o=>l({...n,type:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:a.map(o=>t.jsx("option",{value:o,children:o},o))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("input",{type:"text",value:n.responsible_person,onChange:o=>l({...n,responsible_person:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"(m)"}),t.jsx("input",{type:"number",step:"0.1",value:n.volume,onChange:o=>l({...n,volume:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"(m)"}),t.jsx("input",{type:"number",step:"0.1",value:n.depth,onChange:o=>l({...n,depth:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"number",min:"1",value:n.entry_points,onChange:o=>l({...n,entry_points:parseInt(o.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"text",value:n.ventilation_type,onChange:o=>l({...n,ventilation_type:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (%)"}),t.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:n.oxygen_level_normal,onChange:o=>l({...n,oxygen_level_normal:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"()"}),t.jsx("input",{type:"number",min:"1",value:n.inspection_cycle_days,onChange:o=>l({...n,inspection_cycle_days:parseInt(o.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),t.jsx("textarea",{value:n.description,onChange:o=>l({...n,description:o.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:i.map(o=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:n.hazards.includes(o),onChange:x=>{x.target.checked?l({...n,hazards:[...n.hazards,o]}):l({...n,hazards:n.hazards.filter(g=>g!==o)})},className:"mr-2"}),t.jsx("span",{className:"text-sm",children:o})]},o))})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:""}),t.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:s?" ...":""})]})]})]})})})},Hp=({spaces:e,selectedSpace:r,onClose:s,onSubmit:n,loading:l})=>{const[a,i]=b.useState({confined_space_id:(r==null?void 0:r.id)||"",work_description:"",work_purpose:"",contractor:"",scheduled_start:"",scheduled_end:"",supervisor_name:"",supervisor_contact:"",workers:[{name:"",role:"",contact:""}],required_ppe:[],emergency_contact:"",emergency_procedures:""}),d=["","","","","","","","","","","",""],o=()=>{i({...a,workers:[...a.workers,{name:"",role:"",contact:""}]})},x=p=>{i({...a,workers:a.workers.filter((v,m)=>m!==p)})},g=(p,v,m)=>{const j=[...a.workers];j[p]={...j[p],[v]:m},i({...a,workers:j})},f=p=>{p.preventDefault();const v=a.workers.filter(m=>m.name&&m.role);if(v.length===0){alert(" 1    .");return}n({...a,workers:v})};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-3",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),t.jsxs("select",{required:!0,value:a.confined_space_id,onChange:p=>i({...a,confined_space_id:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:""}),e.filter(p=>p.is_active).map(p=>t.jsxs("option",{value:p.id,children:[p.name," - ",p.location]},p.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"text",value:a.contractor,onChange:p=>i({...a,contractor:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"text",value:a.work_purpose,onChange:p=>i({...a,work_purpose:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"text",value:a.emergency_contact,onChange:p=>i({...a,emergency_contact:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("textarea",{required:!0,value:a.work_description,onChange:p=>i({...a,work_description:p.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-3",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   *"}),t.jsx("input",{type:"datetime-local",required:!0,value:a.scheduled_start,onChange:p=>i({...a,scheduled_start:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   *"}),t.jsx("input",{type:"datetime-local",required:!0,value:a.scheduled_end,onChange:p=>i({...a,scheduled_end:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-3",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),t.jsx("input",{type:"text",required:!0,value:a.supervisor_name,onChange:p=>i({...a,supervisor_name:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("input",{type:"text",value:a.supervisor_contact,onChange:p=>i({...a,supervisor_contact:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),t.jsx("button",{type:"button",onClick:o,className:"px-3 py-1 bg-green-500 text-white text-sm rounded hover:bg-green-600",children:" "})]}),a.workers.map((p,v)=>t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"text",placeholder:"",value:p.name,onChange:m=>g(v,"name",m.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("input",{type:"text",placeholder:"",value:p.role,onChange:m=>g(v,"role",m.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("input",{type:"text",placeholder:"",value:p.contact,onChange:m=>g(v,"contact",m.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.workers.length>1&&t.jsx("button",{type:"button",onClick:()=>x(v),className:"px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:""})]},v))]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-3",children:" "}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:d.map(p=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:a.required_ppe.includes(p),onChange:v=>{v.target.checked?i({...a,required_ppe:[...a.required_ppe,p]}):i({...a,required_ppe:a.required_ppe.filter(m=>m!==p)})},className:"mr-2"}),t.jsx("span",{className:"text-sm",children:p})]},p))})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),t.jsx("textarea",{value:a.emergency_procedures,onChange:p=>i({...a,emergency_procedures:p.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:""}),t.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:l?" ...":""})]})]})]})})})},Gs=({children:e,className:r=""})=>t.jsx("div",{className:`bg-white rounded-lg shadow-md ${r}`,children:e}),Xs=({children:e,className:r=""})=>t.jsx("div",{className:`p-6 ${r}`,children:e}),Qp=({children:e,className:r=""})=>t.jsx("p",{className:`text-gray-600 text-sm ${r}`,children:e}),Pl=({children:e,className:r=""})=>t.jsx("div",{className:`p-6 pb-2 ${r}`,children:e}),Rl=({children:e,className:r=""})=>t.jsx("h3",{className:`text-lg font-semibold ${r}`,children:e}),Kp=({children:e,className:r="",type:s="button",disabled:n=!1,size:l="",...a})=>t.jsx("button",{type:s,disabled:n,className:`px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 ${r}`,...a,children:e}),$t=({className:e="",...r})=>t.jsx("input",{className:`border rounded px-3 py-2 w-full ${e}`,...r}),We=({children:e,className:r="",htmlFor:s})=>t.jsx("label",{htmlFor:s,className:`block text-sm font-medium mb-1 ${r}`,children:e}),Js=({children:e,value:r,onValueChange:s})=>t.jsx("div",{className:"relative",children:e}),Zs=({children:e})=>t.jsx("div",{children:e}),re=({children:e,value:r})=>t.jsx("option",{value:r,children:e}),en=({children:e})=>t.jsx("div",{className:"border rounded px-3 py-2 w-full bg-white",children:e}),tn=({placeholder:e})=>t.jsx("span",{className:"text-gray-400",children:e}),Bo=({children:e,variant:r,className:s=""})=>t.jsx("div",{className:`p-4 rounded border ${r==="destructive"?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"} ${s}`,children:e}),qo=({children:e})=>t.jsx("div",{children:e}),Wo=({children:e})=>t.jsx("div",{className:"font-semibold mb-1",children:e}),Yp=({children:e,variant:r,className:s=""})=>t.jsx("span",{className:`px-2 py-1 text-xs rounded ${r==="outline"?"border":"bg-gray-200"} ${s}`,children:e}),Vo=({title:e,description:r,variant:s})=>{console.log(`Toast: ${e} - ${r}`),alert(`${e}: ${r}`)},Ho="/api/v1/qr-registration";function Gp(){const{token:e}=cu();du();const[r,s]=b.useState(!0),[n,l]=b.useState(!1),[a,i]=b.useState(null),[d,o]=b.useState(!1),[x,g]=b.useState(!1),[f,p]=b.useState(null),[v,m]=b.useState({name:"",phone:"",email:"",birth_date:"",gender:"",address:"",emergency_contact:"",emergency_relationship:"",work_type:"",employment_type:"regular",hire_date:new Date().toISOString().split("T")[0],health_status:"normal"});b.useEffect(()=>{e?j():(p("  QR ."),s(!1))},[e]);const j=async()=>{try{const h=await(await fetch(`${Ho}/validate/${e}`)).json();if(h.valid&&h.token_info){o(!0),i(h.token_info);const k=h.token_info.worker_data||{};m(_=>({..._,name:k.name||"",phone:k.phone||"",email:k.email||"",emergency_contact:k.emergency_contact||""}))}else p(h.message||"  .")}catch{p("    .")}finally{s(!1)}},y=async c=>{c.preventDefault(),l(!0);try{const h=await fetch(`${Ho}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,worker_data:v})}),k=await h.json();if(h.ok&&k.success)g(!0),Vo({title:" ",description:"   ."});else throw new Error(k.detail||"    .")}catch(h){p(h instanceof Error?h.message:"   ."),Vo({title:" ",description:h instanceof Error?h.message:"   .",variant:"destructive"})}finally{l(!1)}},u=(c,h)=>{m(k=>({...k,[c]:h}))};return r?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx(Gs,{className:"w-full max-w-md",children:t.jsx(Xs,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(Lu,{className:"h-6 w-6 animate-pulse"}),t.jsx("span",{children:"QR   ..."})]})})})}):f||!d?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:t.jsxs(Gs,{className:"w-full max-w-md",children:[t.jsx(Pl,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Tt,{className:"h-6 w-6 text-red-500"}),t.jsx(Rl,{className:"text-red-700",children:"QR  "})]})}),t.jsx(Xs,{children:t.jsxs(Bo,{variant:"destructive",children:[t.jsx(Tt,{className:"h-4 w-4"}),t.jsx(Wo,{children:"  "}),t.jsx(qo,{children:f})]})})]})}):x?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:t.jsxs(Gs,{className:"w-full max-w-md",children:[t.jsx(Pl,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ll,{className:"h-6 w-6 text-green-500"}),t.jsx(Rl,{className:"text-green-700",children:" "})]})}),t.jsx(Xs,{children:t.jsxs(Bo,{children:[t.jsx(ll,{className:"h-4 w-4"}),t.jsx(Wo,{children:"!"}),t.jsx(qo,{children:"   .       ."})]})})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs(Gs,{children:[t.jsxs(Pl,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yr,{className:"h-6 w-6 text-blue-600"}),t.jsx(Rl,{children:" "})]}),t.jsx(Qp,{children:"QR      ."})]}),t.jsxs(Xs,{children:[t.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-blue-800",children:" "}),t.jsx(Yp,{variant:"outline",children:a==null?void 0:a.status})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fl,{className:"h-4 w-4 text-blue-600"}),t.jsxs("span",{children:[": ",a==null?void 0:a.department]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yr,{className:"h-4 w-4 text-blue-600"}),t.jsxs("span",{children:[": ",a==null?void 0:a.position]})]}),t.jsxs("div",{className:"flex items-center space-x-2 col-span-2",children:[t.jsx(nt,{className:"h-4 w-4 text-blue-600"}),t.jsxs("span",{children:[": ",a?new Date(a.expires_at).toLocaleString("ko-KR"):""]})]})]})]}),t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(We,{htmlFor:"name",children:" *"}),t.jsx($t,{id:"name",value:v.name,onChange:c=>u("name",c.target.value),placeholder:" ",required:!0})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"phone",children:" *"}),t.jsx($t,{id:"phone",value:v.phone,onChange:c=>u("phone",c.target.value),placeholder:"010-0000-0000",required:!0})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"email",children:""}),t.jsx($t,{id:"email",type:"email",value:v.email,onChange:c=>u("email",c.target.value),placeholder:" "})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"birth_date",children:" *"}),t.jsx($t,{id:"birth_date",type:"date",value:v.birth_date,onChange:c=>u("birth_date",c.target.value),required:!0})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"gender",children:" *"}),t.jsxs(Js,{value:v.gender,onValueChange:c=>u("gender",c),children:[t.jsx(en,{children:t.jsx(tn,{placeholder:" "})}),t.jsxs(Zs,{children:[t.jsx(re,{value:"male",children:""}),t.jsx(re,{value:"female",children:""})]})]})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"work_type",children:"  *"}),t.jsxs(Js,{value:v.work_type,onValueChange:c=>u("work_type",c),children:[t.jsx(en,{children:t.jsx(tn,{placeholder:"  "})}),t.jsxs(Zs,{children:[t.jsx(re,{value:"construction",children:""}),t.jsx(re,{value:"electrical",children:""}),t.jsx(re,{value:"plumbing",children:""}),t.jsx(re,{value:"painting",children:""}),t.jsx(re,{value:"welding",children:""}),t.jsx(re,{value:"rebar",children:""}),t.jsx(re,{value:"concrete",children:""}),t.jsx(re,{value:"masonry",children:""}),t.jsx(re,{value:"tiling",children:""}),t.jsx(re,{value:"waterproofing",children:""})]})]})]})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"address",children:""}),t.jsx($t,{id:"address",value:v.address,onChange:c=>u("address",c.target.value),placeholder:" "})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(We,{htmlFor:"emergency_contact",children:"  *"}),t.jsx($t,{id:"emergency_contact",value:v.emergency_contact,onChange:c=>u("emergency_contact",c.target.value),placeholder:"010-0000-0000",required:!0})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"emergency_relationship",children:""}),t.jsxs(Js,{value:v.emergency_relationship,onValueChange:c=>u("emergency_relationship",c),children:[t.jsx(en,{children:t.jsx(tn,{placeholder:" "})}),t.jsxs(Zs,{children:[t.jsx(re,{value:"parent",children:""}),t.jsx(re,{value:"spouse",children:""}),t.jsx(re,{value:"sibling",children:"/"}),t.jsx(re,{value:"child",children:""}),t.jsx(re,{value:"friend",children:""}),t.jsx(re,{value:"other",children:""})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(We,{htmlFor:"employment_type",children:"  *"}),t.jsxs(Js,{value:v.employment_type,onValueChange:c=>u("employment_type",c),children:[t.jsx(en,{children:t.jsx(tn,{})}),t.jsxs(Zs,{children:[t.jsx(re,{value:"regular",children:""}),t.jsx(re,{value:"contract",children:""}),t.jsx(re,{value:"temporary",children:""}),t.jsx(re,{value:"daily",children:""})]})]})]}),t.jsxs("div",{children:[t.jsx(We,{htmlFor:"hire_date",children:" *"}),t.jsx($t,{id:"hire_date",type:"date",value:v.hire_date,onChange:c=>u("hire_date",c.target.value),required:!0})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(Kp,{type:"submit",className:"w-full",size:"lg",disabled:n||!v.name||!v.phone||!v.gender||!v.work_type,children:n?t.jsxs(t.Fragment,{children:[t.jsx(nt,{className:"mr-2 h-4 w-4 animate-spin"}),"  ..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ll,{className:"mr-2 h-4 w-4"})," "]})})})]})]})]})})})}const Xp=()=>{const[e,r]=b.useState({name:"",employee_id:"",birth_date:"",gender:"",phone:"",email:"",address:"",company_name:"",work_category:"",department:"",position:"",employment_type:"",work_type:"construction",hire_date:"",emergency_contact:"",emergency_relationship:"",blood_type:"",health_status:"normal",visa_type:"",safety_education_cert:null,visa_cert:null}),[s,n]=b.useState(!1),[l,a]=b.useState(""),[i,d]=b.useState(!1),o=g=>{const{name:f,value:p}=g.target;r(v=>({...v,[f]:p}))},x=async g=>{g.preventDefault(),n(!0),a("");try{const f=new FormData;if(Object.entries(e).forEach(([v,m])=>{m!=null&&!(m instanceof File)&&f.append(v,m.toString())}),e.safety_education_cert&&f.append("safety_education_cert",e.safety_education_cert),e.visa_cert&&f.append("visa_cert",e.visa_cert),!(await fetch("/api/v1/workers/public-registration",{method:"POST",body:f})).ok)throw new Error(" .");d(!0),setTimeout(()=>{window.location.href="/"},3e3)}catch(f){a(f instanceof Error?f.message:"   .")}finally{n(!1)}};return i?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-sm w-full text-center transform transition-all duration-500 scale-105",children:[t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full mx-auto flex items-center justify-center",children:t.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:" !"}),t.jsxs("p",{className:"text-gray-600 mb-6",children:["SafeWork Pro ",t.jsx("br",{})," ."]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full animate-pulse",style:{width:"100%"}})}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"3    "})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-blue-500 to-indigo-600",children:[t.jsx("div",{className:"bg-white/10 backdrop-blur-sm",children:t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"bg-white/20 p-3 rounded-2xl",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"ml-3 text-white",children:[t.jsx("h1",{className:"text-xl font-bold",children:"SafeWork Pro"}),t.jsx("p",{className:"text-xs opacity-90",children:"  "})]})]})})}),t.jsx("div",{className:"px-4 py-6 pb-safe",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-3xl shadow-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"bg-blue-100 p-2 rounded-xl",children:t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),t.jsx("h2",{className:"text-lg font-bold text-gray-800 ml-3",children:" "})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"     ."})]}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center",children:[t.jsx("span",{className:"bg-blue-100 w-6 h-6 rounded-full text-xs flex items-center justify-center text-blue-600 mr-2",children:"1"})," "]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:e.name,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:""})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"birth_date",value:e.birth_date,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"gender",value:e.gender,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm",children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:o,required:!0,placeholder:"010-0000-0000",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:""}),t.jsx("input",{type:"tel",name:"emergency_contact",value:e.emergency_contact,onChange:o,placeholder:"010-0000-0000",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center",children:[t.jsx("span",{className:"bg-blue-100 w-6 h-6 rounded-full text-xs flex items-center justify-center text-blue-600 mr-2",children:"2"})," "]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:""}),t.jsx("input",{type:"text",name:"employee_id",value:e.employee_id,onChange:o,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:""})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"department",value:e.department,onChange:o,required:!0,placeholder:"",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["/ ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"position",value:e.position,onChange:o,required:!0,placeholder:": , ",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"employment_type",value:e.employment_type,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm",children:[t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""}),t.jsx("option",{value:"",children:""})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:[" ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",name:"hire_date",value:e.hire_date,onChange:o,required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:""}),t.jsx("input",{type:"text",name:"address",value:e.address,onChange:o,placeholder:"  ()",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all"})]})]})]}),l&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-start",children:[t.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-sm text-red-700",children:l})]}),t.jsx("button",{type:"submit",disabled:s,className:`w-full py-4 rounded-2xl font-medium text-white shadow-lg transition-all transform ${s?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]"}`,children:s?t.jsxs("span",{className:"flex items-center justify-center",children:[t.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})," ..."]}):""}),t.jsx("p",{className:"text-center text-xs text-white/80 mt-4",children:"   "})]})]})})]})};function Jp(){const[e,r]=b.useState("dashboard"),[s,n]=b.useState(!1),[l,a]=b.useState(!1),[i,d]=b.useState(!0),o=Qo();b.useEffect(()=>{(()=>{const m=rr.isAuthenticated();a(m),d(!1)})()},[]);const x=()=>o.pathname==="/worker-registration",g=()=>{a(!0)},f=async()=>{try{await rr.logout()}catch(v){console.error(" :",v)}finally{a(!1),r("dashboard")}},p=()=>{switch(e){case"dashboard":return t.jsx(Uo,{});case"workers":return t.jsx(gp,{});case"health":return t.jsx(bp,{});case"appointments":return t.jsx(wp,{});case"environment":return t.jsx(Sp,{});case"education":return t.jsx(Lp,{});case"chemicals":return t.jsx(Pp,{});case"accidents":return t.jsx(Op,{});case"unified-documents":return t.jsx(Fp,{});case"integrated-documents":return t.jsx(Mp,{});case"reports":return t.jsx(Ip,{});case"monitoring":return t.jsx(hp,{});case"qr-registration":return t.jsx(Bp,{});case"confined-space":return t.jsx(Wp,{});case"cardiovascular":return t.jsx("div",{children:"  ( )"});case"settings":return t.jsx(Ap,{});default:return t.jsx(Uo,{})}};return x()?t.jsx(qp,{}):i?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),t.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})}):l?t.jsx($p,{children:t.jsx(pp,{sidebarOpen:s,setSidebarOpen:n,activeMenu:e,setActiveMenu:r,onLogout:f,children:p()})}):t.jsx(Up,{onLoginSuccess:g})}function Zp(){return t.jsx(uu,{children:t.jsxs(mu,{children:[t.jsx(nl,{path:"/qr-register",element:t.jsx(Xp,{})}),t.jsx(nl,{path:"/qr-register/:token",element:t.jsx(Gp,{})}),t.jsx(nl,{path:"/*",element:t.jsx(Jp,{})})]})})}Ml.createRoot(document.getElementById("root")).render(t.jsx(Hu.StrictMode,{children:t.jsx(Zp,{})}));
