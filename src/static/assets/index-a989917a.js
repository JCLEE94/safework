import*as Gu from"lucide-react";import{X as Oo,Menu as Ju,Search as Lt,Bell as sn,TrendingUp as ln,Users as Ds,Activity as wr,ShieldCheck as Zu,Calendar as br,Zap as ed,AlertTriangle as lt,FileText as Ce,RefreshCw as Et,CheckCircle as Ht,Shield as is,Volume2 as td,Wind as gi,Thermometer as rd,Settings as nd,BarChart3 as bl,Clock as Wt,AlertCircle as kr,Monitor as sd,Heart as Ro,ArrowLeft as bn,Save as Zt,Plus as Ve,Edit as er,Trash2 as Je,User as hr,BookOpen as yi,Eye as Qt,Download as Bt,FileEdit as Ft,RotateCcw as ld,Building as kl,MapPin as ad,Phone as id,Mail as od,Hash as cd,CheckSquare as ud,Filter as dd,Upload as Sl,FolderOpen as Yr,Archive as Io,FilePlus as md,Bookmark as pd,Grid as xd,List as fd,BarChart as vi,XCircle as hd,Database as ji,Bug as gd}from"lucide-react";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function yd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fo={exports:{}},Ps={},Ao={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kn=Symbol.for("react.element"),vd=Symbol.for("react.portal"),jd=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),bd=Symbol.for("react.context"),kd=Symbol.for("react.forward_ref"),Sd=Symbol.for("react.suspense"),Cd=Symbol.for("react.memo"),Ed=Symbol.for("react.lazy"),Ni=Symbol.iterator;function zd(e){return e===null||typeof e!="object"?null:(e=Ni&&e[Ni]||e["@@iterator"],typeof e=="function"?e:null)}var $o={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uo=Object.assign,Bo={};function Pr(e,t,n){this.props=e,this.context=t,this.refs=Bo,this.updater=n||$o}Pr.prototype.isReactComponent={};Pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qo(){}qo.prototype=Pr.prototype;function wa(e,t,n){this.props=e,this.context=t,this.refs=Bo,this.updater=n||$o}var ba=wa.prototype=new qo;ba.constructor=wa;Uo(ba,Pr.prototype);ba.isPureReactComponent=!0;var _i=Array.isArray,Vo=Object.prototype.hasOwnProperty,ka={current:null},Ho={key:!0,ref:!0,__self:!0,__source:!0};function Wo(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Vo.call(t,s)&&!Ho.hasOwnProperty(s)&&(l[s]=t[s]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var o=Array(c),m=0;m<c;m++)o[m]=arguments[m+2];l.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)l[s]===void 0&&(l[s]=c[s]);return{$$typeof:kn,type:e,key:a,ref:i,props:l,_owner:ka.current}}function Td(e,t){return{$$typeof:kn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===kn}function Ld(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wi=/\/+/g;function Xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ld(""+e.key):t.toString(36)}function Kn(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case kn:case vd:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Xs(i,0):s,_i(l)?(n="",e!=null&&(n=e.replace(wi,"$&/")+"/"),Kn(l,t,n,"",function(m){return m})):l!=null&&(Sa(l)&&(l=Td(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(wi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",_i(e))for(var c=0;c<e.length;c++){a=e[c];var o=s+Xs(a,c);i+=Kn(a,t,n,o,l)}else if(o=zd(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=s+Xs(a,c++),i+=Kn(a,t,n,o,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ln(e,t,n){if(e==null)return e;var s=[],l=0;return Kn(e,s,"","",function(a){return t.call(n,a,l++)}),s}function Dd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Xn={transition:null},Pd={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Xn,ReactCurrentOwner:ka};function Qo(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Ln,forEach:function(e,t,n){Ln(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ln(e,function(){t++}),t},toArray:function(e){return Ln(e,function(t){return t})||[]},only:function(e){if(!Sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Pr;q.Fragment=jd;q.Profiler=_d;q.PureComponent=wa;q.StrictMode=Nd;q.Suspense=Sd;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pd;q.act=Qo;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Uo({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ka.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Vo.call(t,o)&&!Ho.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){c=Array(o);for(var m=0;m<o;m++)c[m]=arguments[m+2];s.children=c}return{$$typeof:kn,type:e.type,key:l,ref:a,props:s,_owner:i}};q.createContext=function(e){return e={$$typeof:bd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wd,_context:e},e.Consumer=e};q.createElement=Wo;q.createFactory=function(e){var t=Wo.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:kd,render:e}};q.isValidElement=Sa;q.lazy=function(e){return{$$typeof:Ed,_payload:{_status:-1,_result:e},_init:Dd}};q.memo=function(e,t){return{$$typeof:Cd,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Xn.transition;Xn.transition={};try{e()}finally{Xn.transition=t}};q.unstable_act=Qo;q.useCallback=function(e,t){return ye.current.useCallback(e,t)};q.useContext=function(e){return ye.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};q.useEffect=function(e,t){return ye.current.useEffect(e,t)};q.useId=function(){return ye.current.useId()};q.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return ye.current.useMemo(e,t)};q.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};q.useRef=function(e){return ye.current.useRef(e)};q.useState=function(e){return ye.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return ye.current.useTransition()};q.version="18.3.1";Ao.exports=q;var E=Ao.exports;const Md=yd(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=E,Rd=Symbol.for("react.element"),Id=Symbol.for("react.fragment"),Fd=Object.prototype.hasOwnProperty,Ad=Od.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$d={key:!0,ref:!0,__self:!0,__source:!0};function Yo(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Fd.call(t,s)&&!$d.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Rd,type:e,key:a,ref:i,props:l,_owner:Ad.current}}Ps.Fragment=Id;Ps.jsx=Yo;Ps.jsxs=Yo;Fo.exports=Ps;var r=Fo.exports,Cl={},Ko={exports:{}},Te={},Xo={exports:{}},Go={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,v){var D=M.length;M.push(v);e:for(;0<D;){var A=D-1>>>1,Y=M[A];if(0<l(Y,v))M[A]=v,M[D]=Y,D=A;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var v=M[0],D=M.pop();if(D!==v){M[0]=D;e:for(var A=0,Y=M.length,Ye=Y>>>1;A<Ye;){var Ae=2*(A+1)-1,Ks=M[Ae],Ot=Ae+1,Tn=M[Ot];if(0>l(Ks,D))Ot<Y&&0>l(Tn,Ks)?(M[A]=Tn,M[Ot]=D,A=Ot):(M[A]=Ks,M[Ae]=D,A=Ae);else if(Ot<Y&&0>l(Tn,D))M[A]=Tn,M[Ot]=D,A=Ot;else break e}}return v}function l(M,v){var D=M.sortIndex-v.sortIndex;return D!==0?D:M.id-v.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],m=[],N=1,j=null,g=3,w=!1,d=!1,y=!1,h=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var v=n(m);v!==null;){if(v.callback===null)s(m);else if(v.startTime<=M)s(m),v.sortIndex=v.expirationTime,t(o,v);else break;v=n(m)}}function b(M){if(y=!1,x(M),!d)if(n(o)!==null)d=!0,U(f);else{var v=n(m);v!==null&&Q(b,v.startTime-M)}}function f(M,v){d=!1,y&&(y=!1,p(z),z=-1),w=!0;var D=g;try{for(x(v),j=n(o);j!==null&&(!(j.expirationTime>v)||M&&!F());){var A=j.callback;if(typeof A=="function"){j.callback=null,g=j.priorityLevel;var Y=A(j.expirationTime<=v);v=e.unstable_now(),typeof Y=="function"?j.callback=Y:j===n(o)&&s(o),x(v)}else s(o);j=n(o)}if(j!==null)var Ye=!0;else{var Ae=n(m);Ae!==null&&Q(b,Ae.startTime-v),Ye=!1}return Ye}finally{j=null,g=D,w=!1}}var C=!1,_=null,z=-1,B=5,k=-1;function F(){return!(e.unstable_now()-k<B)}function S(){if(_!==null){var M=e.unstable_now();k=M;var v=!0;try{v=_(!0,M)}finally{v?H():(C=!1,_=null)}}else C=!1}var H;if(typeof u=="function")H=function(){u(S)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,T=P.port2;P.port1.onmessage=S,H=function(){T.postMessage(null)}}else H=function(){h(S,0)};function U(M){_=M,C||(C=!0,H())}function Q(M,v){z=h(function(){M(e.unstable_now())},v)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){d||w||(d=!0,U(f))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var v=3;break;default:v=g}var D=g;g=v;try{return M()}finally{g=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,v){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=g;g=M;try{return v()}finally{g=D}},e.unstable_scheduleCallback=function(M,v,D){var A=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?A+D:A):D=A,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=D+Y,M={id:N++,callback:v,priorityLevel:M,startTime:D,expirationTime:Y,sortIndex:-1},D>A?(M.sortIndex=D,t(m,M),n(o)===null&&M===n(m)&&(y?(p(z),z=-1):y=!0,Q(b,D-A))):(M.sortIndex=Y,t(o,M),d||w||(d=!0,U(f))),M},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(M){var v=g;return function(){var D=g;g=v;try{return M.apply(this,arguments)}finally{g=D}}}})(Go);Xo.exports=Go;var Ud=Xo.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=E,ze=Ud;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jo=new Set,an={};function tr(e,t){Sr(e,t),Sr(e+"Capture",t)}function Sr(e,t){for(an[e]=t,e=0;e<t.length;e++)Jo.add(t[e])}var it=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,qd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bi={},ki={};function Vd(e){return El.call(ki,e)?!0:El.call(bi,e)?!1:qd.test(e)?ki[e]=!0:(bi[e]=!0,!1)}function Hd(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wd(e,t,n,s){if(t===null||typeof t>"u"||Hd(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){de[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];de[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){de[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){de[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){de[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){de[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){de[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){de[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){de[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ca=/[\-:]([a-z])/g;function Ea(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ca,Ea);de[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ca,Ea);de[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ca,Ea);de[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){de[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});de.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){de[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function za(e,t,n,s){var l=de.hasOwnProperty(t)?de[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wd(t,n,l,s)&&(n=null),s||l===null?Vd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var mt=Bd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dn=Symbol.for("react.element"),sr=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),Zo=Symbol.for("react.provider"),ec=Symbol.for("react.context"),La=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Da=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),tc=Symbol.for("react.offscreen"),Si=Symbol.iterator;function Rr(e){return e===null||typeof e!="object"?null:(e=Si&&e[Si]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Gs;function Vr(e){if(Gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gs=t&&t[1]||""}return`
`+Gs+e}var Js=!1;function Zs(e,t){if(!e||Js)return"";Js=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,c=a.length-1;1<=i&&0<=c&&l[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==a[c]){var o=`
`+l[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Js=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vr(e):""}function Qd(e){switch(e.tag){case 5:return Vr(e.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return e=Zs(e.type,!1),e;case 11:return e=Zs(e.type.render,!1),e;case 1:return e=Zs(e.type,!0),e;default:return""}}function Dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case sr:return"Portal";case zl:return"Profiler";case Ta:return"StrictMode";case Tl:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ec:return(e.displayName||"Context")+".Consumer";case Zo:return(e._context.displayName||"Context")+".Provider";case La:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Da:return t=e.displayName||null,t!==null?t:Dl(e.type)||"Memo";case xt:t=e._payload,e=e._init;try{return Dl(e(t))}catch{}}return null}function Yd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dl(t);case 8:return t===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kd(e){var t=rc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pn(e){e._valueTracker||(e._valueTracker=Kd(e))}function nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=rc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pl(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ci(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sc(e,t){t=t.checked,t!=null&&za(e,"checked",t,!1)}function Ml(e,t){sc(e,t);var n=zt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ei(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||os(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hr=Array.isArray;function gr(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Rl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Hr(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zt(n)}}function lc(e,t){var n=zt(t.value),s=zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ti(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ac(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ac(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mn,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mn=Mn||document.createElement("div"),Mn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function on(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xd=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){Xd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function oc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function cc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=oc(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var Gd=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(e,t){if(t){if(Gd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ul=null,yr=null,vr=null;function Li(e){if(e=En(e)){if(typeof Ul!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Fs(t),Ul(e.stateNode,e.type,t))}}function uc(e){yr?vr?vr.push(e):vr=[e]:yr=e}function dc(){if(yr){var e=yr,t=vr;if(vr=yr=null,Li(e),t)for(e=0;e<t.length;e++)Li(t[e])}}function mc(e,t){return e(t)}function pc(){}var el=!1;function xc(e,t,n){if(el)return e(t,n);el=!0;try{return mc(e,t,n)}finally{el=!1,(yr!==null||vr!==null)&&(pc(),dc())}}function cn(e,t){var n=e.stateNode;if(n===null)return null;var s=Fs(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Bl=!1;if(it)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Bl=!1}function Jd(e,t,n,s,l,a,i,c,o){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(N){this.onError(N)}}var Xr=!1,cs=null,us=!1,ql=null,Zd={onError:function(e){Xr=!0,cs=e}};function em(e,t,n,s,l,a,i,c,o){Xr=!1,cs=null,Jd.apply(Zd,arguments)}function tm(e,t,n,s,l,a,i,c,o){if(em.apply(this,arguments),Xr){if(Xr){var m=cs;Xr=!1,cs=null}else throw Error(L(198));us||(us=!0,ql=m)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Di(e){if(rr(e)!==e)throw Error(L(188))}function rm(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Di(l),e;if(a===s)return Di(l),t;a=a.sibling}throw Error(L(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,s=a;break}if(c===s){i=!0,s=l,n=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===n){i=!0,n=a,s=l;break}if(c===s){i=!0,s=a,n=l;break}c=c.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==s)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function hc(e){return e=rm(e),e!==null?gc(e):null}function gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gc(e);if(t!==null)return t;e=e.sibling}return null}var yc=ze.unstable_scheduleCallback,Pi=ze.unstable_cancelCallback,nm=ze.unstable_shouldYield,sm=ze.unstable_requestPaint,ne=ze.unstable_now,lm=ze.unstable_getCurrentPriorityLevel,Ma=ze.unstable_ImmediatePriority,vc=ze.unstable_UserBlockingPriority,ds=ze.unstable_NormalPriority,am=ze.unstable_LowPriority,jc=ze.unstable_IdlePriority,Ms=null,Ze=null;function im(e){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Ms,e,void 0,(e.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:um,om=Math.log,cm=Math.LN2;function um(e){return e>>>=0,e===0?32:31-(om(e)/cm|0)|0}var On=64,Rn=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~l;c!==0?s=Wr(c):(a&=i,a!==0&&(s=Wr(a)))}else i=n&~l,i!==0?s=Wr(i):a!==0&&(s=Wr(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-He(t),l=1<<n,s|=e[n],t&=~l;return s}function dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-He(a),c=1<<i,o=l[i];o===-1?(!(c&n)||c&s)&&(l[i]=dm(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nc(){var e=On;return On<<=1,!(On&4194240)&&(On=64),e}function tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-He(t),e[t]=n}function pm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-He(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Oa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-He(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var W=0;function _c(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wc,Ra,bc,kc,Sc,Hl=!1,In=[],jt=null,Nt=null,_t=null,un=new Map,dn=new Map,ht=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mi(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(t.pointerId)}}function Fr(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=En(t),t!==null&&Ra(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fm(e,t,n,s,l){switch(t){case"focusin":return jt=Fr(jt,e,t,n,s,l),!0;case"dragenter":return Nt=Fr(Nt,e,t,n,s,l),!0;case"mouseover":return _t=Fr(_t,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return un.set(a,Fr(un.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,dn.set(a,Fr(dn.get(a)||null,e,t,n,s,l)),!0}return!1}function Cc(e){var t=At(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=fc(n),t!==null){e.blockedOn=t,Sc(e.priority,function(){bc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);$l=s,n.target.dispatchEvent(s),$l=null}else return t=En(n),t!==null&&Ra(t),e.blockedOn=n,!1;t.shift()}return!0}function Oi(e,t,n){Gn(e)&&n.delete(t)}function hm(){Hl=!1,jt!==null&&Gn(jt)&&(jt=null),Nt!==null&&Gn(Nt)&&(Nt=null),_t!==null&&Gn(_t)&&(_t=null),un.forEach(Oi),dn.forEach(Oi)}function Ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Hl||(Hl=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,hm)))}function mn(e){function t(l){return Ar(l,e)}if(0<In.length){Ar(In[0],e);for(var n=1;n<In.length;n++){var s=In[n];s.blockedOn===e&&(s.blockedOn=null)}}for(jt!==null&&Ar(jt,e),Nt!==null&&Ar(Nt,e),_t!==null&&Ar(_t,e),un.forEach(t),dn.forEach(t),n=0;n<ht.length;n++)s=ht[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ht.length&&(n=ht[0],n.blockedOn===null);)Cc(n),n.blockedOn===null&&ht.shift()}var jr=mt.ReactCurrentBatchConfig,ps=!0;function gm(e,t,n,s){var l=W,a=jr.transition;jr.transition=null;try{W=1,Ia(e,t,n,s)}finally{W=l,jr.transition=a}}function ym(e,t,n,s){var l=W,a=jr.transition;jr.transition=null;try{W=4,Ia(e,t,n,s)}finally{W=l,jr.transition=a}}function Ia(e,t,n,s){if(ps){var l=Wl(e,t,n,s);if(l===null)dl(e,t,s,xs,n),Mi(e,s);else if(fm(l,e,t,n,s))s.stopPropagation();else if(Mi(e,s),t&4&&-1<xm.indexOf(e)){for(;l!==null;){var a=En(l);if(a!==null&&wc(a),a=Wl(e,t,n,s),a===null&&dl(e,t,s,xs,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else dl(e,t,s,null,n)}}var xs=null;function Wl(e,t,n,s){if(xs=null,e=Pa(s),e=At(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function Ec(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lm()){case Ma:return 1;case vc:return 4;case ds:case am:return 16;case jc:return 536870912;default:return 16}default:return 16}}var yt=null,Fa=null,Jn=null;function zc(){if(Jn)return Jn;var e,t=Fa,n=t.length,s,l="value"in yt?yt.value:yt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return Jn=l.slice(e,1<s?1-s:void 0)}function Zn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fn(){return!0}function Ri(){return!1}function Le(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fn:Ri,this.isPropagationStopped=Ri,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Le(Mr),Cn=te({},Mr,{view:0,detail:0}),vm=Le(Cn),rl,nl,$r,Os=te({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(rl=e.screenX-$r.screenX,nl=e.screenY-$r.screenY):nl=rl=0,$r=e),rl)},movementY:function(e){return"movementY"in e?e.movementY:nl}}),Ii=Le(Os),jm=te({},Os,{dataTransfer:0}),Nm=Le(jm),_m=te({},Cn,{relatedTarget:0}),sl=Le(_m),wm=te({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),bm=Le(wm),km=te({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sm=Le(km),Cm=te({},Mr,{data:0}),Fi=Le(Cm),Em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tm[e])?!!t[e]:!1}function $a(){return Lm}var Dm=te({},Cn,{key:function(e){if(e.key){var t=Em[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pm=Le(Dm),Mm=te({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=Le(Mm),Om=te({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),Rm=Le(Om),Im=te({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fm=Le(Im),Am=te({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$m=Le(Am),Um=[9,13,27,32],Ua=it&&"CompositionEvent"in window,Gr=null;it&&"documentMode"in document&&(Gr=document.documentMode);var Bm=it&&"TextEvent"in window&&!Gr,Tc=it&&(!Ua||Gr&&8<Gr&&11>=Gr),$i=String.fromCharCode(32),Ui=!1;function Lc(e,t){switch(e){case"keyup":return Um.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function qm(e,t){switch(e){case"compositionend":return Dc(t);case"keypress":return t.which!==32?null:(Ui=!0,$i);case"textInput":return e=t.data,e===$i&&Ui?null:e;default:return null}}function Vm(e,t){if(ar)return e==="compositionend"||!Ua&&Lc(e,t)?(e=zc(),Jn=Fa=yt=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tc&&t.locale!=="ko"?null:t.data;default:return null}}var Hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hm[e.type]:t==="textarea"}function Pc(e,t,n,s){uc(s),t=fs(t,"onChange"),0<t.length&&(n=new Aa("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Jr=null,pn=null;function Wm(e){Vc(e,0)}function Rs(e){var t=cr(e);if(nc(t))return e}function Qm(e,t){if(e==="change")return t}var Mc=!1;if(it){var ll;if(it){var al="oninput"in document;if(!al){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),al=typeof qi.oninput=="function"}ll=al}else ll=!1;Mc=ll&&(!document.documentMode||9<document.documentMode)}function Vi(){Jr&&(Jr.detachEvent("onpropertychange",Oc),pn=Jr=null)}function Oc(e){if(e.propertyName==="value"&&Rs(pn)){var t=[];Pc(t,pn,e,Pa(e)),xc(Wm,t)}}function Ym(e,t,n){e==="focusin"?(Vi(),Jr=t,pn=n,Jr.attachEvent("onpropertychange",Oc)):e==="focusout"&&Vi()}function Km(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(pn)}function Xm(e,t){if(e==="click")return Rs(t)}function Gm(e,t){if(e==="input"||e==="change")return Rs(t)}function Jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is=="function"?Object.is:Jm;function xn(e,t){if(Qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!El.call(t,l)||!Qe(e[l],t[l]))return!1}return!0}function Hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wi(e,t){var n=Hi(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hi(n)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ic(){for(var e=window,t=os();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=os(e.document)}return t}function Ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zm(e){var t=Ic(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rc(n.ownerDocument.documentElement,n)){if(s!==null&&Ba(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=Wi(n,a);var i=Wi(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ep=it&&"documentMode"in document&&11>=document.documentMode,ir=null,Ql=null,Zr=null,Yl=!1;function Qi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||ir==null||ir!==os(s)||(s=ir,"selectionStart"in s&&Ba(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zr&&xn(Zr,s)||(Zr=s,s=fs(Ql,"onSelect"),0<s.length&&(t=new Aa("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ir)))}function An(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var or={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionend:An("Transition","TransitionEnd")},il={},Fc={};it&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function Is(e){if(il[e])return il[e];if(!or[e])return e;var t=or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fc)return il[e]=t[n];return e}var Ac=Is("animationend"),$c=Is("animationiteration"),Uc=Is("animationstart"),Bc=Is("transitionend"),qc=new Map,Yi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dt(e,t){qc.set(e,t),tr(t,[e])}for(var ol=0;ol<Yi.length;ol++){var cl=Yi[ol],tp=cl.toLowerCase(),rp=cl[0].toUpperCase()+cl.slice(1);Dt(tp,"on"+rp)}Dt(Ac,"onAnimationEnd");Dt($c,"onAnimationIteration");Dt(Uc,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(Bc,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),np=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qr));function Ki(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,tm(s,t,void 0,e),e.currentTarget=null}function Vc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,m=c.currentTarget;if(c=c.listener,o!==a&&l.isPropagationStopped())break e;Ki(l,c,m),a=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,m=c.currentTarget,c=c.listener,o!==a&&l.isPropagationStopped())break e;Ki(l,c,m),a=o}}}if(us)throw e=ql,us=!1,ql=null,e}function X(e,t){var n=t[Zl];n===void 0&&(n=t[Zl]=new Set);var s=e+"__bubble";n.has(s)||(Hc(t,e,2,!1),n.add(s))}function ul(e,t,n){var s=0;t&&(s|=4),Hc(n,e,s,t)}var $n="_reactListening"+Math.random().toString(36).slice(2);function fn(e){if(!e[$n]){e[$n]=!0,Jo.forEach(function(n){n!=="selectionchange"&&(np.has(n)||ul(n,!1,e),ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$n]||(t[$n]=!0,ul("selectionchange",!1,t))}}function Hc(e,t,n,s){switch(Ec(t)){case 1:var l=gm;break;case 4:l=ym;break;default:l=Ia}n=l.bind(null,t,n,e),l=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function dl(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;i=i.return}for(;c!==null;){if(i=At(c),i===null)return;if(o=i.tag,o===5||o===6){s=a=i;continue e}c=c.parentNode}}s=s.return}xc(function(){var m=a,N=Pa(n),j=[];e:{var g=qc.get(e);if(g!==void 0){var w=Aa,d=e;switch(e){case"keypress":if(Zn(n)===0)break e;case"keydown":case"keyup":w=Pm;break;case"focusin":d="focus",w=sl;break;case"focusout":d="blur",w=sl;break;case"beforeblur":case"afterblur":w=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Rm;break;case Ac:case $c:case Uc:w=bm;break;case Bc:w=Fm;break;case"scroll":w=vm;break;case"wheel":w=$m;break;case"copy":case"cut":case"paste":w=Sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ai}var y=(t&4)!==0,h=!y&&e==="scroll",p=y?g!==null?g+"Capture":null:g;y=[];for(var u=m,x;u!==null;){x=u;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,p!==null&&(b=cn(u,p),b!=null&&y.push(hn(u,b,x)))),h)break;u=u.return}0<y.length&&(g=new w(g,d,null,n,N),j.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==$l&&(d=n.relatedTarget||n.fromElement)&&(At(d)||d[ot]))break e;if((w||g)&&(g=N.window===N?N:(g=N.ownerDocument)?g.defaultView||g.parentWindow:window,w?(d=n.relatedTarget||n.toElement,w=m,d=d?At(d):null,d!==null&&(h=rr(d),d!==h||d.tag!==5&&d.tag!==6)&&(d=null)):(w=null,d=m),w!==d)){if(y=Ii,b="onMouseLeave",p="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ai,b="onPointerLeave",p="onPointerEnter",u="pointer"),h=w==null?g:cr(w),x=d==null?g:cr(d),g=new y(b,u+"leave",w,n,N),g.target=h,g.relatedTarget=x,b=null,At(N)===m&&(y=new y(p,u+"enter",d,n,N),y.target=x,y.relatedTarget=h,b=y),h=b,w&&d)t:{for(y=w,p=d,u=0,x=y;x;x=nr(x))u++;for(x=0,b=p;b;b=nr(b))x++;for(;0<u-x;)y=nr(y),u--;for(;0<x-u;)p=nr(p),x--;for(;u--;){if(y===p||p!==null&&y===p.alternate)break t;y=nr(y),p=nr(p)}y=null}else y=null;w!==null&&Xi(j,g,w,y,!1),d!==null&&h!==null&&Xi(j,h,d,y,!0)}}e:{if(g=m?cr(m):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var f=Qm;else if(Bi(g))if(Mc)f=Gm;else{f=Km;var C=Ym}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(f=Xm);if(f&&(f=f(e,m))){Pc(j,f,n,N);break e}C&&C(e,g,m),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&Ol(g,"number",g.value)}switch(C=m?cr(m):window,e){case"focusin":(Bi(C)||C.contentEditable==="true")&&(ir=C,Ql=m,Zr=null);break;case"focusout":Zr=Ql=ir=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Qi(j,n,N);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":Qi(j,n,N)}var _;if(Ua)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else ar?Lc(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Tc&&n.locale!=="ko"&&(ar||z!=="onCompositionStart"?z==="onCompositionEnd"&&ar&&(_=zc()):(yt=N,Fa="value"in yt?yt.value:yt.textContent,ar=!0)),C=fs(m,z),0<C.length&&(z=new Fi(z,e,null,n,N),j.push({event:z,listeners:C}),_?z.data=_:(_=Dc(n),_!==null&&(z.data=_)))),(_=Bm?qm(e,n):Vm(e,n))&&(m=fs(m,"onBeforeInput"),0<m.length&&(N=new Fi("onBeforeInput","beforeinput",null,n,N),j.push({event:N,listeners:m}),N.data=_))}Vc(j,t)})}function hn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fs(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=cn(e,n),a!=null&&s.unshift(hn(e,a,l)),a=cn(e,t),a!=null&&s.push(hn(e,a,l))),e=e.return}return s}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xi(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var c=n,o=c.alternate,m=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&m!==null&&(c=m,l?(o=cn(n,a),o!=null&&i.unshift(hn(n,o,c))):l||(o=cn(n,a),o!=null&&i.push(hn(n,o,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var sp=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Gi(e){return(typeof e=="string"?e:""+e).replace(sp,`
`).replace(lp,"")}function Un(e,t,n){if(t=Gi(t),Gi(e)!==t&&n)throw Error(L(425))}function hs(){}var Kl=null,Xl=null;function Gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,Ji=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof Ji<"u"?function(e){return Ji.resolve(null).then(e).catch(op)}:Jl;function op(e){setTimeout(function(){throw e})}function ml(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),mn(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);mn(t)}function wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Or,gn="__reactProps$"+Or,ot="__reactContainer$"+Or,Zl="__reactEvents$"+Or,cp="__reactListeners$"+Or,up="__reactHandles$"+Or;function At(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ot]||n[Ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zi(e);e!==null;){if(n=e[Ge])return n;e=Zi(e)}return t}e=n,n=e.parentNode}return null}function En(e){return e=e[Ge]||e[ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Fs(e){return e[gn]||null}var ea=[],ur=-1;function Pt(e){return{current:e}}function G(e){0>ur||(e.current=ea[ur],ea[ur]=null,ur--)}function K(e,t){ur++,ea[ur]=e.current,e.current=t}var Tt={},fe=Pt(Tt),_e=Pt(!1),Yt=Tt;function Cr(e,t){var n=e.type.contextTypes;if(!n)return Tt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function we(e){return e=e.childContextTypes,e!=null}function gs(){G(_e),G(fe)}function eo(e,t,n){if(fe.current!==Tt)throw Error(L(168));K(fe,t),K(_e,n)}function Wc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(L(108,Yd(e)||"Unknown",l));return te({},n,s)}function ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tt,Yt=fe.current,K(fe,e),K(_e,_e.current),!0}function to(e,t,n){var s=e.stateNode;if(!s)throw Error(L(169));n?(e=Wc(e,t,Yt),s.__reactInternalMemoizedMergedChildContext=e,G(_e),G(fe),K(fe,e)):G(_e),K(_e,n)}var rt=null,As=!1,pl=!1;function Qc(e){rt===null?rt=[e]:rt.push(e)}function dp(e){As=!0,Qc(e)}function Mt(){if(!pl&&rt!==null){pl=!0;var e=0,t=W;try{var n=rt;for(W=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}rt=null,As=!1}catch(l){throw rt!==null&&(rt=rt.slice(e+1)),yc(Ma,Mt),l}finally{W=t,pl=!1}}return null}var dr=[],mr=0,vs=null,js=0,De=[],Pe=0,Kt=null,nt=1,st="";function Rt(e,t){dr[mr++]=js,dr[mr++]=vs,vs=e,js=t}function Yc(e,t,n){De[Pe++]=nt,De[Pe++]=st,De[Pe++]=Kt,Kt=e;var s=nt;e=st;var l=32-He(s)-1;s&=~(1<<l),n+=1;var a=32-He(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,nt=1<<32-He(t)+l|n<<l|s,st=a+e}else nt=1<<a|n<<l|s,st=e}function qa(e){e.return!==null&&(Rt(e,1),Yc(e,1,0))}function Va(e){for(;e===vs;)vs=dr[--mr],dr[mr]=null,js=dr[--mr],dr[mr]=null;for(;e===Kt;)Kt=De[--Pe],De[Pe]=null,st=De[--Pe],De[Pe]=null,nt=De[--Pe],De[Pe]=null}var Ee=null,Se=null,J=!1,qe=null;function Kc(e,t){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ro(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ee=e,Se=wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ee=e,Se=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kt!==null?{id:nt,overflow:st}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ee=e,Se=null,!0):!1;default:return!1}}function ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ra(e){if(J){var t=Se;if(t){var n=t;if(!ro(e,t)){if(ta(e))throw Error(L(418));t=wt(n.nextSibling);var s=Ee;t&&ro(e,t)?Kc(s,n):(e.flags=e.flags&-4097|2,J=!1,Ee=e)}}else{if(ta(e))throw Error(L(418));e.flags=e.flags&-4097|2,J=!1,Ee=e}}}function no(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ee=e}function Bn(e){if(e!==Ee)return!1;if(!J)return no(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gl(e.type,e.memoizedProps)),t&&(t=Se)){if(ta(e))throw Xc(),Error(L(418));for(;t;)Kc(e,t),t=wt(t.nextSibling)}if(no(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Se=wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Se=null}}else Se=Ee?wt(e.stateNode.nextSibling):null;return!0}function Xc(){for(var e=Se;e;)e=wt(e.nextSibling)}function Er(){Se=Ee=null,J=!1}function Ha(e){qe===null?qe=[e]:qe.push(e)}var mp=mt.ReactCurrentBatchConfig;function Ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var s=n.stateNode}if(!s)throw Error(L(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=l.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function qn(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function so(e){var t=e._init;return t(e._payload)}function Gc(e){function t(p,u){if(e){var x=p.deletions;x===null?(p.deletions=[u],p.flags|=16):x.push(u)}}function n(p,u){if(!e)return null;for(;u!==null;)t(p,u),u=u.sibling;return null}function s(p,u){for(p=new Map;u!==null;)u.key!==null?p.set(u.key,u):p.set(u.index,u),u=u.sibling;return p}function l(p,u){return p=Ct(p,u),p.index=0,p.sibling=null,p}function a(p,u,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<u?(p.flags|=2,u):x):(p.flags|=2,u)):(p.flags|=1048576,u)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,u,x,b){return u===null||u.tag!==6?(u=jl(x,p.mode,b),u.return=p,u):(u=l(u,x),u.return=p,u)}function o(p,u,x,b){var f=x.type;return f===lr?N(p,u,x.props.children,b,x.key):u!==null&&(u.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===xt&&so(f)===u.type)?(b=l(u,x.props),b.ref=Ur(p,u,x),b.return=p,b):(b=as(x.type,x.key,x.props,null,p.mode,b),b.ref=Ur(p,u,x),b.return=p,b)}function m(p,u,x,b){return u===null||u.tag!==4||u.stateNode.containerInfo!==x.containerInfo||u.stateNode.implementation!==x.implementation?(u=Nl(x,p.mode,b),u.return=p,u):(u=l(u,x.children||[]),u.return=p,u)}function N(p,u,x,b,f){return u===null||u.tag!==7?(u=Vt(x,p.mode,b,f),u.return=p,u):(u=l(u,x),u.return=p,u)}function j(p,u,x){if(typeof u=="string"&&u!==""||typeof u=="number")return u=jl(""+u,p.mode,x),u.return=p,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Dn:return x=as(u.type,u.key,u.props,null,p.mode,x),x.ref=Ur(p,null,u),x.return=p,x;case sr:return u=Nl(u,p.mode,x),u.return=p,u;case xt:var b=u._init;return j(p,b(u._payload),x)}if(Hr(u)||Rr(u))return u=Vt(u,p.mode,x,null),u.return=p,u;qn(p,u)}return null}function g(p,u,x,b){var f=u!==null?u.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return f!==null?null:c(p,u,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dn:return x.key===f?o(p,u,x,b):null;case sr:return x.key===f?m(p,u,x,b):null;case xt:return f=x._init,g(p,u,f(x._payload),b)}if(Hr(x)||Rr(x))return f!==null?null:N(p,u,x,b,null);qn(p,x)}return null}function w(p,u,x,b,f){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(x)||null,c(u,p,""+b,f);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dn:return p=p.get(b.key===null?x:b.key)||null,o(u,p,b,f);case sr:return p=p.get(b.key===null?x:b.key)||null,m(u,p,b,f);case xt:var C=b._init;return w(p,u,x,C(b._payload),f)}if(Hr(b)||Rr(b))return p=p.get(x)||null,N(u,p,b,f,null);qn(u,b)}return null}function d(p,u,x,b){for(var f=null,C=null,_=u,z=u=0,B=null;_!==null&&z<x.length;z++){_.index>z?(B=_,_=null):B=_.sibling;var k=g(p,_,x[z],b);if(k===null){_===null&&(_=B);break}e&&_&&k.alternate===null&&t(p,_),u=a(k,u,z),C===null?f=k:C.sibling=k,C=k,_=B}if(z===x.length)return n(p,_),J&&Rt(p,z),f;if(_===null){for(;z<x.length;z++)_=j(p,x[z],b),_!==null&&(u=a(_,u,z),C===null?f=_:C.sibling=_,C=_);return J&&Rt(p,z),f}for(_=s(p,_);z<x.length;z++)B=w(_,p,z,x[z],b),B!==null&&(e&&B.alternate!==null&&_.delete(B.key===null?z:B.key),u=a(B,u,z),C===null?f=B:C.sibling=B,C=B);return e&&_.forEach(function(F){return t(p,F)}),J&&Rt(p,z),f}function y(p,u,x,b){var f=Rr(x);if(typeof f!="function")throw Error(L(150));if(x=f.call(x),x==null)throw Error(L(151));for(var C=f=null,_=u,z=u=0,B=null,k=x.next();_!==null&&!k.done;z++,k=x.next()){_.index>z?(B=_,_=null):B=_.sibling;var F=g(p,_,k.value,b);if(F===null){_===null&&(_=B);break}e&&_&&F.alternate===null&&t(p,_),u=a(F,u,z),C===null?f=F:C.sibling=F,C=F,_=B}if(k.done)return n(p,_),J&&Rt(p,z),f;if(_===null){for(;!k.done;z++,k=x.next())k=j(p,k.value,b),k!==null&&(u=a(k,u,z),C===null?f=k:C.sibling=k,C=k);return J&&Rt(p,z),f}for(_=s(p,_);!k.done;z++,k=x.next())k=w(_,p,z,k.value,b),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?z:k.key),u=a(k,u,z),C===null?f=k:C.sibling=k,C=k);return e&&_.forEach(function(S){return t(p,S)}),J&&Rt(p,z),f}function h(p,u,x,b){if(typeof x=="object"&&x!==null&&x.type===lr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Dn:e:{for(var f=x.key,C=u;C!==null;){if(C.key===f){if(f=x.type,f===lr){if(C.tag===7){n(p,C.sibling),u=l(C,x.props.children),u.return=p,p=u;break e}}else if(C.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===xt&&so(f)===C.type){n(p,C.sibling),u=l(C,x.props),u.ref=Ur(p,C,x),u.return=p,p=u;break e}n(p,C);break}else t(p,C);C=C.sibling}x.type===lr?(u=Vt(x.props.children,p.mode,b,x.key),u.return=p,p=u):(b=as(x.type,x.key,x.props,null,p.mode,b),b.ref=Ur(p,u,x),b.return=p,p=b)}return i(p);case sr:e:{for(C=x.key;u!==null;){if(u.key===C)if(u.tag===4&&u.stateNode.containerInfo===x.containerInfo&&u.stateNode.implementation===x.implementation){n(p,u.sibling),u=l(u,x.children||[]),u.return=p,p=u;break e}else{n(p,u);break}else t(p,u);u=u.sibling}u=Nl(x,p.mode,b),u.return=p,p=u}return i(p);case xt:return C=x._init,h(p,u,C(x._payload),b)}if(Hr(x))return d(p,u,x,b);if(Rr(x))return y(p,u,x,b);qn(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,u!==null&&u.tag===6?(n(p,u.sibling),u=l(u,x),u.return=p,p=u):(n(p,u),u=jl(x,p.mode,b),u.return=p,p=u),i(p)):n(p,u)}return h}var zr=Gc(!0),Jc=Gc(!1),Ns=Pt(null),_s=null,pr=null,Wa=null;function Qa(){Wa=pr=_s=null}function Ya(e){var t=Ns.current;G(Ns),e._currentValue=t}function na(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t){_s=e,Wa=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Re(e){var t=e._currentValue;if(Wa!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(_s===null)throw Error(L(308));pr=e,_s.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var $t=null;function Ka(e){$t===null?$t=[e]:$t.push(e)}function Zc(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Ka(t)):(n.next=l.next,l.next=n),t.interleaved=n,ct(e,s)}function ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ft=!1;function Xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function at(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,V&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,ct(e,n)}return l=s.interleaved,l===null?(t.next=t,Ka(s)):(t.next=l.next,l.next=t),s.interleaved=t,ct(e,n)}function es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Oa(e,n)}}function lo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ws(e,t,n,s){var l=e.updateQueue;ft=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,m=o.next;o.next=null,i===null?a=m:i.next=m,i=o;var N=e.alternate;N!==null&&(N=N.updateQueue,c=N.lastBaseUpdate,c!==i&&(c===null?N.firstBaseUpdate=m:c.next=m,N.lastBaseUpdate=o))}if(a!==null){var j=l.baseState;i=0,N=m=o=null,c=a;do{var g=c.lane,w=c.eventTime;if((s&g)===g){N!==null&&(N=N.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var d=e,y=c;switch(g=t,w=n,y.tag){case 1:if(d=y.payload,typeof d=="function"){j=d.call(w,j,g);break e}j=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=y.payload,g=typeof d=="function"?d.call(w,j,g):d,g==null)break e;j=te({},j,g);break e;case 2:ft=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[c]:g.push(c))}else w={eventTime:w,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},N===null?(m=N=w,o=j):N=N.next=w,i|=g;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;g=c,c=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(1);if(N===null&&(o=j),l.baseState=o,l.firstBaseUpdate=m,l.lastBaseUpdate=N,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Gt|=i,e.lanes=i,e.memoizedState=j}}function ao(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(L(191,l));l.call(s)}}}var zn={},et=Pt(zn),yn=Pt(zn),vn=Pt(zn);function Ut(e){if(e===zn)throw Error(L(174));return e}function Ga(e,t){switch(K(vn,t),K(yn,e),K(et,zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Il(t,e)}G(et),K(et,t)}function Tr(){G(et),G(yn),G(vn)}function tu(e){Ut(vn.current);var t=Ut(et.current),n=Il(t,e.type);t!==n&&(K(yn,e),K(et,n))}function Ja(e){yn.current===e&&(G(et),G(yn))}var Z=Pt(0);function bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function Za(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var ts=mt.ReactCurrentDispatcher,fl=mt.ReactCurrentBatchConfig,Xt=0,ee=null,le=null,ie=null,ks=!1,en=!1,jn=0,pp=0;function me(){throw Error(L(321))}function ei(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}function ti(e,t,n,s,l,a){if(Xt=a,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ts.current=e===null||e.memoizedState===null?gp:yp,e=n(s,l),en){a=0;do{if(en=!1,jn=0,25<=a)throw Error(L(301));a+=1,ie=le=null,t.updateQueue=null,ts.current=vp,e=n(s,l)}while(en)}if(ts.current=Ss,t=le!==null&&le.next!==null,Xt=0,ie=le=ee=null,ks=!1,t)throw Error(L(300));return e}function ri(){var e=jn!==0;return jn=0,e}function Xe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?ee.memoizedState=ie=e:ie=ie.next=e,ie}function Ie(){if(le===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ie===null?ee.memoizedState:ie.next;if(t!==null)ie=t,le=e;else{if(e===null)throw Error(L(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ie===null?ee.memoizedState=ie=e:ie=ie.next=e}return ie}function Nn(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=Ie(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=le,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var c=i=null,o=null,m=a;do{var N=m.lane;if((Xt&N)===N)o!==null&&(o=o.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var j={lane:N,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};o===null?(c=o=j,i=s):o=o.next=j,ee.lanes|=N,Gt|=N}m=m.next}while(m!==null&&m!==a);o===null?i=s:o.next=c,Qe(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=o,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,ee.lanes|=a,Gt|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gl(e){var t=Ie(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);Qe(a,t.memoizedState)||(Ne=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function ru(){}function nu(e,t){var n=ee,s=Ie(),l=t(),a=!Qe(s.memoizedState,l);if(a&&(s.memoizedState=l,Ne=!0),s=s.queue,ni(au.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,_n(9,lu.bind(null,n,s,l,t),void 0,null),oe===null)throw Error(L(349));Xt&30||su(n,t,l)}return l}function su(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lu(e,t,n,s){t.value=n,t.getSnapshot=s,iu(t)&&ou(e)}function au(e,t,n){return n(function(){iu(t)&&ou(e)})}function iu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qe(e,n)}catch{return!0}}function ou(e){var t=ct(e,1);t!==null&&We(t,e,1,-1)}function io(e){var t=Xe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t.queue=e,e=e.dispatch=hp.bind(null,ee,e),[t.memoizedState,e]}function _n(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function cu(){return Ie().memoizedState}function rs(e,t,n,s){var l=Xe();ee.flags|=e,l.memoizedState=_n(1|t,n,void 0,s===void 0?null:s)}function $s(e,t,n,s){var l=Ie();s=s===void 0?null:s;var a=void 0;if(le!==null){var i=le.memoizedState;if(a=i.destroy,s!==null&&ei(s,i.deps)){l.memoizedState=_n(t,n,a,s);return}}ee.flags|=e,l.memoizedState=_n(1|t,n,a,s)}function oo(e,t){return rs(8390656,8,e,t)}function ni(e,t){return $s(2048,8,e,t)}function uu(e,t){return $s(4,2,e,t)}function du(e,t){return $s(4,4,e,t)}function mu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pu(e,t,n){return n=n!=null?n.concat([e]):null,$s(4,4,mu.bind(null,t,e),n)}function si(){}function xu(e,t){var n=Ie();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ei(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function fu(e,t){var n=Ie();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ei(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function hu(e,t,n){return Xt&21?(Qe(n,t)||(n=Nc(),ee.lanes|=n,Gt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n)}function xp(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var s=fl.transition;fl.transition={};try{e(!1),t()}finally{W=n,fl.transition=s}}function gu(){return Ie().memoizedState}function fp(e,t,n){var s=St(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},yu(e))vu(t,n);else if(n=Zc(e,t,n,s),n!==null){var l=ge();We(n,e,s,l),ju(n,t,s)}}function hp(e,t,n){var s=St(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(yu(e))vu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,n);if(l.hasEagerState=!0,l.eagerState=c,Qe(c,i)){var o=t.interleaved;o===null?(l.next=l,Ka(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=Zc(e,t,l,s),n!==null&&(l=ge(),We(n,e,s,l),ju(n,t,s))}}function yu(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function vu(e,t){en=ks=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ju(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Oa(e,n)}}var Ss={readContext:Re,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},gp={readContext:Re,useCallback:function(e,t){return Xe().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:oo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rs(4194308,4,mu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return rs(4,2,e,t)},useMemo:function(e,t){var n=Xe();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Xe();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=fp.bind(null,ee,e),[s.memoizedState,e]},useRef:function(e){var t=Xe();return e={current:e},t.memoizedState=e},useState:io,useDebugValue:si,useDeferredValue:function(e){return Xe().memoizedState=e},useTransition:function(){var e=io(!1),t=e[0];return e=xp.bind(null,e[1]),Xe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ee,l=Xe();if(J){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),oe===null)throw Error(L(349));Xt&30||su(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,oo(au.bind(null,s,a,e),[e]),s.flags|=2048,_n(9,lu.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Xe(),t=oe.identifierPrefix;if(J){var n=st,s=nt;n=(s&~(1<<32-He(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=jn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yp={readContext:Re,useCallback:xu,useContext:Re,useEffect:ni,useImperativeHandle:pu,useInsertionEffect:uu,useLayoutEffect:du,useMemo:fu,useReducer:hl,useRef:cu,useState:function(){return hl(Nn)},useDebugValue:si,useDeferredValue:function(e){var t=Ie();return hu(t,le.memoizedState,e)},useTransition:function(){var e=hl(Nn)[0],t=Ie().memoizedState;return[e,t]},useMutableSource:ru,useSyncExternalStore:nu,useId:gu,unstable_isNewReconciler:!1},vp={readContext:Re,useCallback:xu,useContext:Re,useEffect:ni,useImperativeHandle:pu,useInsertionEffect:uu,useLayoutEffect:du,useMemo:fu,useReducer:gl,useRef:cu,useState:function(){return gl(Nn)},useDebugValue:si,useDeferredValue:function(e){var t=Ie();return le===null?t.memoizedState=e:hu(t,le.memoizedState,e)},useTransition:function(){var e=gl(Nn)[0],t=Ie().memoizedState;return[e,t]},useMutableSource:ru,useSyncExternalStore:nu,useId:gu,unstable_isNewReconciler:!1};function Ue(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sa(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ge(),l=St(e),a=at(s,l);a.payload=t,n!=null&&(a.callback=n),t=bt(e,a,l),t!==null&&(We(t,e,l,s),es(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ge(),l=St(e),a=at(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=bt(e,a,l),t!==null&&(We(t,e,l,s),es(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ge(),s=St(e),l=at(n,s);l.tag=2,t!=null&&(l.callback=t),t=bt(e,l,s),t!==null&&(We(t,e,s,n),es(t,e,s))}};function co(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!xn(n,s)||!xn(l,a):!0}function Nu(e,t,n){var s=!1,l=Tt,a=t.contextType;return typeof a=="object"&&a!==null?a=Re(a):(l=we(t)?Yt:fe.current,s=t.contextTypes,a=(s=s!=null)?Cr(e,l):Tt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Us,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function uo(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function la(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Xa(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Re(a):(a=we(t)?Yt:fe.current,l.context=Cr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sa(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Us.enqueueReplaceState(l,l.state,null),ws(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Lr(e,t){try{var n="",s=t;do n+=Qd(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jp=typeof WeakMap=="function"?WeakMap:Map;function _u(e,t,n){n=at(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Es||(Es=!0,ha=s),aa(e,t)},n}function wu(e,t,n){n=at(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){aa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){aa(e,t),typeof s!="function"&&(kt===null?kt=new Set([this]):kt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function mo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new jp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Mp.bind(null,e,t,n),t.then(e,e))}function po(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xo(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=at(-1,1),t.tag=2,bt(n,t,1))),n.lanes|=1),e)}var Np=mt.ReactCurrentOwner,Ne=!1;function he(e,t,n,s){t.child=e===null?Jc(t,null,n,s):zr(t,e.child,n,s)}function fo(e,t,n,s,l){n=n.render;var a=t.ref;return Nr(t,l),s=ti(e,t,n,s,a,l),n=ri(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ut(e,t,l)):(J&&n&&qa(t),t.flags|=1,he(e,t,s,l),t.child)}function ho(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!mi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,bu(e,t,a,s,l)):(e=as(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:xn,n(i,s)&&e.ref===t.ref)return ut(e,t,l)}return t.flags|=1,e=Ct(a,s),e.ref=t.ref,e.return=t,t.child=e}function bu(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(xn(a,s)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,ut(e,t,l)}return ia(e,t,n,s,l)}function ku(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(fr,ke),ke|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(fr,ke),ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,K(fr,ke),ke|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,K(fr,ke),ke|=s;return he(e,t,l,n),t.child}function Su(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,s,l){var a=we(n)?Yt:fe.current;return a=Cr(t,a),Nr(t,l),n=ti(e,t,n,s,a,l),s=ri(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ut(e,t,l)):(J&&s&&qa(t),t.flags|=1,he(e,t,n,l),t.child)}function go(e,t,n,s,l){if(we(n)){var a=!0;ys(t)}else a=!1;if(Nr(t,l),t.stateNode===null)ns(e,t),Nu(t,n,s),la(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=Re(m):(m=we(n)?Yt:fe.current,m=Cr(t,m));var N=n.getDerivedStateFromProps,j=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function";j||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==m)&&uo(t,i,s,m),ft=!1;var g=t.memoizedState;i.state=g,ws(t,s,i,l),o=t.memoizedState,c!==s||g!==o||_e.current||ft?(typeof N=="function"&&(sa(t,n,N,s),o=t.memoizedState),(c=ft||co(t,n,c,s,g,o,m))?(j||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=m,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,eu(e,t),c=t.memoizedProps,m=t.type===t.elementType?c:Ue(t.type,c),i.props=m,j=t.pendingProps,g=i.context,o=n.contextType,typeof o=="object"&&o!==null?o=Re(o):(o=we(n)?Yt:fe.current,o=Cr(t,o));var w=n.getDerivedStateFromProps;(N=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==j||g!==o)&&uo(t,i,s,o),ft=!1,g=t.memoizedState,i.state=g,ws(t,s,i,l);var d=t.memoizedState;c!==j||g!==d||_e.current||ft?(typeof w=="function"&&(sa(t,n,w,s),d=t.memoizedState),(m=ft||co(t,n,m,s,g,d,o)||!1)?(N||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,d,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,d,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=o,s=m):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return oa(e,t,n,s,a,l)}function oa(e,t,n,s,l,a){Su(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&to(t,n,!1),ut(e,t,a);s=t.stateNode,Np.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=zr(t,e.child,null,a),t.child=zr(t,null,c,a)):he(e,t,c,a),t.memoizedState=s.state,l&&to(t,n,!0),t.child}function Cu(e){var t=e.stateNode;t.pendingContext?eo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eo(e,t.context,!1),Ga(e,t.containerInfo)}function yo(e,t,n,s,l){return Er(),Ha(l),t.flags|=256,he(e,t,n,s),t.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eu(e,t,n){var s=t.pendingProps,l=Z.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),K(Z,l&1),e===null)return ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Vs(i,s,0,null),e=Vt(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ua(n),t.memoizedState=ca,e):li(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return _p(e,t,i,s,c,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,c=l.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=Ct(l,o),s.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=Ct(c,a):(a=Vt(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?ua(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ca,s}return a=e.child,e=a.sibling,s=Ct(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function li(e,t){return t=Vs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vn(e,t,n,s){return s!==null&&Ha(s),zr(t,e.child,null,n),e=li(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _p(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=yl(Error(L(422))),Vn(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Vs({mode:"visible",children:s.children},l,0,null),a=Vt(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&zr(t,e.child,null,i),t.child.memoizedState=ua(i),t.memoizedState=ca,a);if(!(t.mode&1))return Vn(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(L(419)),s=yl(a,s,void 0),Vn(e,t,i,s)}if(c=(i&e.childLanes)!==0,Ne||c){if(s=oe,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,ct(e,l),We(s,e,l,-1))}return di(),s=yl(Error(L(421))),Vn(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Op.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Se=wt(l.nextSibling),Ee=t,J=!0,qe=null,e!==null&&(De[Pe++]=nt,De[Pe++]=st,De[Pe++]=Kt,nt=e.id,st=e.overflow,Kt=t),t=li(t,s.children),t.flags|=4096,t)}function vo(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),na(e.return,t,n)}function vl(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function zu(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(he(e,t,s.children,n),s=Z.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vo(e,n,t);else if(e.tag===19)vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(K(Z,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&bs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),vl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&bs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}vl(t,!0,n,null,a);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Ct(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ct(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wp(e,t,n){switch(t.tag){case 3:Cu(t),Er();break;case 5:tu(t);break;case 1:we(t.type)&&ys(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;K(Ns,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(K(Z,Z.current&1),t.flags|=128,null):n&t.child.childLanes?Eu(e,t,n):(K(Z,Z.current&1),e=ut(e,t,n),e!==null?e.sibling:null);K(Z,Z.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return zu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(Z,Z.current),s)break;return null;case 22:case 23:return t.lanes=0,ku(e,t,n)}return ut(e,t,n)}var Tu,da,Lu,Du;Tu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};da=function(){};Lu=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Ut(et.current);var a=null;switch(n){case"input":l=Pl(e,l),s=Pl(e,s),a=[];break;case"select":l=te({},l,{value:void 0}),s=te({},s,{value:void 0}),a=[];break;case"textarea":l=Rl(e,l),s=Rl(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hs)}Fl(n,s);var i;n=null;for(m in l)if(!s.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var c=l[m];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(an.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in s){var o=s[m];if(c=l!=null?l[m]:void 0,s.hasOwnProperty(m)&&o!==c&&(o!=null||c!=null))if(m==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(n||(n={}),n[i]=o[i])}else n||(a||(a=[]),a.push(m,n)),n=o;else m==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(m,o)):m==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(m,""+o):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(an.hasOwnProperty(m)?(o!=null&&m==="onScroll"&&X("scroll",e),a||c===o||(a=[])):(a=a||[]).push(m,o))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};Du=function(e,t,n,s){n!==s&&(t.flags|=4)};function Br(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function bp(e,t,n){var s=t.pendingProps;switch(Va(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return we(t.type)&&gs(),pe(t),null;case 3:return s=t.stateNode,Tr(),G(_e),G(fe),Za(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qe!==null&&(va(qe),qe=null))),da(e,t),pe(t),null;case 5:Ja(t);var l=Ut(vn.current);if(n=t.type,e!==null&&t.stateNode!=null)Lu(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(L(166));return pe(t),null}if(e=Ut(et.current),Bn(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Ge]=t,s[gn]=a,e=(t.mode&1)!==0,n){case"dialog":X("cancel",s),X("close",s);break;case"iframe":case"object":case"embed":X("load",s);break;case"video":case"audio":for(l=0;l<Qr.length;l++)X(Qr[l],s);break;case"source":X("error",s);break;case"img":case"image":case"link":X("error",s),X("load",s);break;case"details":X("toggle",s);break;case"input":Ci(s,a),X("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},X("invalid",s);break;case"textarea":zi(s,a),X("invalid",s)}Fl(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Un(s.textContent,c,e),l=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Un(s.textContent,c,e),l=["children",""+c]):an.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&X("scroll",s)}switch(n){case"input":Pn(s),Ei(s,a,!0);break;case"textarea":Pn(s),Ti(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=hs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ac(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[Ge]=t,e[gn]=s,Tu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Al(n,s),n){case"dialog":X("cancel",e),X("close",e),l=s;break;case"iframe":case"object":case"embed":X("load",e),l=s;break;case"video":case"audio":for(l=0;l<Qr.length;l++)X(Qr[l],e);l=s;break;case"source":X("error",e),l=s;break;case"img":case"image":case"link":X("error",e),X("load",e),l=s;break;case"details":X("toggle",e),l=s;break;case"input":Ci(e,s),l=Pl(e,s),X("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=te({},s,{value:void 0}),X("invalid",e);break;case"textarea":zi(e,s),l=Rl(e,s),X("invalid",e);break;default:l=s}Fl(n,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?cc(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ic(e,o)):a==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&on(e,o):typeof o=="number"&&on(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(an.hasOwnProperty(a)?o!=null&&a==="onScroll"&&X("scroll",e):o!=null&&za(e,a,o,i))}switch(n){case"input":Pn(e),Ei(e,s,!1);break;case"textarea":Pn(e),Ti(e);break;case"option":s.value!=null&&e.setAttribute("value",""+zt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?gr(e,!!s.multiple,a,!1):s.defaultValue!=null&&gr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=hs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)Du(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(L(166));if(n=Ut(vn.current),Ut(et.current),Bn(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ge]=t,(a=s.nodeValue!==n)&&(e=Ee,e!==null))switch(e.tag){case 3:Un(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Un(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ge]=t,t.stateNode=s}return pe(t),null;case 13:if(G(Z),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Se!==null&&t.mode&1&&!(t.flags&128))Xc(),Er(),t.flags|=98560,a=!1;else if(a=Bn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[Ge]=t}else Er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),a=!1}else qe!==null&&(va(qe),qe=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ae===0&&(ae=3):di())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Tr(),da(e,t),e===null&&fn(t.stateNode.containerInfo),pe(t),null;case 10:return Ya(t.type._context),pe(t),null;case 17:return we(t.type)&&gs(),pe(t),null;case 19:if(G(Z),a=t.memoizedState,a===null)return pe(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Br(a,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=bs(e),i!==null){for(t.flags|=128,Br(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(Z,Z.current&1|2),t.child}e=e.sibling}a.tail!==null&&ne()>Dr&&(t.flags|=128,s=!0,Br(a,!1),t.lanes=4194304)}else{if(!s)if(e=bs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Br(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!J)return pe(t),null}else 2*ne()-a.renderingStartTime>Dr&&n!==1073741824&&(t.flags|=128,s=!0,Br(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ne(),t.sibling=null,n=Z.current,K(Z,s?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return ui(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ke&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function kp(e,t){switch(Va(t),t.tag){case 1:return we(t.type)&&gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),G(_e),G(fe),Za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ja(t),null;case 13:if(G(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Z),null;case 4:return Tr(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return ui(),null;case 24:return null;default:return null}}var Hn=!1,xe=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,O=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){re(e,t,s)}else n.current=null}function ma(e,t,n){try{n()}catch(s){re(e,t,s)}}var jo=!1;function Cp(e,t){if(Kl=ps,e=Ic(),Ba(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,m=0,N=0,j=e,g=null;t:for(;;){for(var w;j!==n||l!==0&&j.nodeType!==3||(c=i+l),j!==a||s!==0&&j.nodeType!==3||(o=i+s),j.nodeType===3&&(i+=j.nodeValue.length),(w=j.firstChild)!==null;)g=j,j=w;for(;;){if(j===e)break t;if(g===n&&++m===l&&(c=i),g===a&&++N===s&&(o=i),(w=j.nextSibling)!==null)break;j=g,g=j.parentNode}j=w}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xl={focusedElem:e,selectionRange:n},ps=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var d=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var y=d.memoizedProps,h=d.memoizedState,p=t.stateNode,u=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ue(t.type,y),h);p.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){re(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return d=jo,jo=!1,d}function tn(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&ma(t,n,a)}l=l.next}while(l!==s)}}function Bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pu(e){var t=e.alternate;t!==null&&(e.alternate=null,Pu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ge],delete t[gn],delete t[Zl],delete t[cp],delete t[up])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mu(e){return e.tag===5||e.tag===3||e.tag===4}function No(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hs));else if(s!==4&&(e=e.child,e!==null))for(xa(e,t,n),e=e.sibling;e!==null;)xa(e,t,n),e=e.sibling}function fa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(fa(e,t,n),e=e.sibling;e!==null;)fa(e,t,n),e=e.sibling}var ce=null,Be=!1;function pt(e,t,n){for(n=n.child;n!==null;)Ou(e,t,n),n=n.sibling}function Ou(e,t,n){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Ms,n)}catch{}switch(n.tag){case 5:xe||xr(n,t);case 6:var s=ce,l=Be;ce=null,pt(e,t,n),ce=s,Be=l,ce!==null&&(Be?(e=ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(Be?(e=ce,n=n.stateNode,e.nodeType===8?ml(e.parentNode,n):e.nodeType===1&&ml(e,n),mn(e)):ml(ce,n.stateNode));break;case 4:s=ce,l=Be,ce=n.stateNode.containerInfo,Be=!0,pt(e,t,n),ce=s,Be=l;break;case 0:case 11:case 14:case 15:if(!xe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ma(n,t,i),l=l.next}while(l!==s)}pt(e,t,n);break;case 1:if(!xe&&(xr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){re(n,t,c)}pt(e,t,n);break;case 21:pt(e,t,n);break;case 22:n.mode&1?(xe=(s=xe)||n.memoizedState!==null,pt(e,t,n),xe=s):pt(e,t,n);break;default:pt(e,t,n)}}function _o(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sp),t.forEach(function(s){var l=Rp.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function $e(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:ce=c.stateNode,Be=!1;break e;case 3:ce=c.stateNode.containerInfo,Be=!0;break e;case 4:ce=c.stateNode.containerInfo,Be=!0;break e}c=c.return}if(ce===null)throw Error(L(160));Ou(a,i,l),ce=null,Be=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(m){re(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ru(t,e),t=t.sibling}function Ru(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($e(t,e),Ke(e),s&4){try{tn(3,e,e.return),Bs(3,e)}catch(y){re(e,e.return,y)}try{tn(5,e,e.return)}catch(y){re(e,e.return,y)}}break;case 1:$e(t,e),Ke(e),s&512&&n!==null&&xr(n,n.return);break;case 5:if($e(t,e),Ke(e),s&512&&n!==null&&xr(n,n.return),e.flags&32){var l=e.stateNode;try{on(l,"")}catch(y){re(e,e.return,y)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&sc(l,a),Al(c,i);var m=Al(c,a);for(i=0;i<o.length;i+=2){var N=o[i],j=o[i+1];N==="style"?cc(l,j):N==="dangerouslySetInnerHTML"?ic(l,j):N==="children"?on(l,j):za(l,N,j,m)}switch(c){case"input":Ml(l,a);break;case"textarea":lc(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?gr(l,!!a.multiple,w,!1):g!==!!a.multiple&&(a.defaultValue!=null?gr(l,!!a.multiple,a.defaultValue,!0):gr(l,!!a.multiple,a.multiple?[]:"",!1))}l[gn]=a}catch(y){re(e,e.return,y)}}break;case 6:if($e(t,e),Ke(e),s&4){if(e.stateNode===null)throw Error(L(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(y){re(e,e.return,y)}}break;case 3:if($e(t,e),Ke(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{mn(t.containerInfo)}catch(y){re(e,e.return,y)}break;case 4:$e(t,e),Ke(e);break;case 13:$e(t,e),Ke(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(oi=ne())),s&4&&_o(e);break;case 22:if(N=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(m=xe)||N,$e(t,e),xe=m):$e(t,e),Ke(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!N&&e.mode&1)for(O=e,N=e.child;N!==null;){for(j=O=N;O!==null;){switch(g=O,w=g.child,g.tag){case 0:case 11:case 14:case 15:tn(4,g,g.return);break;case 1:xr(g,g.return);var d=g.stateNode;if(typeof d.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(y){re(s,n,y)}}break;case 5:xr(g,g.return);break;case 22:if(g.memoizedState!==null){bo(j);continue}}w!==null?(w.return=g,O=w):bo(j)}N=N.sibling}e:for(N=null,j=e;;){if(j.tag===5){if(N===null){N=j;try{l=j.stateNode,m?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=j.stateNode,o=j.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=oc("display",i))}catch(y){re(e,e.return,y)}}}else if(j.tag===6){if(N===null)try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(y){re(e,e.return,y)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;N===j&&(N=null),j=j.return}N===j&&(N=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:$e(t,e),Ke(e),s&4&&_o(e);break;case 21:break;default:$e(t,e),Ke(e)}}function Ke(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mu(n)){var s=n;break e}n=n.return}throw Error(L(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(on(l,""),s.flags&=-33);var a=No(e);fa(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,c=No(e);xa(e,c,i);break;default:throw Error(L(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ep(e,t,n){O=e,Iu(e)}function Iu(e,t,n){for(var s=(e.mode&1)!==0;O!==null;){var l=O,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Hn;if(!i){var c=l.alternate,o=c!==null&&c.memoizedState!==null||xe;c=Hn;var m=xe;if(Hn=i,(xe=o)&&!m)for(O=l;O!==null;)i=O,o=i.child,i.tag===22&&i.memoizedState!==null?ko(l):o!==null?(o.return=i,O=o):ko(l);for(;a!==null;)O=a,Iu(a),a=a.sibling;O=l,Hn=c,xe=m}wo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,O=a):wo(e)}}function wo(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Bs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!xe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ue(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ao(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ao(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var N=m.memoizedState;if(N!==null){var j=N.dehydrated;j!==null&&mn(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}xe||t.flags&512&&pa(t)}catch(g){re(t,t.return,g)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function bo(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function ko(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bs(4,t)}catch(o){re(t,n,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(o){re(t,l,o)}}var a=t.return;try{pa(t)}catch(o){re(t,a,o)}break;case 5:var i=t.return;try{pa(t)}catch(o){re(t,i,o)}}}catch(o){re(t,t.return,o)}if(t===e){O=null;break}var c=t.sibling;if(c!==null){c.return=t.return,O=c;break}O=t.return}}var zp=Math.ceil,Cs=mt.ReactCurrentDispatcher,ai=mt.ReactCurrentOwner,Oe=mt.ReactCurrentBatchConfig,V=0,oe=null,se=null,ue=0,ke=0,fr=Pt(0),ae=0,wn=null,Gt=0,qs=0,ii=0,rn=null,je=null,oi=0,Dr=1/0,tt=null,Es=!1,ha=null,kt=null,Wn=!1,vt=null,zs=0,nn=0,ga=null,ss=-1,ls=0;function ge(){return V&6?ne():ss!==-1?ss:ss=ne()}function St(e){return e.mode&1?V&2&&ue!==0?ue&-ue:mp.transition!==null?(ls===0&&(ls=Nc()),ls):(e=W,e!==0||(e=window.event,e=e===void 0?16:Ec(e.type)),e):1}function We(e,t,n,s){if(50<nn)throw nn=0,ga=null,Error(L(185));Sn(e,n,s),(!(V&2)||e!==oe)&&(e===oe&&(!(V&2)&&(qs|=n),ae===4&&gt(e,ue)),be(e,s),n===1&&V===0&&!(t.mode&1)&&(Dr=ne()+500,As&&Mt()))}function be(e,t){var n=e.callbackNode;mm(e,t);var s=ms(e,e===oe?ue:0);if(s===0)n!==null&&Pi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Pi(n),t===1)e.tag===0?dp(So.bind(null,e)):Qc(So.bind(null,e)),ip(function(){!(V&6)&&Mt()}),n=null;else{switch(_c(s)){case 1:n=Ma;break;case 4:n=vc;break;case 16:n=ds;break;case 536870912:n=jc;break;default:n=ds}n=Hu(n,Fu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fu(e,t){if(ss=-1,ls=0,V&6)throw Error(L(327));var n=e.callbackNode;if(_r()&&e.callbackNode!==n)return null;var s=ms(e,e===oe?ue:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ts(e,s);else{t=s;var l=V;V|=2;var a=$u();(oe!==e||ue!==t)&&(tt=null,Dr=ne()+500,qt(e,t));do try{Dp();break}catch(c){Au(e,c)}while(1);Qa(),Cs.current=a,V=l,se!==null?t=0:(oe=null,ue=0,t=ae)}if(t!==0){if(t===2&&(l=Vl(e),l!==0&&(s=l,t=ya(e,l))),t===1)throw n=wn,qt(e,0),gt(e,s),be(e,ne()),n;if(t===6)gt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Tp(l)&&(t=Ts(e,s),t===2&&(a=Vl(e),a!==0&&(s=a,t=ya(e,a))),t===1))throw n=wn,qt(e,0),gt(e,s),be(e,ne()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(L(345));case 2:It(e,je,tt);break;case 3:if(gt(e,s),(s&130023424)===s&&(t=oi+500-ne(),10<t)){if(ms(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ge(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Jl(It.bind(null,e,je,tt),t);break}It(e,je,tt);break;case 4:if(gt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-He(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=ne()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*zp(s/1960))-s,10<s){e.timeoutHandle=Jl(It.bind(null,e,je,tt),s);break}It(e,je,tt);break;case 5:It(e,je,tt);break;default:throw Error(L(329))}}}return be(e,ne()),e.callbackNode===n?Fu.bind(null,e):null}function ya(e,t){var n=rn;return e.current.memoizedState.isDehydrated&&(qt(e,t).flags|=256),e=Ts(e,t),e!==2&&(t=je,je=n,t!==null&&va(t)),e}function va(e){je===null?je=e:je.push.apply(je,e)}function Tp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!Qe(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gt(e,t){for(t&=~ii,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-He(t),s=1<<n;e[n]=-1,t&=~s}}function So(e){if(V&6)throw Error(L(327));_r();var t=ms(e,0);if(!(t&1))return be(e,ne()),null;var n=Ts(e,t);if(e.tag!==0&&n===2){var s=Vl(e);s!==0&&(t=s,n=ya(e,s))}if(n===1)throw n=wn,qt(e,0),gt(e,t),be(e,ne()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,It(e,je,tt),be(e,ne()),null}function ci(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Dr=ne()+500,As&&Mt())}}function Jt(e){vt!==null&&vt.tag===0&&!(V&6)&&_r();var t=V;V|=1;var n=Oe.transition,s=W;try{if(Oe.transition=null,W=1,e)return e()}finally{W=s,Oe.transition=n,V=t,!(V&6)&&Mt()}}function ui(){ke=fr.current,G(fr)}function qt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ap(n)),se!==null)for(n=se.return;n!==null;){var s=n;switch(Va(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gs();break;case 3:Tr(),G(_e),G(fe),Za();break;case 5:Ja(s);break;case 4:Tr();break;case 13:G(Z);break;case 19:G(Z);break;case 10:Ya(s.type._context);break;case 22:case 23:ui()}n=n.return}if(oe=e,se=e=Ct(e.current,null),ue=ke=t,ae=0,wn=null,ii=qs=Gt=0,je=rn=null,$t!==null){for(t=0;t<$t.length;t++)if(n=$t[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}$t=null}return e}function Au(e,t){do{var n=se;try{if(Qa(),ts.current=Ss,ks){for(var s=ee.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ks=!1}if(Xt=0,ie=le=ee=null,en=!1,jn=0,ai.current=null,n===null||n.return===null){ae=1,wn=t,se=null;break}e:{var a=e,i=n.return,c=n,o=t;if(t=ue,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=o,N=c,j=N.tag;if(!(N.mode&1)&&(j===0||j===11||j===15)){var g=N.alternate;g?(N.updateQueue=g.updateQueue,N.memoizedState=g.memoizedState,N.lanes=g.lanes):(N.updateQueue=null,N.memoizedState=null)}var w=po(i);if(w!==null){w.flags&=-257,xo(w,i,c,a,t),w.mode&1&&mo(a,m,t),t=w,o=m;var d=t.updateQueue;if(d===null){var y=new Set;y.add(o),t.updateQueue=y}else d.add(o);break e}else{if(!(t&1)){mo(a,m,t),di();break e}o=Error(L(426))}}else if(J&&c.mode&1){var h=po(i);if(h!==null){!(h.flags&65536)&&(h.flags|=256),xo(h,i,c,a,t),Ha(Lr(o,c));break e}}a=o=Lr(o,c),ae!==4&&(ae=2),rn===null?rn=[a]:rn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=_u(a,o,t);lo(a,p);break e;case 1:c=o;var u=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof u.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(kt===null||!kt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=wu(a,c,t);lo(a,b);break e}}a=a.return}while(a!==null)}Bu(n)}catch(f){t=f,se===n&&n!==null&&(se=n=n.return);continue}break}while(1)}function $u(){var e=Cs.current;return Cs.current=Ss,e===null?Ss:e}function di(){(ae===0||ae===3||ae===2)&&(ae=4),oe===null||!(Gt&268435455)&&!(qs&268435455)||gt(oe,ue)}function Ts(e,t){var n=V;V|=2;var s=$u();(oe!==e||ue!==t)&&(tt=null,qt(e,t));do try{Lp();break}catch(l){Au(e,l)}while(1);if(Qa(),V=n,Cs.current=s,se!==null)throw Error(L(261));return oe=null,ue=0,ae}function Lp(){for(;se!==null;)Uu(se)}function Dp(){for(;se!==null&&!nm();)Uu(se)}function Uu(e){var t=Vu(e.alternate,e,ke);e.memoizedProps=e.pendingProps,t===null?Bu(e):se=t,ai.current=null}function Bu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kp(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(n=bp(n,t,ke),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function It(e,t,n){var s=W,l=Oe.transition;try{Oe.transition=null,W=1,Pp(e,t,n,s)}finally{Oe.transition=l,W=s}return null}function Pp(e,t,n,s){do _r();while(vt!==null);if(V&6)throw Error(L(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(pm(e,a),e===oe&&(se=oe=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wn||(Wn=!0,Hu(ds,function(){return _r(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Oe.transition,Oe.transition=null;var i=W;W=1;var c=V;V|=4,ai.current=null,Cp(e,n),Ru(n,e),Zm(Xl),ps=!!Kl,Xl=Kl=null,e.current=n,Ep(n),sm(),V=c,W=i,Oe.transition=a}else e.current=n;if(Wn&&(Wn=!1,vt=e,zs=l),a=e.pendingLanes,a===0&&(kt=null),im(n.stateNode),be(e,ne()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Es)throw Es=!1,e=ha,ha=null,e;return zs&1&&e.tag!==0&&_r(),a=e.pendingLanes,a&1?e===ga?nn++:(nn=0,ga=e):nn=0,Mt(),null}function _r(){if(vt!==null){var e=_c(zs),t=Oe.transition,n=W;try{if(Oe.transition=null,W=16>e?16:e,vt===null)var s=!1;else{if(e=vt,vt=null,zs=0,V&6)throw Error(L(331));var l=V;for(V|=4,O=e.current;O!==null;){var a=O,i=a.child;if(O.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var m=c[o];for(O=m;O!==null;){var N=O;switch(N.tag){case 0:case 11:case 15:tn(8,N,a)}var j=N.child;if(j!==null)j.return=N,O=j;else for(;O!==null;){N=O;var g=N.sibling,w=N.return;if(Pu(N),N===m){O=null;break}if(g!==null){g.return=w,O=g;break}O=w}}}var d=a.alternate;if(d!==null){var y=d.child;if(y!==null){d.child=null;do{var h=y.sibling;y.sibling=null,y=h}while(y!==null)}}O=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,O=i;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:tn(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,O=p;break e}O=a.return}}var u=e.current;for(O=u;O!==null;){i=O;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,O=x;else e:for(i=u;O!==null;){if(c=O,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Bs(9,c)}}catch(f){re(c,c.return,f)}if(c===i){O=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,O=b;break e}O=c.return}}if(V=l,Mt(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Ms,e)}catch{}s=!0}return s}finally{W=n,Oe.transition=t}}return!1}function Co(e,t,n){t=Lr(n,t),t=_u(e,t,1),e=bt(e,t,1),t=ge(),e!==null&&(Sn(e,1,t),be(e,t))}function re(e,t,n){if(e.tag===3)Co(e,e,n);else for(;t!==null;){if(t.tag===3){Co(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(kt===null||!kt.has(s))){e=Lr(n,e),e=wu(t,e,1),t=bt(t,e,1),e=ge(),t!==null&&(Sn(t,1,e),be(t,e));break}}t=t.return}}function Mp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ge(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(ue&n)===n&&(ae===4||ae===3&&(ue&130023424)===ue&&500>ne()-oi?qt(e,0):ii|=n),be(e,t)}function qu(e,t){t===0&&(e.mode&1?(t=Rn,Rn<<=1,!(Rn&130023424)&&(Rn=4194304)):t=1);var n=ge();e=ct(e,t),e!==null&&(Sn(e,t,n),be(e,n))}function Op(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qu(e,n)}function Rp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(t),qu(e,n)}var Vu;Vu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)Ne=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ne=!1,wp(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,J&&t.flags&1048576&&Yc(t,js,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ns(e,t),e=t.pendingProps;var l=Cr(t,fe.current);Nr(t,n),l=ti(null,t,s,e,l,n);var a=ri();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,we(s)?(a=!0,ys(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Xa(t),l.updater=Us,t.stateNode=l,l._reactInternals=t,la(t,s,e,n),t=oa(null,t,s,!0,a,n)):(t.tag=0,J&&a&&qa(t),he(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Fp(s),e=Ue(s,e),l){case 0:t=ia(null,t,s,e,n);break e;case 1:t=go(null,t,s,e,n);break e;case 11:t=fo(null,t,s,e,n);break e;case 14:t=ho(null,t,s,Ue(s.type,e),n);break e}throw Error(L(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ue(s,l),ia(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ue(s,l),go(e,t,s,l,n);case 3:e:{if(Cu(t),e===null)throw Error(L(387));s=t.pendingProps,a=t.memoizedState,l=a.element,eu(e,t),ws(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Lr(Error(L(423)),t),t=yo(e,t,s,n,l);break e}else if(s!==l){l=Lr(Error(L(424)),t),t=yo(e,t,s,n,l);break e}else for(Se=wt(t.stateNode.containerInfo.firstChild),Ee=t,J=!0,qe=null,n=Jc(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),s===l){t=ut(e,t,n);break e}he(e,t,s,n)}t=t.child}return t;case 5:return tu(t),e===null&&ra(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Gl(s,l)?i=null:a!==null&&Gl(s,a)&&(t.flags|=32),Su(e,t),he(e,t,i,n),t.child;case 6:return e===null&&ra(t),null;case 13:return Eu(e,t,n);case 4:return Ga(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=zr(t,null,s,n):he(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ue(s,l),fo(e,t,s,l,n);case 7:return he(e,t,t.pendingProps,n),t.child;case 8:return he(e,t,t.pendingProps.children,n),t.child;case 12:return he(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,K(Ns,s._currentValue),s._currentValue=i,a!==null)if(Qe(a.value,i)){if(a.children===l.children&&!_e.current){t=ut(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(a.tag===1){o=at(-1,n&-n),o.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var N=m.pending;N===null?o.next=o:(o.next=N.next,N.next=o),m.pending=o}}a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),na(a.return,n,t),c.lanes|=n;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(L(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),na(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}he(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Nr(t,n),l=Re(l),s=s(l),t.flags|=1,he(e,t,s,n),t.child;case 14:return s=t.type,l=Ue(s,t.pendingProps),l=Ue(s.type,l),ho(e,t,s,l,n);case 15:return bu(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ue(s,l),ns(e,t),t.tag=1,we(s)?(e=!0,ys(t)):e=!1,Nr(t,n),Nu(t,s,l),la(t,s,l,n),oa(null,t,s,!0,e,n);case 19:return zu(e,t,n);case 22:return ku(e,t,n)}throw Error(L(156,t.tag))};function Hu(e,t){return yc(e,t)}function Ip(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(e,t,n,s){return new Ip(e,t,n,s)}function mi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fp(e){if(typeof e=="function")return mi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===La)return 11;if(e===Da)return 14}return 2}function Ct(e,t){var n=e.alternate;return n===null?(n=Me(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function as(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")mi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case lr:return Vt(n.children,l,a,t);case Ta:i=8,l|=8;break;case zl:return e=Me(12,n,t,l|2),e.elementType=zl,e.lanes=a,e;case Tl:return e=Me(13,n,t,l),e.elementType=Tl,e.lanes=a,e;case Ll:return e=Me(19,n,t,l),e.elementType=Ll,e.lanes=a,e;case tc:return Vs(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zo:i=10;break e;case ec:i=9;break e;case La:i=11;break e;case Da:i=14;break e;case xt:i=16,s=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Me(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function Vt(e,t,n,s){return e=Me(7,e,s,t),e.lanes=n,e}function Vs(e,t,n,s){return e=Me(22,e,s,t),e.elementType=tc,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return e=Me(6,e,null,t),e.lanes=n,e}function Nl(e,t,n){return t=Me(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ap(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function pi(e,t,n,s,l,a,i,c,o){return e=new Ap(e,t,n,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Me(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(a),e}function $p(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Wu(e){if(!e)return Tt;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(we(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(we(n))return Wc(e,n,t)}return t}function Qu(e,t,n,s,l,a,i,c,o){return e=pi(n,s,!0,e,l,a,i,c,o),e.context=Wu(null),n=e.current,s=ge(),l=St(n),a=at(s,l),a.callback=t??null,bt(n,a,l),e.current.lanes=l,Sn(e,l,s),be(e,s),e}function Hs(e,t,n,s){var l=t.current,a=ge(),i=St(l);return n=Wu(n),t.context===null?t.context=n:t.pendingContext=n,t=at(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=bt(l,t,i),e!==null&&(We(e,l,i,a),es(e,l,i)),i}function Ls(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xi(e,t){Eo(e,t),(e=e.alternate)&&Eo(e,t)}function Up(){return null}var Yu=typeof reportError=="function"?reportError:function(e){console.error(e)};function fi(e){this._internalRoot=e}Ws.prototype.render=fi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Hs(e,t,null,null)};Ws.prototype.unmount=fi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jt(function(){Hs(null,e,null,null)}),t[ot]=null}};function Ws(e){this._internalRoot=e}Ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=kc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ht.length&&t!==0&&t<ht[n].priority;n++);ht.splice(n,0,e),n===0&&Cc(e)}};function hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zo(){}function Bp(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var m=Ls(i);a.call(m)}}var i=Qu(t,s,e,0,null,!1,!1,"",zo);return e._reactRootContainer=i,e[ot]=i.current,fn(e.nodeType===8?e.parentNode:e),Jt(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var c=s;s=function(){var m=Ls(o);c.call(m)}}var o=pi(e,0,!1,null,null,!1,!1,"",zo);return e._reactRootContainer=o,e[ot]=o.current,fn(e.nodeType===8?e.parentNode:e),Jt(function(){Hs(t,o,n,s)}),o}function Ys(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var c=l;l=function(){var o=Ls(i);c.call(o)}}Hs(t,i,e,l)}else i=Bp(n,t,e,l,s);return Ls(i)}wc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wr(t.pendingLanes);n!==0&&(Oa(t,n|1),be(t,ne()),!(V&6)&&(Dr=ne()+500,Mt()))}break;case 13:Jt(function(){var s=ct(e,1);if(s!==null){var l=ge();We(s,e,1,l)}}),xi(e,1)}};Ra=function(e){if(e.tag===13){var t=ct(e,134217728);if(t!==null){var n=ge();We(t,e,134217728,n)}xi(e,134217728)}};bc=function(e){if(e.tag===13){var t=St(e),n=ct(e,t);if(n!==null){var s=ge();We(n,e,t,s)}xi(e,t)}};kc=function(){return W};Sc=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};Ul=function(e,t,n){switch(t){case"input":if(Ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Fs(s);if(!l)throw Error(L(90));nc(s),Ml(s,l)}}}break;case"textarea":lc(e,n);break;case"select":t=n.value,t!=null&&gr(e,!!n.multiple,t,!1)}};mc=ci;pc=Jt;var qp={usingClientEntryPoint:!1,Events:[En,cr,Fs,uc,dc,ci]},qr={findFiberByHostInstance:At,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vp={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hc(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||Up,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qn.isDisabled&&Qn.supportsFiber)try{Ms=Qn.inject(Vp),Ze=Qn}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qp;Te.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hi(t))throw Error(L(200));return $p(e,t,null,n)};Te.createRoot=function(e,t){if(!hi(e))throw Error(L(299));var n=!1,s="",l=Yu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=pi(e,1,!1,null,null,n,!1,s,l),e[ot]=t.current,fn(e.nodeType===8?e.parentNode:e),new fi(t)};Te.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=hc(t),e=e===null?null:e.stateNode,e};Te.flushSync=function(e){return Jt(e)};Te.hydrate=function(e,t,n){if(!Qs(t))throw Error(L(200));return Ys(null,e,t,!0,n)};Te.hydrateRoot=function(e,t,n){if(!hi(e))throw Error(L(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=Yu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Qu(t,null,e,1,n??null,l,!1,a,i),e[ot]=t.current,fn(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ws(t)};Te.render=function(e,t,n){if(!Qs(t))throw Error(L(200));return Ys(null,e,t,!1,n)};Te.unmountComponentAtNode=function(e){if(!Qs(e))throw Error(L(40));return e._reactRootContainer?(Jt(function(){Ys(null,null,e,!1,function(){e._reactRootContainer=null,e[ot]=null})}),!0):!1};Te.unstable_batchedUpdates=ci;Te.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Qs(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ys(e,t,n,!1,s)};Te.version="18.3.1-next-f1338f8080-20240426";function Ku(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ku)}catch(e){console.error(e)}}Ku(),Ko.exports=Te;var Hp=Ko.exports,To=Hp;Cl.createRoot=To.createRoot,Cl.hydrateRoot=To.hydrateRoot;const Wp={}.VITE_API_URL||window.location.origin,Qp=new Date().toLocaleString("ko-KR",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\. /g,"-").replace(/\.$/,"")+" KST",Yp=[{id:"dashboard",name:"대시보드",icon:"LayoutGrid",color:"text-blue-600"},{id:"workers",name:"근로자관리",icon:"Users",color:"text-purple-600"},{id:"health",name:"건강진단",icon:"Heart",color:"text-red-600"},{id:"environment",name:"작업환경측정",icon:"Activity",color:"text-green-600"},{id:"education",name:"보건교육",icon:"BookOpen",color:"text-indigo-600"},{id:"chemicals",name:"화학물질관리",icon:"FlaskConical",color:"text-yellow-600"},{id:"accidents",name:"산업재해",icon:"AlertTriangle",color:"text-orange-600"},{id:"unified-documents",name:"통합문서관리",icon:"FileText",color:"text-cyan-600"},{id:"reports",name:"종합보고서",icon:"BarChart3",color:"text-indigo-600"},{id:"monitoring",name:"실시간모니터링",icon:"MonitorDot",color:"text-pink-600"},{id:"settings",name:"시스템설정",icon:"Settings",color:"text-gray-600"}],ja=[{value:"regular",label:"정규직"},{value:"contract",label:"계약직"},{value:"temporary",label:"임시직"},{value:"daily",label:"일용직"}],Na=[{value:"construction",label:"건설"},{value:"electrical",label:"전기"},{value:"plumbing",label:"배관"},{value:"painting",label:"도장"},{value:"welding",label:"용접"},{value:"rebar",label:"철근"},{value:"concrete",label:"콘크리트"},{value:"masonry",label:"조적"},{value:"tiling",label:"타일"},{value:"waterproofing",label:"방수"}],Kp=[{value:"male",label:"남성"},{value:"female",label:"여성"}],_a=[{value:"normal",label:"정상"},{value:"caution",label:"주의"},{value:"observation",label:"관찰"},{value:"treatment",label:"치료"}],_l=[{value:"fall",label:"추락"},{value:"cut",label:"절단/베임"},{value:"burn",label:"화상"},{value:"collision",label:"충돌"},{value:"caught",label:"끼임"},{value:"electric_shock",label:"감전"},{value:"poisoning",label:"중독"}],Xp=[{value:"minor",label:"경미"},{value:"moderate",label:"중등도"},{value:"serious",label:"중대"},{value:"fatal",label:"사망"}],Gp=[{value:"low",label:"낮음"},{value:"medium",label:"보통"},{value:"high",label:"높음"},{value:"very_high",label:"매우 높음"}],Jp=[{value:"scheduled",label:"예정"},{value:"in_progress",label:"진행중"},{value:"completed",label:"완료"},{value:"cancelled",label:"취소"}],Lo={normal:"bg-green-100 text-green-800",caution:"bg-yellow-100 text-yellow-800",observation:"bg-orange-100 text-orange-800",treatment:"bg-red-100 text-red-800",adequate:"bg-green-100 text-green-800",inadequate:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",scheduled:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",current:"bg-green-100 text-green-800",expired:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",minor:"bg-yellow-100 text-yellow-800",moderate:"bg-orange-100 text-orange-800",serious:"bg-red-100 text-red-800",fatal:"bg-gray-900 text-white"};function Zp({isOpen:e,onClose:t,activeMenu:n,onMenuSelect:s}){return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),r.jsxs("aside",{className:`
        fixed left-0 top-0 h-full w-64 bg-gradient-to-b from-gray-900 to-gray-800 
        text-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
      `,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-green-400 bg-clip-text text-transparent",children:"SafeWork Pro"}),r.jsx("button",{onClick:t,className:"md:hidden text-gray-400 hover:text-white",children:r.jsx(Oo,{size:24})})]}),r.jsx("nav",{className:"mt-8 px-4",children:Yp.map(l=>{const a=Gu[l.icon];return r.jsxs("button",{onClick:()=>{s(l.id),t()},className:`
                  w-full flex items-center px-4 py-3 rounded-lg mb-2 transition-all duration-200
                  ${n===l.id?"bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg transform scale-105":"hover:bg-gray-700 hover:shadow-md"}
                `,children:[r.jsx(a,{size:20,className:`flex-shrink-0 ${n===l.id?"text-white":l.color}`}),r.jsx("span",{className:"ml-3 font-medium truncate",children:l.name})]},l.id)})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"건설업 보건관리 시스템"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"v1.0.0"})]})})]})]})}function ex({onMenuToggle:e}){return r.jsx("header",{className:"bg-white shadow-lg border-b border-gray-200",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:e,className:"md:hidden text-gray-500 hover:text-gray-700 focus:outline-none",children:r.jsx(Ju,{size:24})}),r.jsxs("div",{className:"ml-4 md:ml-0",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"SafeWork Pro"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Build: ",Qp]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 rounded-lg px-3 py-2",children:[r.jsx(Lt,{size:18,className:"text-gray-500"}),r.jsx("input",{type:"text",placeholder:"검색...",className:"ml-2 bg-transparent border-none focus:outline-none text-sm"})]}),r.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 transition-colors",children:[r.jsx(sn,{size:20}),r.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent("관리자")}&background=4F46E5&color=fff`,alt:"User",className:"h-8 w-8 rounded-full"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 hidden md:block",children:"관리자"})]})]})]})})})}function tx({children:e,sidebarOpen:t,setSidebarOpen:n,activeMenu:s,setActiveMenu:l}){return r.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx(Zp,{isOpen:t,onClose:()=>n(!1),activeMenu:s,onMenuSelect:l}),r.jsxs("div",{className:"flex-1 flex flex-col md:ml-64",children:[r.jsx(ex,{onMenuToggle:()=>n(!t)}),r.jsx("main",{className:"flex-1 overflow-y-auto",children:e})]})]})}function Do(){const[e,t]=E.useState({total_workers:0,special_exam_targets:0,health_exam_needed:0,accidents_this_month:0}),[n,s]=E.useState([]),[l,a]=E.useState(!0);E.useEffect(()=>{i()},[]);const i=async()=>{var c;try{a(!0);const o=window.location.origin+"/api/v1",m=await fetch(`${o}/workers/statistics/dashboard`);if(m.ok){const j=await m.json();t(j)}else console.warn("통계 API 호출 실패, 기본값 사용");const N=await fetch(`${o}/workers/?page=1&page_size=5`);if(N.ok){const g=((c=(await N.json()).items)==null?void 0:c.map((w,d)=>({id:w.id||d,description:`${w.name} - ${w.department||"부서미정"}`,time:new Date(w.hire_date).toLocaleDateString()||"날짜미정"})))||[];s(g)}}catch(o){console.error("대시보드 데이터 로드 실패:",o),s([])}finally{a(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"SafeWork Pro 대시보드"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"건설업 보건관리 시스템 통합 현황"})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"실시간 모니터링"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"전체 근로자"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-blue-300 h-8 w-16 rounded"}):e.total_workers}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(ln,{size:16,className:"text-blue-200 mr-1"}),r.jsx("span",{className:"text-blue-200 text-xs",children:"활성 관리 중"})]})]}),r.jsx("div",{className:"p-3 bg-blue-400 bg-opacity-50 rounded-full",children:r.jsx(Ds,{size:32,className:"text-white"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"특수건진 대상"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-purple-300 h-8 w-16 rounded"}):e.special_exam_targets}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(wr,{size:16,className:"text-purple-200 mr-1"}),r.jsx("span",{className:"text-purple-200 text-xs",children:"특별 관리"})]})]}),r.jsx("div",{className:"p-3 bg-purple-400 bg-opacity-50 rounded-full",children:r.jsx(Zu,{size:32,className:"text-white"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"건진 필요"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-emerald-300 h-8 w-16 rounded"}):e.health_exam_needed}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(br,{size:16,className:"text-emerald-200 mr-1"}),r.jsx("span",{className:"text-emerald-200 text-xs",children:"예약 대기"})]})]}),r.jsx("div",{className:"p-3 bg-emerald-400 bg-opacity-50 rounded-full",children:r.jsx(br,{size:32,className:"text-white"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-red-100 text-sm font-medium",children:"이달 재해"}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:l?r.jsx("div",{className:"animate-pulse bg-red-300 h-8 w-16 rounded"}):e.accidents_this_month}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(ed,{size:16,className:"text-red-200 mr-1"}),r.jsx("span",{className:"text-red-200 text-xs",children:"안전 모니터링"})]})]}),r.jsx("div",{className:"p-3 bg-red-400 bg-opacity-50 rounded-full",children:r.jsx(lt,{size:32,className:"text-white"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(Ce,{className:"mr-2 text-blue-600",size:24}),"최근 활동"]}),r.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:"실시간 업데이트"})]}),r.jsx("div",{className:"space-y-4",children:l?r.jsx("div",{className:"space-y-3",children:[1,2,3].map(c=>r.jsxs("div",{className:"animate-pulse flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mt-2"})]})]},c))}):n.length>0?n.map(c=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:c.description.charAt(0)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-800 truncate",children:c.description}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:c.time})]}),r.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"완료"})]},c.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wr,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("p",{className:"text-gray-500 text-lg",children:"활동 내역이 없습니다"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"새로운 활동이 있을 때 여기에 표시됩니다"})]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl shadow-lg p-6 border border-amber-200",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(lt,{className:"text-amber-600 mr-2",size:24}),r.jsx("h2",{className:"text-xl font-bold text-amber-800",children:"중요 알림"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-amber-500",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-amber-800 font-medium",children:"정기 안전교육"}),r.jsx("p",{className:"text-amber-700 text-sm mt-1",children:"다음 주 시작 예정"})]})]})}),r.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-800 font-medium",children:"작업환경측정"}),r.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"결과 확인 필요"})]})]})}),r.jsx("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-800 font-medium",children:"신규 건강검진"}),r.jsx("p",{className:"text-green-700 text-sm mt-1",children:"예약 완료 요청"})]})]})})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-amber-200",children:r.jsx("button",{className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-2 px-4 rounded-lg hover:from-amber-600 hover:to-orange-600 transition-colors font-medium",children:"모든 알림 보기"})})]})]})]})}function R({children:e,className:t="",title:n,subtitle:s,action:l}){return r.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow ${t}`,children:[(n||s||l)&&r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[n&&r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),s&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s})]}),l&&r.jsx("div",{children:l})]}),e]})}function I({children:e,variant:t="primary",size:n="md",icon:s,loading:l=!1,className:a="",disabled:i,...c}){const o={primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-500 text-white hover:bg-red-600",success:"bg-green-500 text-white hover:bg-green-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return r.jsxs("button",{className:`
        ${o[t]}
        ${m[n]}
        rounded-lg font-medium transition-all duration-200 
        flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed
        ${a}
      `,disabled:i||l,...c,children:[l?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):s,e]})}function Xu({columns:e,data:t,loading:n=!1,emptyMessage:s="데이터가 없습니다.",onRowClick:l}){return n?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):!t||t.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:s}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:e.map(a=>r.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${a.width||""}`,children:a.header},a.key))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(a=>r.jsx("tr",{onClick:()=>l==null?void 0:l(a),className:l?"hover:bg-gray-50 cursor-pointer":"",children:e.map(i=>r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:r.jsx("div",{className:"max-w-xs truncate",title:String(a[i.key]||""),children:i.render?i.render(a):a[i.key]})},i.key))},a.id))})]})})}function dt({isOpen:e,onClose:t,title:n,children:s,size:l="md"}){if(!e)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),r.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${a[l]} w-full`,children:[n&&r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:n}),r.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",children:r.jsx(Oo,{size:24})})]})}),r.jsx("div",{className:"px-6 py-4",children:s})]})]})})}function $({value:e,label:t,type:n}){const s=n&&Lo[n]?Lo[n]:"bg-gray-100 text-gray-800";return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s}`,children:t||e})}function Fe(){const[e,t]=E.useState(!1),[n,s]=E.useState(null);return{fetchApi:E.useCallback(async(a,i={})=>{const{params:c,...o}=i;try{t(!0),s(null);let m=`${Wp}/api/v1${a}`;if(c){const g=new URLSearchParams(c);m+=`?${g.toString()}`}const N=await fetch(m,{...o,headers:{"Content-Type":"application/json",...o.headers}});if(!N.ok)throw new Error(`API Error: ${N.status} ${N.statusText}`);return await N.json()}catch(m){const N=m instanceof Error?m.message:"알 수 없는 오류가 발생했습니다.";throw s(N),m}finally{t(!1)}},[]),loading:e,error:n}}function rx(){const[e,t]=E.useState([]),[n,s]=E.useState([]),[l,a]=E.useState([]),[i,c]=E.useState([]),[o,m]=E.useState(!1),[N,j]=E.useState(!0),[g,w]=E.useState(30),[d,y]=E.useState("1h"),{fetchApi:h}=Fe();E.useEffect(()=>{if(p(),N){const S=setInterval(p,g*1e3);return()=>clearInterval(S)}},[N,g]);const p=async()=>{m(!0);try{await Promise.all([u(),x(),b(),f()])}catch(S){console.error("Failed to load monitoring data:",S),C()}finally{m(!1)}},u=async()=>{try{const S=await h("/api/v1/monitoring/system-metrics");t(S||[])}catch(S){console.error("Failed to load system metrics:",S)}},x=async()=>{try{const S=await h("/api/v1/compliance/dashboard");s(S!=null&&S.category_analysis?Object.entries(S.category_analysis).map(([H,P])=>({category:H,total_rules:P.total,compliant:P.compliant,violations:P.violations,compliance_rate:P.total>0?P.compliant/P.total*100:0})):[])}catch(S){console.error("Failed to load compliance status:",S)}},b=async()=>{try{const S=await h("/api/v1/monitoring/alerts");a(S||[])}catch(S){console.error("Failed to load alerts:",S)}},f=async()=>{try{const S=await h(`/api/v1/monitoring/environment?range=${d}`);c(S||[])}catch(S){console.error("Failed to load environment data:",S)}},C=()=>{t([{id:"workers_online",name:"접속 중인 근로자",value:245,status:"normal",trend:"up",change:5},{id:"safety_score",name:"안전점수",value:94,unit:"%",status:"normal",trend:"stable"},{id:"health_compliance",name:"건강관리 준수율",value:87,unit:"%",status:"warning",trend:"down",change:-3},{id:"incident_rate",name:"사고발생률",value:.12,unit:"%",status:"normal",trend:"down",change:-.05},{id:"education_completion",name:"교육이수율",value:92,unit:"%",status:"normal",trend:"up",change:8},{id:"equipment_status",name:"장비가동률",value:98,unit:"%",status:"normal",trend:"stable"}]),s([{category:"health_exam",total_rules:5,compliant:4,violations:1,compliance_rate:80},{category:"education",total_rules:8,compliant:7,violations:1,compliance_rate:87.5},{category:"environment",total_rules:6,compliant:5,violations:1,compliance_rate:83.3},{category:"chemical",total_rules:4,compliant:3,violations:1,compliance_rate:75},{category:"safety",total_rules:10,compliant:9,violations:1,compliance_rate:90}]),a([{id:"1",type:"environment",severity:"high",title:"소음 기준 초과",message:"용접구역에서 소음 레벨이 85dB를 초과했습니다.",timestamp:new Date(Date.now()-5*6e4).toISOString(),acknowledged:!1,location:"용접구역 A동"},{id:"2",type:"compliance",severity:"medium",title:"특수건강진단 만료 임박",message:"3명의 근로자 특수건강진단이 1주일 내 만료됩니다.",timestamp:new Date(Date.now()-15*6e4).toISOString(),acknowledged:!1},{id:"3",type:"safety",severity:"critical",title:"보호구 미착용 감지",message:"안전모 미착용 근로자가 위험구역에서 감지되었습니다.",timestamp:new Date(Date.now()-2*6e4).toISOString(),acknowledged:!1,location:"크레인 작업구역"}]),c([{location:"용접구역",noise_level:87,dust_level:.15,temperature:28,humidity:65,air_quality:85,timestamp:new Date().toISOString()},{location:"절단구역",noise_level:82,dust_level:.08,temperature:26,humidity:60,air_quality:92,timestamp:new Date().toISOString()}])},_=async S=>{try{await h(`/api/v1/monitoring/alerts/${S}/acknowledge`,{method:"POST"}),a(H=>H.map(P=>P.id===S?{...P,acknowledged:!0}:P))}catch(H){console.error("Failed to acknowledge alert:",H)}},z=S=>{switch(S){case"normal":return"green";case"warning":return"yellow";case"critical":return"red";default:return"gray"}},B=S=>{switch(S){case"low":return"blue";case"medium":return"yellow";case"high":return"orange";case"critical":return"red";default:return"gray"}},k=S=>{switch(S){case"up":return r.jsx(ln,{size:16,className:"text-green-600"});case"down":return r.jsx(ln,{size:16,className:"text-red-600 rotate-180"});default:return r.jsx(Wt,{size:16,className:"text-gray-400"})}},F=S=>{switch(S){case"safety":return r.jsx(is,{size:16});case"health":return r.jsx(Ro,{size:16});case"environment":return r.jsx(gi,{size:16});case"compliance":return r.jsx(Ce,{size:16});case"system":return r.jsx(sd,{size:16});default:return r.jsx(kr,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"고도화된 실시간 모니터링"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"자동 새로고침:"}),r.jsx("input",{type:"checkbox",checked:N,onChange:S=>j(S.target.checked),className:"rounded"}),r.jsxs("select",{value:g,onChange:S=>w(Number(S.target.value)),disabled:!N,className:"text-sm border rounded px-2 py-1",children:[r.jsx("option",{value:10,children:"10초"}),r.jsx("option",{value:30,children:"30초"}),r.jsx("option",{value:60,children:"1분"}),r.jsx("option",{value:300,children:"5분"})]})]}),r.jsxs(I,{onClick:p,variant:"outline",children:[r.jsx(Et,{size:16,className:`mr-2 ${o?"animate-spin":""}`}),"새로고침"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(S=>r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:S.name}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[S.value,S.unit&&` ${S.unit}`]}),S.change!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[k(S.trend),r.jsxs("span",{className:`text-sm ${S.trend==="up"?"text-green-600":S.trend==="down"?"text-red-600":"text-gray-600"}`,children:[Math.abs(S.change),S.unit," 변화"]})]})]}),r.jsx($,{color:z(S.status),children:S.status==="normal"?"정상":S.status==="warning"?"주의":"위험"})]})},S.id))}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(sn,{className:"text-orange-600",size:20}),"실시간 알림"]}),r.jsxs($,{color:"red",children:[l.filter(S=>!S.acknowledged).length,"개 미확인"]})]}),r.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(S=>r.jsxs("div",{className:`
                flex items-center justify-between p-3 rounded-lg border-l-4
                ${S.acknowledged?"bg-gray-50 border-gray-300":S.severity==="critical"?"bg-red-50 border-red-500":S.severity==="high"?"bg-orange-50 border-orange-500":S.severity==="medium"?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}
              `,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`
                  p-2 rounded-full
                  ${S.severity==="critical"?"bg-red-100 text-red-600":S.severity==="high"?"bg-orange-100 text-orange-600":S.severity==="medium"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"}
                `,children:F(S.type)}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-medium ${S.acknowledged?"text-gray-600":"text-gray-900"}`,children:S.title}),r.jsx("p",{className:`text-sm ${S.acknowledged?"text-gray-500":"text-gray-700"}`,children:S.message}),r.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[r.jsx("span",{children:new Date(S.timestamp).toLocaleString()}),S.location&&r.jsxs("span",{children:["📍 ",S.location]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($,{color:B(S.severity),children:S.severity==="critical"?"긴급":S.severity==="high"?"높음":S.severity==="medium"?"보통":"낮음"}),!S.acknowledged&&r.jsx(I,{size:"sm",variant:"outline",onClick:()=>_(S.id),children:r.jsx(Ht,{size:14})})]})]},S.id))}),l.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ht,{className:"mx-auto h-12 w-12 text-green-400 mb-2"}),r.jsx("p",{children:"현재 활성 알림이 없습니다"})]})]}),r.jsxs(R,{className:"p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(is,{className:"text-blue-600",size:20}),"법령 준수 현황"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:n.map(S=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-2",children:r.jsx("div",{className:`
                  inline-flex items-center justify-center w-16 h-16 rounded-full
                  ${S.compliance_rate>=90?"bg-green-100 text-green-600":S.compliance_rate>=80?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}
                `,children:r.jsxs("span",{className:"text-lg font-bold",children:[S.compliance_rate.toFixed(0),"%"]})})}),r.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:S.category==="health_exam"?"건강진단":S.category==="education"?"안전교육":S.category==="environment"?"작업환경":S.category==="chemical"?"화학물질":S.category==="safety"?"안전관리":S.category}),r.jsxs("p",{className:"text-sm text-gray-600",children:[S.compliant,"/",S.total_rules," 준수"]}),S.violations>0&&r.jsxs($,{color:"red",className:"mt-1",children:[S.violations,"개 위반"]})]},S.category))})]}),r.jsxs(R,{className:"p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(wr,{className:"text-green-600",size:20}),"환경 모니터링"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((S,H)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:S.location}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(td,{size:16,className:"text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"소음"}),r.jsxs("p",{className:`font-medium ${S.noise_level>85?"text-red-600":"text-green-600"}`,children:[S.noise_level," dB"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{size:16,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"분진"}),r.jsxs("p",{className:"font-medium",children:[S.dust_level," mg/m³"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rd,{size:16,className:"text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"온도"}),r.jsxs("p",{className:"font-medium",children:[S.temperature,"°C"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wr,{size:16,className:"text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"공기질"}),r.jsxs("p",{className:"font-medium",children:[S.air_quality,"/100"]})]})]})]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["최근 업데이트: ",new Date(S.timestamp).toLocaleString()]})]},H))})]}),r.jsxs(R,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"빠른 작업"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(Ce,{className:"mb-2",size:24}),r.jsx("span",{children:"보고서 생성"})]}),r.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(nd,{className:"mb-2",size:24}),r.jsx("span",{children:"시스템 설정"})]}),r.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(bl,{className:"mb-2",size:24}),r.jsx("span",{children:"상세 분석"})]}),r.jsxs(I,{variant:"outline",className:"flex flex-col items-center p-4 h-auto",children:[r.jsx(sn,{className:"mb-2",size:24}),r.jsx("span",{children:"알림 설정"})]})]})]})]})}function nx({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){const[a,i]=E.useState({name:"",employee_id:"",gender:"",birth_date:"",phone:"",email:"",department:"",position:"",employment_type:"regular",work_type:"construction",hire_date:"",health_status:"normal",is_special_exam_target:!1,is_active:!0,notes:""});E.useEffect(()=>{s&&i(s)},[s]);const c=m=>{m.preventDefault(),n(a)},o=m=>{const{name:N,value:j,type:g}=m.target;i(g==="checkbox"?w=>({...w,[N]:m.target.checked}):w=>({...w,[N]:j}))};return r.jsx(dt,{isOpen:e,onClose:t,title:l==="create"?"근로자 등록":"근로자 정보 수정",size:"lg",children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["이름 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:a.name,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사번 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"employee_id",value:a.employee_id,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:l==="edit"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"성별"}),r.jsxs("select",{name:"gender",value:a.gender,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"선택"}),Kp.map(m=>r.jsx("option",{value:m.value,children:m.label},m.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생년월일"}),r.jsx("input",{type:"date",name:"birth_date",value:a.birth_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"연락처"}),r.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:o,placeholder:"010-0000-0000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"부서"}),r.jsx("input",{type:"text",name:"department",value:a.department,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"직책"}),r.jsx("input",{type:"text",name:"position",value:a.position,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["고용형태 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"employment_type",value:a.employment_type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:ja.map(m=>r.jsx("option",{value:m.value,children:m.label},m.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["작업유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"work_type",value:a.work_type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Na.map(m=>r.jsx("option",{value:m.value,children:m.label},m.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"입사일"}),r.jsx("input",{type:"date",name:"hire_date",value:a.hire_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"건강상태"}),r.jsx("select",{name:"health_status",value:a.health_status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:_a.map(m=>r.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"is_special_exam_target",checked:a.is_special_exam_target,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"특수건강진단 대상자"})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(I,{variant:"secondary",onClick:t,children:[r.jsx(bn,{size:16}),"취소"]}),r.jsx(I,{type:"submit",icon:r.jsx(Zt,{size:16}),children:l==="create"?"등록":"수정"})]})]})})}function sx(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(!1),[i,c]=E.useState("create"),[o,m]=E.useState(null),[N,j]=E.useState(""),[g,w]=E.useState({employment_type:"",work_type:"",health_status:""}),{fetchApi:d}=Fe();E.useEffect(()=>{y()},[g]);const y=async()=>{try{s(!0);const f=new URLSearchParams;N&&f.append("search",N),g.employment_type&&f.append("employment_type",g.employment_type),g.work_type&&f.append("work_type",g.work_type),g.health_status&&f.append("health_status",g.health_status);const C=await d(`/workers?${f}`);t(C.items)}catch(f){console.error("근로자 목록 조회 실패:",f)}finally{s(!1)}},h=()=>{c("create"),m(null),a(!0)},p=f=>{c("edit"),m(f),a(!0)},u=async f=>{if(confirm("정말 삭제하시겠습니까?"))try{console.log("Deleting worker:",f),t(C=>C.filter(_=>_.id!==f))}catch(C){console.error("근로자 삭제 실패:",C)}},x=async f=>{try{if(i==="create"){console.log("Creating worker:",f);const C={...f,id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};t(_=>[..._,C])}else o&&(console.log("Updating worker:",o.id,f),t(C=>C.map(_=>_.id===o.id?{..._,...f,updated_at:new Date().toISOString()}:_)));a(!1)}catch(C){console.error("근로자 저장 실패:",C)}},b=[{key:"name",header:"이름",render:f=>r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:f.name}),r.jsx("div",{className:"text-sm text-gray-500",children:f.employee_id})]})},{key:"department",header:"부서/직책",render:f=>r.jsxs("div",{children:[r.jsx("div",{children:f.department||"-"}),r.jsx("div",{className:"text-sm text-gray-500",children:f.position||"-"})]})},{key:"employment_type",header:"고용형태",render:f=>{const C=ja.find(_=>_.value===f.employment_type);return r.jsx($,{value:(C==null?void 0:C.label)||f.employment_type})}},{key:"work_type",header:"작업유형",render:f=>{const C=Na.find(_=>_.value===f.work_type);return(C==null?void 0:C.label)||f.work_type}},{key:"health_status",header:"건강상태",render:f=>{var C;return r.jsx($,{value:((C=_a.find(_=>_.value===f.health_status))==null?void 0:C.label)||f.health_status,type:f.health_status})}},{key:"actions",header:"관리",render:f=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>p(f),className:"text-blue-600 hover:text-blue-800",children:r.jsx(er,{size:16})}),r.jsx("button",{onClick:()=>u(f.id),className:"text-red-600 hover:text-red-800",children:r.jsx(Je,{size:16})})]})}];return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"근로자 관리"}),r.jsx(I,{onClick:h,icon:r.jsx(Ve,{size:16}),children:"근로자 등록"})]}),r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"이름, 사번으로 검색...",value:N,onChange:f=>j(f.target.value),onKeyPress:f=>f.key==="Enter"&&y(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:g.employment_type,onChange:f=>w(C=>({...C,employment_type:f.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"고용형태"}),ja.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))]}),r.jsxs("select",{value:g.work_type,onChange:f=>w(C=>({...C,work_type:f.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"작업유형"}),Na.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))]}),r.jsxs("select",{value:g.health_status,onChange:f=>w(C=>({...C,health_status:f.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"건강상태"}),_a.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))]}),r.jsx(I,{variant:"secondary",onClick:y,icon:r.jsx(Et,{size:16}),children:"새로고침"})]})]}),r.jsx(Xu,{columns:b,data:e,loading:n,emptyMessage:"등록된 근로자가 없습니다."})]})}),r.jsx(nx,{isOpen:l,onClose:()=>a(!1),onSubmit:x,initialData:o,mode:i})]})}const lx=[{value:"GENERAL",label:"일반건강진단"},{value:"SPECIAL",label:"특수건강진단"},{value:"EMPLOYMENT",label:"채용시건강진단"},{value:"PERIODIC",label:"정기건강진단"}],ax=[{value:"NORMAL",label:"정상"},{value:"OBSERVATION",label:"요관찰"},{value:"ABNORMAL",label:"유소견"},{value:"TREATMENT",label:"치료요구"}];function ix({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var w,d,y,h,p,u;const[a,i]=E.useState([]),[c,o]=E.useState({worker_id:0,exam_type:"GENERAL",exam_date:new Date().toISOString().split("T")[0],exam_result:"NORMAL",exam_institution:"",doctor_name:"",followup_required:"N",notes:"",vital_signs:{height:void 0,weight:void 0,blood_pressure_systolic:void 0,blood_pressure_diastolic:void 0,pulse:void 0,temperature:void 0},lab_results:[]}),{fetchApi:m}=Fe();E.useEffect(()=>{e&&N()},[e]),E.useEffect(()=>{o(s||{worker_id:0,exam_type:"GENERAL",exam_date:new Date().toISOString().split("T")[0],exam_result:"NORMAL",exam_institution:"",doctor_name:"",followup_required:"N",notes:"",vital_signs:{height:void 0,weight:void 0,blood_pressure_systolic:void 0,blood_pressure_diastolic:void 0,pulse:void 0,temperature:void 0},lab_results:[]})},[s]);const N=async()=>{try{const x=await m("/workers");i(x.items||[])}catch(x){console.error("근로자 목록 조회 실패:",x)}},j=x=>{if(x.preventDefault(),!c.worker_id||c.worker_id===0){alert("근로자를 선택해주세요.");return}const b=new Date(c.exam_date),f=new Date(b);c.exam_type==="SPECIAL"?f.setMonth(f.getMonth()+6):f.setFullYear(f.getFullYear()+1);const C={...c,next_exam_date:f.toISOString().split("T")[0]};n(C)},g=x=>{const{name:b,value:f}=x.target;if(b.startsWith("vital_")){const C=b.replace("vital_","");o(_=>({..._,vital_signs:{..._.vital_signs,[C]:f?Number(f):void 0}}))}else o(C=>({...C,[b]:b==="worker_id"?Number(f):f}))};return r.jsx(dt,{isOpen:e,onClose:t,title:l==="create"?"건강진단 등록":"건강진단 수정",size:"xl",children:r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(hr,{className:"mr-2",size:20}),"기본 정보"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["근로자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"worker_id",value:c.worker_id,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:l==="edit",children:[r.jsx("option",{value:0,children:"근로자 선택"}),a.map(x=>r.jsxs("option",{value:x.id,children:[x.name," (",x.employee_id,")"]},x.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["검진유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"exam_type",value:c.exam_type,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:lx.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["검진일자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"exam_date",value:c.exam_date,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["검진결과 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"exam_result",value:c.exam_result,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:ax.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"검진기관"}),r.jsx("input",{type:"text",name:"exam_institution",value:c.exam_institution,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"검진기관명"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"담당의사"}),r.jsx("input",{type:"text",name:"doctor_name",value:c.doctor_name,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"담당의사명"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"followup_required",checked:c.followup_required==="Y",onChange:x=>o(b=>({...b,followup_required:x.target.checked?"Y":"N"})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"사후관리 필요"})]})})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"생체징후"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"신장 (cm)"}),r.jsx("input",{type:"number",name:"vital_height",value:((w=c.vital_signs)==null?void 0:w.height)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"체중 (kg)"}),r.jsx("input",{type:"number",name:"vital_weight",value:((d=c.vital_signs)==null?void 0:d.weight)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"맥박 (bpm)"}),r.jsx("input",{type:"number",name:"vital_pulse",value:((y=c.vital_signs)==null?void 0:y.pulse)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"수축기 혈압 (mmHg)"}),r.jsx("input",{type:"number",name:"vital_blood_pressure_systolic",value:((h=c.vital_signs)==null?void 0:h.blood_pressure_systolic)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이완기 혈압 (mmHg)"}),r.jsx("input",{type:"number",name:"vital_blood_pressure_diastolic",value:((p=c.vital_signs)==null?void 0:p.blood_pressure_diastolic)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"체온 (°C)"}),r.jsx("input",{type:"number",name:"vital_temperature",value:((u=c.vital_signs)==null?void 0:u.temperature)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.1"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:c.notes,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"검진 결과 상세 내용, 주의사항 등"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsxs(I,{variant:"secondary",onClick:t,children:[r.jsx(bn,{size:16}),"취소"]}),r.jsx(I,{type:"submit",icon:r.jsx(Zt,{size:16}),children:l==="create"?"등록":"수정"})]})]})})}function ox(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState(!1),[o,m]=E.useState("create"),[N,j]=E.useState(null),{fetchApi:g}=Fe();E.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const f=await g("/health-exams");t(f.items||[])}catch(f){console.error("건강진단 목록 조회 실패:",f),t([])}finally{s(!1)}},d=()=>{m("create"),j(null),c(!0)},y=f=>{m("edit"),j(f),c(!0)},h=async f=>{if(confirm("정말 삭제하시겠습니까?"))try{await g(`/health-exams/${f}`,{method:"DELETE"}),await w()}catch(C){console.error("건강진단 삭제 실패:",C)}},p=async f=>{try{o==="create"?await g("/health-exams",{method:"POST",body:JSON.stringify(f)}):N&&await g(`/health-exams/${N.id}`,{method:"PUT",body:JSON.stringify(f)}),c(!1),await w()}catch(C){console.error("건강진단 저장 실패:",C)}},u=f=>{switch(f){case"정상":case"NORMAL":return"bg-green-100 text-green-800";case"요관찰":case"OBSERVATION":return"bg-yellow-100 text-yellow-800";case"유소견":case"ABNORMAL":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=f=>{switch(f){case"NORMAL":return"정상";case"OBSERVATION":return"요관찰";case"ABNORMAL":return"유소견";case"TREATMENT":return"치료요구";default:return f}},b=e.filter(f=>f.worker_name&&f.worker_name.toLowerCase().includes(l.toLowerCase())||f.exam_type.toLowerCase().includes(l.toLowerCase()));return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"건강진단 관리"}),r.jsxs(I,{onClick:d,className:"flex items-center gap-2",children:[r.jsx(Ve,{className:"w-4 h-4"}),"건강진단 등록"]})]}),r.jsx(R,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"근로자명 또는 진단유형으로 검색...",value:l,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx(I,{variant:"outline",onClick:w,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ce,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 건강진단"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"정상"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(f=>f.exam_result==="NORMAL"||f.exam_result==="정상").length})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(kr,{className:"w-4 h-4 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"요관찰"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(f=>f.exam_result==="OBSERVATION"||f.exam_result==="요관찰").length})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(kr,{className:"w-4 h-4 text-red-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"유소견"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(f=>f.exam_result==="ABNORMAL"||f.exam_result==="유소견").length})]})]})})]}),r.jsx(R,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"근로자명"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"진단유형"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"검진일자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"결과"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"다음 검진일"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):b.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"건강진단 기록이 없습니다."})}):b.map(f=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.worker_name||`근로자 ID: ${f.worker_id}`}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.exam_type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.exam_date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx($,{className:u(f.exam_result),children:x(f.exam_result)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.next_exam_date?new Date(f.next_exam_date).toLocaleDateString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y(f),className:"text-blue-600 hover:text-blue-800",children:r.jsx(er,{size:16})}),r.jsx("button",{onClick:()=>h(f.id),className:"text-red-600 hover:text-red-800",children:r.jsx(Je,{size:16})})]})})]},f.id))})]})})}),r.jsx(ix,{isOpen:i,onClose:()=>c(!1),onSubmit:p,initialData:N,mode:o})]})}const cx=["소음","분진","화학물질","온도","습도","조도","환기","유해광선"],ux=["적합","부적합","측정중"],dx=()=>{const[e,t]=E.useState([]),[n,s]=E.useState(!1),[l,a]=E.useState(!1),[i,c]=E.useState(null),[o,m]=E.useState({location:"",measurement_type:"소음",measurement_date:new Date().toISOString().split("T")[0],measured_value:0,standard_value:0,result:"측정중",re_measurement_required:"N",substance_name:"",measurement_method:"",notes:""});E.useEffect(()=>{N(),j()},[]);const N=async()=>{a(!0);try{const d=await fetch("/api/v1/work-environments/");if(d.ok){const y=await d.json();t(y.items||[])}}catch(d){console.error("작업환경측정 조회 실패:",d)}finally{a(!1)}},j=async()=>{try{const d=await fetch("/api/v1/work-environments/statistics");if(d.ok){const y=await d.json();c(y)}}catch(d){console.error("통계 조회 실패:",d)}},g=async d=>{d.preventDefault(),a(!0);try{const y=await fetch("/api/v1/work-environments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(y.ok)s(!1),m({location:"",measurement_type:"소음",measurement_date:new Date().toISOString().split("T")[0],measured_value:0,standard_value:0,result:"측정중",re_measurement_required:"N",substance_name:"",measurement_method:"",notes:""}),N(),j(),alert("작업환경측정이 등록되었습니다.");else{const h=await y.json();alert("등록 실패: "+(h.detail||"알 수 없는 오류"))}}catch(y){console.error("등록 실패:",y),alert("네트워크 오류가 발생했습니다.")}finally{a(!1)}},w=d=>{switch(d){case"적합":return"text-green-600 bg-green-100";case"부적합":return"text-red-600 bg-red-100";case"측정중":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"작업환경측정"}),r.jsx("p",{className:"text-gray-600",children:"Construction Work Environment Monitoring"})]}),r.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"+ 측정 등록"})]}),i&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"총 측정 횟수"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total_measurements})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"적합"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.pass_count})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"부적합"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.fail_count})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"재측정 필요"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.re_measurement_required})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"측정 기록"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"장소"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"측정항목"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"측정일"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"측정값"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"기준값"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"결과"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"재측정"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:l?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"등록된 측정 기록이 없습니다."})}):e.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.location}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.measurement_type}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(d.measurement_date).toLocaleDateString("ko-KR")}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.measured_value}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.standard_value}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(d.result)}`,children:d.result})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.re_measurement_required==="Y"?"필요":"불필요"})]},d.id))})]})})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"작업환경측정 등록"}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 장소 *"}),r.jsx("input",{type:"text",required:!0,value:o.location,onChange:d=>m({...o,location:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: A동 1층 작업장"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 항목 *"}),r.jsx("select",{required:!0,value:o.measurement_type,onChange:d=>m({...o,measurement_type:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:cx.map(d=>r.jsx("option",{value:d,children:d},d))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 일자 *"}),r.jsx("input",{type:"date",required:!0,value:o.measurement_date,onChange:d=>m({...o,measurement_date:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정값 *"}),r.jsx("input",{type:"number",step:"0.01",required:!0,value:o.measured_value,onChange:d=>m({...o,measured_value:parseFloat(d.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"측정된 값"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"기준값 *"}),r.jsx("input",{type:"number",step:"0.01",required:!0,value:o.standard_value,onChange:d=>m({...o,standard_value:parseFloat(d.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"법적 기준값"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 결과 *"}),r.jsx("select",{required:!0,value:o.result,onChange:d=>m({...o,result:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:ux.map(d=>r.jsx("option",{value:d,children:d},d))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"물질명"}),r.jsx("input",{type:"text",value:o.substance_name,onChange:d=>m({...o,substance_name:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"화학물질명 (화학물질 측정시)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"측정 방법"}),r.jsx("input",{type:"text",value:o.measurement_method,onChange:d=>m({...o,measurement_method:d.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"측정 방법 또는 장비"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"재측정 필요"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"re_measurement_required",value:"N",checked:o.re_measurement_required==="N",onChange:d=>m({...o,re_measurement_required:d.target.value}),className:"mr-2"}),"불필요"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"re_measurement_required",value:"Y",checked:o.re_measurement_required==="Y",onChange:d=>m({...o,re_measurement_required:d.target.value}),className:"mr-2"}),"필요"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{value:o.notes,onChange:d=>m({...o,notes:d.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"추가 설명 또는 특이사항"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:l?"등록 중...":"등록"}),r.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:"취소"})]})]})]})})]})},mx=[{value:"법정교육",label:"법정교육"},{value:"정기교육",label:"정기교육"},{value:"특별교육",label:"특별교육"},{value:"관리감독자교육",label:"관리감독자교육"},{value:"자율교육",label:"자율교육"}];function px({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var w;const[a,i]=E.useState({title:"",education_type:"정기교육",instructor:"",duration:3,target_workers:[""],scheduled_date:new Date().toISOString().split("T")[0],completion_rate:0,status:"scheduled",required_hours:3,description:""});E.useEffect(()=>{i(s||{title:"",education_type:"정기교육",instructor:"",duration:3,target_workers:[""],scheduled_date:new Date().toISOString().split("T")[0],completion_rate:0,status:"scheduled",required_hours:3,description:""})},[s,e]);const c=d=>{var h;d.preventDefault();const y={...a,target_workers:((h=a.target_workers)==null?void 0:h.filter(p=>p.trim()!==""))||[]};n(y)},o=d=>{const{name:y,value:h,type:p}=d.target;i(p==="number"?u=>({...u,[y]:h===""?0:Number(h)}):u=>({...u,[y]:h}))},m=(d,y)=>{i(h=>{var p;return{...h,target_workers:((p=h.target_workers)==null?void 0:p.map((u,x)=>x===d?y:u))||[]}})},N=()=>{i(d=>({...d,target_workers:[...d.target_workers||[],""]}))},j=d=>{i(y=>{var h;return{...y,target_workers:((h=y.target_workers)==null?void 0:h.filter((p,u)=>u!==d))||[]}})},g=d=>{let y=3;switch(d){case"법정교육":y=8;break;case"정기교육":y=3;break;case"특별교육":y=4;break;case"관리감독자교육":y=16;break;default:y=3}i(h=>({...h,education_type:d,required_hours:y,duration:y}))};return r.jsx(dt,{isOpen:e,onClose:t,title:l==="create"?"보건교육 계획 등록":"보건교육 계획 수정",size:"lg",children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["교육명 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:a.title,onChange:o,placeholder:"예: 신입 근로자 안전보건교육",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["교육 유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"education_type",value:a.education_type,onChange:d=>g(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:mx.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["강사 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"instructor",value:a.instructor,onChange:o,placeholder:"예: 안전관리자 김교육",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["예정일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"scheduled_date",value:a.scheduled_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["법정 필수 시간 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"required_hours",value:a.required_hours,onChange:o,min:"1",max:"40",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["실제 교육 시간 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"duration",value:a.duration,onChange:o,min:"1",max:"40",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"진행 상태"}),r.jsx("select",{name:"status",value:a.status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Jp.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"완료율 (%)"}),r.jsx("input",{type:"number",name:"completion_rate",value:a.completion_rate,onChange:o,min:"0",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["교육 대상자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(w=a.target_workers)==null?void 0:w.map((d,y)=>{var h;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:d,onChange:p=>m(y,p.target.value),placeholder:"근로자명을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:y===0}),r.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>j(y),disabled:((h=a.target_workers)==null?void 0:h.length)===1,children:r.jsx(Je,{size:16})})]},y)}),r.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:N,className:"flex items-center gap-2",children:[r.jsx(Ve,{size:16}),"대상자 추가"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["교육 내용 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:a.description,onChange:o,rows:4,placeholder:"교육 목적, 내용, 법적 근거 등을 상세히 기록하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"교육 유형별 법정 기준"}),r.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[r.jsxs("p",{children:["• ",r.jsx("strong",{children:"신입 근로자 (법정교육)"}),": 8시간 이상"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"정기 교육"}),": 분기별 3시간 이상"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"특별 교육"}),": 위험 작업별 2~16시간"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"관리감독자 교육"}),": 연 16시간 이상"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(I,{variant:"secondary",onClick:t,children:[r.jsx(bn,{size:16}),"취소"]}),r.jsx(I,{type:"submit",icon:r.jsx(Zt,{size:16}),children:l==="create"?"교육 등록":"수정 완료"})]})]})})}function xx(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState("all"),[o,m]=E.useState(!1),[N,j]=E.useState("create"),[g,w]=E.useState(null),{fetchApi:d}=Fe();E.useEffect(()=>{y()},[]);const y=async()=>{try{s(!0);try{const F=new URLSearchParams;l&&F.append("search",l),i!=="all"&&F.append("status",i);const S=await d(`/educations?${F}`);if(S!=null&&S.items){t(S.items);return}}catch(F){console.log("API 연결 실패, 임시 데이터 사용:",F)}t([{id:1,title:"신입 근로자 안전보건교육",education_type:"법정교육",instructor:"안전관리자 김교육",duration:8,target_workers:["김철수","이영희","박신입"],scheduled_date:"2024-07-01",completion_rate:100,status:"completed",required_hours:8,description:"산업안전보건법 제31조에 따른 신입 근로자 안전보건교육"},{id:2,title:"정기 안전보건교육",education_type:"정기교육",instructor:"외부강사 최전문",duration:3,target_workers:["김철수","이영희","박기존","최숙련"],scheduled_date:"2024-07-15",completion_rate:75,status:"ongoing",required_hours:3,description:"분기별 정기 안전보건교육 (3시간)"},{id:3,title:"화학물질 취급 안전교육",education_type:"특별교육",instructor:"화학안전전문가 이화학",duration:4,target_workers:["박화학","최취급"],scheduled_date:"2024-07-20",completion_rate:0,status:"scheduled",required_hours:4,description:"화학물질 및 위험물 취급 근로자 대상 특별안전교육"},{id:4,title:"고소작업 안전교육",education_type:"특별교육",instructor:"안전관리자 김교육",duration:2,target_workers:["이고소","박높이"],scheduled_date:"2024-06-30",completion_rate:0,status:"cancelled",required_hours:2,description:"2m 이상 고소작업 근로자 대상 안전교육"}])}catch(k){console.error("보건교육 목록 조회 실패:",k)}finally{s(!1)}},h=()=>{j("create"),w(null),m(!0)},p=k=>{j("edit"),w(k),m(!0)},u=async k=>{try{if(N==="create")try{await d("/educations",{method:"POST",body:JSON.stringify(k)})}catch(F){console.log("API 생성 실패, 로컬 데이터에 추가:",F);const S={...k,id:Math.max(...e.map(H=>H.id),0)+1};t(H=>[S,...H])}else if(g)try{await d(`/educations/${g.id}`,{method:"PUT",body:JSON.stringify(k)})}catch(F){console.log("API 수정 실패, 로컬 데이터 수정:",F),t(S=>S.map(H=>H.id===g.id?{...H,...k}:H))}m(!1),N==="create"&&await y()}catch(F){console.error("보건교육 저장 실패:",F)}},x=k=>{switch(k){case"scheduled":return r.jsx($,{className:"bg-blue-100 text-blue-800",children:"예정"});case"ongoing":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"진행중"});case"completed":return r.jsx($,{className:"bg-green-100 text-green-800",children:"완료"});case"cancelled":return r.jsx($,{className:"bg-red-100 text-red-800",children:"취소"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},b=k=>{switch(k){case"법정교육":return r.jsx($,{className:"bg-purple-100 text-purple-800",children:"법정교육"});case"정기교육":return r.jsx($,{className:"bg-blue-100 text-blue-800",children:"정기교육"});case"특별교육":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"특별교육"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:k})}},f=e.filter(k=>{const F=k.title.toLowerCase().includes(l.toLowerCase())||k.instructor.toLowerCase().includes(l.toLowerCase()),S=i==="all"||k.status===i;return F&&S}),C=e.length,_=e.filter(k=>k.status==="completed").length,z=e.filter(k=>k.status==="ongoing").length,B=e.filter(k=>k.status==="scheduled").length;return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"보건교육 관리"}),r.jsxs(I,{onClick:h,className:"flex items-center gap-2",children:[r.jsx(Ve,{className:"w-4 h-4"}),"교육 계획 등록"]})]}),r.jsx(R,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"교육명 또는 강사명으로 검색...",value:l,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:i,onChange:k=>c(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 상태"}),r.jsx("option",{value:"scheduled",children:"예정"}),r.jsx("option",{value:"ongoing",children:"진행중"}),r.jsx("option",{value:"completed",children:"완료"}),r.jsx("option",{value:"cancelled",children:"취소"})]}),r.jsx(I,{variant:"outline",onClick:y,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(yi,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 교육"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ht,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"완료"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:_})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wt,{className:"w-8 h-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"진행중"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:z})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ds,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"예정"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:B})]})]})})]}),r.jsx(R,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"교육명"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"교육유형"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"강사"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"예정일"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"시간"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"대상자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"진행률"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):f.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:"보건교육 계획이 없습니다."})}):f.map(k=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.title}),r.jsx("p",{className:"text-sm text-gray-500",children:k.description})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(k.education_type)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.instructor}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.scheduled_date}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[k.duration,"시간"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[k.target_workers.length,"명"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${k.completion_rate}%`}})}),r.jsxs("span",{className:"text-sm text-gray-500",children:[k.completion_rate,"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(k.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex gap-2",children:r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>p(k),children:[r.jsx(er,{size:14}),"편집"]})})})]},k.id))})]})})}),r.jsx(R,{children:r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(yi,{className:"w-5 h-5 text-purple-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-purple-900 mb-1",children:"산업안전보건법 교육 의무"}),r.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[r.jsx("p",{children:"• 신입 근로자: 8시간 이상"}),r.jsx("p",{children:"• 정기 교육: 분기별 3시간 이상"}),r.jsx("p",{children:"• 특별 교육: 위험 작업 종사자 대상"}),r.jsx("p",{children:"• 관리감독자: 연 16시간 이상"})]})]})]})})}),r.jsx(px,{isOpen:o,onClose:()=>m(!1),onSubmit:u,initialData:g,mode:N})]})}const fx=[{value:"인화성 액체",label:"인화성 액체"},{value:"독성 물질",label:"독성 물질"},{value:"부식성 물질",label:"부식성 물질"},{value:"발암성 물질",label:"발암성 물질"},{value:"산화성 물질",label:"산화성 물질"},{value:"압축가스",label:"압축가스"},{value:"폭발성 물질",label:"폭발성 물질"},{value:"방사성 물질",label:"방사성 물질"},{value:"기타",label:"기타"}],hx=[{value:"L",label:"L (리터)"},{value:"kg",label:"kg (킬로그램)"},{value:"g",label:"g (그램)"},{value:"mL",label:"mL (밀리리터)"},{value:"m³",label:"m³ (세제곱미터)"},{value:"개",label:"개"}];function gx({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var w;const[a,i]=E.useState({name:"",cas_number:"",manufacturer:"",supplier:"",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!1,msds_updated_date:new Date().toISOString().split("T")[0],storage_location:"",quantity:0,unit:"L",last_inspection_date:new Date().toISOString().split("T")[0],expiry_date:"",safety_measures:[""],responsible_person:"",notes:""});E.useEffect(()=>{i(s||{name:"",cas_number:"",manufacturer:"",supplier:"",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!1,msds_updated_date:new Date().toISOString().split("T")[0],storage_location:"",quantity:0,unit:"L",last_inspection_date:new Date().toISOString().split("T")[0],expiry_date:"",safety_measures:[""],responsible_person:"",notes:""})},[s,e]);const c=d=>{var h;d.preventDefault();const y={...a,safety_measures:((h=a.safety_measures)==null?void 0:h.filter(p=>p.trim()!==""))||[]};n(y)},o=d=>{const{name:y,value:h,type:p}=d.target;i(p==="checkbox"?u=>({...u,[y]:d.target.checked}):p==="number"?u=>({...u,[y]:h===""?0:Number(h)}):u=>({...u,[y]:h}))},m=(d,y)=>{i(h=>{var p;return{...h,safety_measures:((p=h.safety_measures)==null?void 0:p.map((u,x)=>x===d?y:u))||[]}})},N=()=>{i(d=>({...d,safety_measures:[...d.safety_measures||[],""]}))},j=d=>{i(y=>{var h;return{...y,safety_measures:((h=y.safety_measures)==null?void 0:h.filter((p,u)=>u!==d))||[]}})},g=d=>{let y="medium";switch(d){case"발암성 물질":case"방사성 물질":case"폭발성 물질":y="very_high";break;case"독성 물질":case"부식성 물질":y="high";break;case"인화성 액체":case"산화성 물질":y="medium";break;default:y="low"}i(h=>({...h,hazard_class:d,hazard_level:y}))};return r.jsx(dt,{isOpen:e,onClose:t,title:l==="create"?"화학물질 등록":"화학물질 정보 수정",size:"xl",children:r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["화학물질명 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:a.name,onChange:o,placeholder:"예: 아세톤",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CAS 번호 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"cas_number",value:a.cas_number,onChange:o,placeholder:"예: 67-64-1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["제조사 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"manufacturer",value:a.manufacturer,onChange:o,placeholder:"예: 한국화학 주식회사",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["공급업체 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"supplier",value:a.supplier,onChange:o,placeholder:"예: 산업화학 유통",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["위험 분류 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"hazard_class",value:a.hazard_class,onChange:d=>g(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:fx.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["위험 등급 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"hazard_level",value:a.hazard_level,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Gp.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["보관 장소 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"storage_location",value:a.storage_location,onChange:o,placeholder:"예: 화학물질 저장소 A동",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["보관량 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"quantity",value:a.quantity,onChange:o,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["단위 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"unit",value:a.unit,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:hx.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["관리책임자 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"responsible_person",value:a.responsible_person,onChange:o,placeholder:"예: 김화학",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["최근 점검일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"last_inspection_date",value:a.last_inspection_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"유효기간"}),r.jsx("input",{type:"date",name:"expiry_date",value:a.expiry_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["MSDS 업데이트일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"msds_updated_date",value:a.msds_updated_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"msds_available",checked:a.msds_available,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"MSDS (물질안전보건자료) 보유"})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["안전 조치사항 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(w=a.safety_measures)==null?void 0:w.map((d,y)=>{var h;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:d,onChange:p=>m(y,p.target.value),placeholder:"안전 조치사항을 입력하세요 (예: 방화, 환기, 개인보호구 착용)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:y===0}),r.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>j(y),disabled:((h=a.safety_measures)==null?void 0:h.length)===1,children:r.jsx(Je,{size:16})})]},y)}),r.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:N,className:"flex items-center gap-2",children:[r.jsx(Ve,{size:16}),"안전조치 추가"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,placeholder:"특별 주의사항, 보관 조건, 기타 중요 정보를 기록하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-orange-900 mb-2",children:"화학물질 위험 등급 기준"}),r.jsxs("div",{className:"text-xs text-orange-700 space-y-1",children:[r.jsxs("p",{children:["• ",r.jsx("strong",{children:"매우 높음"}),": 발암성, 방사성, 폭발성 물질"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"높음"}),": 독성, 부식성 물질"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"보통"}),": 인화성, 산화성 물질"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"낮음"}),": 일반적인 화학물질"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(I,{variant:"secondary",onClick:t,children:[r.jsx(bn,{size:16}),"취소"]}),r.jsx(I,{type:"submit",icon:r.jsx(Zt,{size:16}),children:l==="create"?"화학물질 등록":"수정 완료"})]})]})})}function yx(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState("all"),[o,m]=E.useState("all"),[N,j]=E.useState(!1),[g,w]=E.useState("create"),[d,y]=E.useState(null),{fetchApi:h}=Fe();E.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);try{const T=new URLSearchParams;l&&T.append("search",l),i!=="all"&&T.append("hazard_level",i),o!=="all"&&T.append("msds_status",o);const U=await h(`/chemicals?${T}`);if(U!=null&&U.items){t(U.items);return}}catch(T){console.log("API 연결 실패, 임시 데이터 사용:",T)}t([{id:1,name:"아세톤",cas_number:"67-64-1",manufacturer:"한국화학 주식회사",supplier:"산업화학 유통",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!0,msds_updated_date:"2024-03-15",storage_location:"화학물질 저장소 A동",quantity:200,unit:"L",last_inspection_date:"2024-06-20",expiry_date:"2025-12-31",safety_measures:["방화","환기","개인보호구 착용"],responsible_person:"김화학",notes:"환기 시설 필수"},{id:2,name:"메탄올",cas_number:"67-56-1",manufacturer:"대한화학공업",supplier:"케미칼 솔루션",hazard_class:"독성 물질",hazard_level:"high",msds_available:!0,msds_updated_date:"2024-02-28",storage_location:"특별관리구역 B",quantity:50,unit:"L",last_inspection_date:"2024-06-22",expiry_date:"2025-08-30",safety_measures:["독성 경고","밀폐 보관","특별 환기"],responsible_person:"이안전",notes:"취급 시 특별 주의 필요"},{id:3,name:"톨루엔",cas_number:"108-88-3",manufacturer:"글로벌 케미칼",supplier:"화학물질 전문",hazard_class:"인화성 액체",hazard_level:"medium",msds_available:!1,msds_updated_date:"2023-12-15",storage_location:"화학물질 저장소 A동",quantity:100,unit:"L",last_inspection_date:"2024-06-18",expiry_date:"2025-10-15",safety_measures:["방화","호흡보호구"],responsible_person:"박관리",notes:"MSDS 업데이트 필요"},{id:4,name:"염산",cas_number:"7647-01-0",manufacturer:"화학산업 코퍼레이션",supplier:"산업용품 공급",hazard_class:"부식성 물질",hazard_level:"very_high",msds_available:!0,msds_updated_date:"2024-05-10",storage_location:"특별관리구역 C",quantity:25,unit:"L",last_inspection_date:"2024-06-25",expiry_date:"2026-01-20",safety_measures:["부식 방지","산성 중화제 비치","완전 밀폐"],responsible_person:"최화학",notes:"최고 위험 등급"},{id:5,name:"벤젠",cas_number:"71-43-2",manufacturer:"페트로 케미칼",supplier:"전문화학 유통",hazard_class:"발암성 물질",hazard_level:"very_high",msds_available:!0,msds_updated_date:"2024-04-05",storage_location:"특별관리구역 D",quantity:10,unit:"L",last_inspection_date:"2024-06-23",expiry_date:"2025-09-30",safety_measures:["발암물질 경고","완전 밀폐","특별 모니터링"],responsible_person:"정전문",notes:"발암물질 - 극도 주의"}])}catch(P){console.error("화학물질 목록 조회 실패:",P)}finally{s(!1)}},u=()=>{w("create"),y(null),j(!0)},x=P=>{w("edit"),y(P),j(!0)},b=async P=>{try{if(g==="create")try{await h("/chemicals",{method:"POST",body:JSON.stringify(P)})}catch(T){console.log("API 생성 실패, 로컬 데이터에 추가:",T);const U={...P,id:Math.max(...e.map(Q=>Q.id),0)+1};t(Q=>[U,...Q])}else if(d)try{await h(`/chemicals/${d.id}`,{method:"PUT",body:JSON.stringify(P)})}catch(T){console.log("API 수정 실패, 로컬 데이터 수정:",T),t(U=>U.map(Q=>Q.id===d.id?{...Q,...P}:Q))}j(!1),g==="create"&&await p()}catch(T){console.error("화학물질 저장 실패:",T)}},f=P=>{switch(P){case"low":return r.jsx($,{className:"bg-green-100 text-green-800",children:"낮음"});case"medium":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"보통"});case"high":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"높음"});case"very_high":return r.jsx($,{className:"bg-red-100 text-red-800",children:"매우 높음"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},C=(P,T)=>{const U=new Date(T)>new Date(Date.now()-31536e6);return P&&U?r.jsx($,{className:"bg-green-100 text-green-800",children:"최신"}):P?r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"업데이트 필요"}):r.jsx($,{className:"bg-red-100 text-red-800",children:"없음"})},_=e.filter(P=>{const T=P.name.toLowerCase().includes(l.toLowerCase())||P.cas_number.includes(l)||P.manufacturer.toLowerCase().includes(l.toLowerCase()),U=i==="all"||P.hazard_level===i,Q=o==="all"||o==="available"&&P.msds_available||o==="missing"&&!P.msds_available;return T&&U&&Q}),z=e.length,B=e.filter(P=>P.hazard_level==="high"||P.hazard_level==="very_high").length,k=e.filter(P=>!P.msds_available).length,F=e.filter(P=>{if(!P.expiry_date)return!1;const T=new Date(P.expiry_date),U=new Date(Date.now()+90*24*60*60*1e3);return T<=U}).length,S=P=>{console.log("MSDS 보기:",P.name)},H=P=>{console.log("MSDS 다운로드:",P.name)};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"화학물질 관리"}),r.jsxs(I,{onClick:u,className:"flex items-center gap-2",children:[r.jsx(Ve,{className:"w-4 h-4"}),"화학물질 등록"]})]}),r.jsx(R,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"화학물질명, CAS번호, 제조사로 검색...",value:l,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:i,onChange:P=>c(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 위험도"}),r.jsx("option",{value:"low",children:"낮음"}),r.jsx("option",{value:"medium",children:"보통"}),r.jsx("option",{value:"high",children:"높음"}),r.jsx("option",{value:"very_high",children:"매우 높음"})]}),r.jsxs("select",{value:o,onChange:P=>m(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 MSDS"}),r.jsx("option",{value:"available",children:"MSDS 있음"}),r.jsx("option",{value:"missing",children:"MSDS 없음"})]}),r.jsx(I,{variant:"outline",onClick:p,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ce,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 화학물질"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(lt,{className:"w-8 h-8 text-red-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"고위험 물질"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:B})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ce,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"MSDS 누락"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(lt,{className:"w-8 h-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"유효기간 임박"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:F})]})]})})]}),r.jsx(R,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"화학물질정보"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"제조/공급사"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"위험등급"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"보관정보"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MSDS"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):_.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"화학물질이 없습니다."})}):_.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["CAS: ",P.cas_number]}),r.jsx("p",{className:"text-xs text-gray-400",children:P.hazard_class})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:P.manufacturer}),r.jsx("p",{className:"text-sm text-gray-500",children:P.supplier})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f(P.hazard_level)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:P.storage_location}),r.jsxs("p",{className:"text-sm text-gray-500",children:[P.quantity," ",P.unit]}),P.expiry_date&&r.jsxs("p",{className:"text-xs text-gray-400",children:["만료: ",P.expiry_date]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[C(P.msds_available,P.msds_updated_date),r.jsxs("p",{className:"text-xs text-gray-400",children:["업데이트: ",P.msds_updated_date]}),P.msds_available&&r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>S(P),className:"text-blue-600 hover:text-blue-800",title:"MSDS 보기",children:r.jsx(Qt,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>H(P),className:"text-green-600 hover:text-green-800",title:"MSDS 다운로드",children:r.jsx(Bt,{className:"w-3 h-3"})})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.responsible_person}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex gap-2",children:r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>x(P),children:[r.jsx(er,{size:14}),"편집"]})})})]},P.id))})]})})}),r.jsx(R,{children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-900 mb-1",children:"화학물질 안전관리 준수사항"}),r.jsxs("div",{className:"text-sm text-red-700 space-y-1",children:[r.jsx("p",{children:"• MSDS(물질안전보건자료) 비치 및 정기 업데이트 필수"}),r.jsx("p",{children:"• 화학물질별 적절한 보관 조건 및 안전조치 이행"}),r.jsx("p",{children:"• 취급 근로자 대상 정기 안전교육 실시"}),r.jsx("p",{children:"• 화학물질 취급일지 작성 및 관리"}),r.jsx("p",{children:"• 유해화학물질 노출 모니터링 및 건강진단"})]})]})]})})}),r.jsx(gx,{isOpen:N,onClose:()=>j(!1),onSubmit:b,initialData:d,mode:g})]})}function vx({isOpen:e,onClose:t,onSubmit:n,initialData:s,mode:l}){var g,w,d,y;const[a,i]=E.useState({incident_date:new Date().toISOString().split("T")[0],report_date:new Date().toISOString().split("T")[0],location:"",injured_person:"",department:"",accident_type:((g=_l[0])==null?void 0:g.value)||"fall",severity:"minor",injury_type:"",description:"",immediate_cause:"",root_cause:"",corrective_actions:[""],preventive_measures:[""],reported_by:"",investigated_by:"",investigation_date:new Date().toISOString().split("T")[0],status:"reported",follow_up_required:!1,follow_up_date:"",cost_estimate:0,lost_work_days:0,witnesses:[""],photos_attached:!1,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:""});E.useEffect(()=>{var h;i(s||{incident_date:new Date().toISOString().split("T")[0],report_date:new Date().toISOString().split("T")[0],location:"",injured_person:"",department:"",accident_type:((h=_l[0])==null?void 0:h.value)||"fall",severity:"minor",injury_type:"",description:"",immediate_cause:"",root_cause:"",corrective_actions:[""],preventive_measures:[""],reported_by:"",investigated_by:"",investigation_date:new Date().toISOString().split("T")[0],status:"reported",follow_up_required:!1,follow_up_date:"",cost_estimate:0,lost_work_days:0,witnesses:[""],photos_attached:!1,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:""})},[s,e]);const c=h=>{var u,x,b;if(h.preventDefault(),l==="create"&&!a.report_number){const f=new Date().getFullYear(),C=Math.floor(Math.random()*1e3).toString().padStart(3,"0");a.report_number=`ACC-${f}-${C}`}const p={...a,corrective_actions:((u=a.corrective_actions)==null?void 0:u.filter(f=>f.trim()!==""))||[],preventive_measures:((x=a.preventive_measures)==null?void 0:x.filter(f=>f.trim()!==""))||[],witnesses:((b=a.witnesses)==null?void 0:b.filter(f=>f.trim()!==""))||[]};n(p)},o=h=>{const{name:p,value:u,type:x}=h.target;i(x==="checkbox"?b=>({...b,[p]:h.target.checked}):x==="number"?b=>({...b,[p]:u===""?0:Number(u)}):b=>({...b,[p]:u}))},m=(h,p,u)=>{i(x=>{var b;return{...x,[h]:((b=x[h])==null?void 0:b.map((f,C)=>C===p?u:f))||[]}})},N=h=>{i(p=>({...p,[h]:[...p[h]||[],""]}))},j=(h,p)=>{i(u=>{var x;return{...u,[h]:((x=u[h])==null?void 0:x.filter((b,f)=>f!==p))||[]}})};return r.jsx(dt,{isOpen:e,onClose:t,title:l==="create"?"사고 신고 등록":"사고 보고서 수정",size:"xl",children:r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 발생일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"incident_date",value:a.incident_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["신고일 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"report_date",value:a.report_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 장소 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"location",value:a.location,onChange:o,placeholder:"예: 건설 현장 A구역",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["부상자명 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"injured_person",value:a.injured_person,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["소속 부서 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"department",value:a.department,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"accident_type",value:a.accident_type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:_l.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["심각도 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"severity",value:a.severity,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:Xp.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["부상 유형 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"injury_type",value:a.injury_type,onChange:o,placeholder:"예: 타박상, 골절",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["사고 경위 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:a.description,onChange:o,rows:3,placeholder:"사고 발생 경위를 상세히 기록하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["직접 원인 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"immediate_cause",value:a.immediate_cause,onChange:o,placeholder:"예: 안전대 미착용",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["근본 원인 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"root_cause",value:a.root_cause,onChange:o,placeholder:"예: 안전교육 부족 및 안전점검 소홀",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시정 조치사항"}),(w=a.corrective_actions)==null?void 0:w.map((h,p)=>{var u;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:x=>m("corrective_actions",p,x.target.value),placeholder:"시정 조치사항을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>j("corrective_actions",p),disabled:((u=a.corrective_actions)==null?void 0:u.length)===1,children:r.jsx(Je,{size:16})})]},p)}),r.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>N("corrective_actions"),className:"flex items-center gap-2",children:[r.jsx(Ve,{size:16}),"조치사항 추가"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예방 대책"}),(d=a.preventive_measures)==null?void 0:d.map((h,p)=>{var u;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:x=>m("preventive_measures",p,x.target.value),placeholder:"예방 대책을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>j("preventive_measures",p),disabled:((u=a.preventive_measures)==null?void 0:u.length)===1,children:r.jsx(Je,{size:16})})]},p)}),r.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>N("preventive_measures"),className:"flex items-center gap-2",children:[r.jsx(Ve,{size:16}),"예방대책 추가"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"목격자"}),(y=a.witnesses)==null?void 0:y.map((h,p)=>{var u;return r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:h,onChange:x=>m("witnesses",p,x.target.value),placeholder:"목격자명을 입력하세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>j("witnesses",p),disabled:((u=a.witnesses)==null?void 0:u.length)===1,children:r.jsx(Je,{size:16})})]},p)}),r.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>N("witnesses"),className:"flex items-center gap-2",children:[r.jsx(Ve,{size:16}),"목격자 추가"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"신고자"}),r.jsx("input",{type:"text",name:"reported_by",value:a.reported_by,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"조사자"}),r.jsx("input",{type:"text",name:"investigated_by",value:a.investigated_by,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"조사일"}),r.jsx("input",{type:"date",name:"investigation_date",value:a.investigation_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"처리상태"}),r.jsxs("select",{name:"status",value:a.status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"reported",children:"신고됨"}),r.jsx("option",{value:"investigating",children:"조사중"}),r.jsx("option",{value:"action_required",children:"조치필요"}),r.jsx("option",{value:"completed",children:"완료"}),r.jsx("option",{value:"closed",children:"종료"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"휴업일수"}),r.jsx("input",{type:"number",name:"lost_work_days",value:a.lost_work_days,onChange:o,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예상 비용 (원)"}),r.jsx("input",{type:"number",name:"cost_estimate",value:a.cost_estimate,onChange:o,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"follow_up_required",checked:a.follow_up_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"후속 조치 필요"})]}),a.follow_up_required&&r.jsxs("div",{className:"ml-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"후속 조치 예정일"}),r.jsx("input",{type:"date",name:"follow_up_date",value:a.follow_up_date,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"medical_treatment_required",checked:a.medical_treatment_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"의료 치료 필요"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"government_notification_required",checked:a.government_notification_required,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"정부 신고 대상"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"government_reported",checked:a.government_reported,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"정부 신고 완료"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"photos_attached",checked:a.photos_attached,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"사진 첨부됨"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비고"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsxs(I,{variant:"secondary",onClick:t,children:[r.jsx(bn,{size:16}),"취소"]}),r.jsx(I,{type:"submit",icon:r.jsx(Zt,{size:16}),children:l==="create"?"사고 신고":"수정 완료"})]})]})})}function jx(){const[e,t]=E.useState([]),[n,s]=E.useState(!0),[l,a]=E.useState(""),[i,c]=E.useState("all"),[o,m]=E.useState("all");E.useState("all");const[N,j]=E.useState(!1),[g,w]=E.useState("create"),[d,y]=E.useState(null),[h,p]=E.useState(!1),{fetchApi:u}=Fe();E.useEffect(()=>{x()},[]);const x=async()=>{try{s(!0);try{const U=new URLSearchParams;l&&U.append("search",l),i!=="all"&&U.append("severity",i),o!=="all"&&U.append("status",o);const Q=await u(`/accidents?${U}`);if(Q!=null&&Q.items){t(Q.items);return}}catch(U){console.log("API 연결 실패, 임시 데이터 사용:",U)}t([{id:1,report_number:"ACC-2024-001",incident_date:"2024-06-20",report_date:"2024-06-20",location:"건설 현장 A구역",injured_person:"김철수",department:"건설팀",accident_type:"추락",severity:"moderate",injury_type:"타박상, 골절",description:"비계 작업 중 안전대 미착용으로 인한 2m 높이에서 추락",immediate_cause:"안전대 미착용",root_cause:"안전교육 부족 및 안전점검 소홀",corrective_actions:["안전대 착용 의무화","현장 안전교육 실시"],preventive_measures:["안전점검 강화","안전교육 정기화"],reported_by:"현장 감독자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-21",status:"action_required",follow_up_required:!0,follow_up_date:"2024-07-20",cost_estimate:15e5,lost_work_days:14,witnesses:["박목격","최현장"],photos_attached:!0,medical_treatment_required:!0,government_notification_required:!0,government_reported:!0,notes:"중상 사고로 정부 신고 완료"},{id:2,report_number:"ACC-2024-002",incident_date:"2024-06-15",report_date:"2024-06-15",location:"기계실 B동",injured_person:"이영희",department:"정비팀",accident_type:"협착",severity:"minor",injury_type:"손가락 찰과상",description:"기계 정비 중 손가락이 기계 부품에 협착됨",immediate_cause:"보호장갑 미착용",root_cause:"개인보호구 관리 부주의",corrective_actions:["보호장갑 착용 확인"],preventive_measures:["개인보호구 점검 강화"],reported_by:"당사자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-16",status:"completed",follow_up_required:!1,cost_estimate:5e4,lost_work_days:0,witnesses:[],photos_attached:!1,medical_treatment_required:!0,government_notification_required:!1,government_reported:!1,notes:"경미한 사고"},{id:3,report_number:"ACC-2024-003",incident_date:"2024-06-10",report_date:"2024-06-11",location:"화학물질 저장소",injured_person:"박화학",department:"화학팀",accident_type:"화학물질 노출",severity:"severe",injury_type:"화학 화상, 호흡기 자극",description:"화학물질 이송 중 용기 파손으로 인한 화학물질 누출 및 노출",immediate_cause:"용기 결함",root_cause:"화학물질 용기 점검 부족",corrective_actions:["화학물질 용기 전체 점검","비상 대응 절차 개선"],preventive_measures:["용기 정기 점검 체계 구축","화학물질 취급 교육 강화"],reported_by:"동료 근로자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-12",status:"investigating",follow_up_required:!0,follow_up_date:"2024-08-10",cost_estimate:3e6,lost_work_days:30,witnesses:["최목격","정현장","김동료"],photos_attached:!0,medical_treatment_required:!0,government_notification_required:!0,government_reported:!0,notes:"중대재해 조사 진행 중"},{id:4,report_number:"ACC-2024-004",incident_date:"2024-06-25",report_date:"2024-06-25",location:"주차장",injured_person:"최운전",department:"운송팀",accident_type:"차량 사고",severity:"minor",injury_type:"목 염좌",description:"후진 중 다른 차량과 접촉 사고",immediate_cause:"후방 확인 소홀",root_cause:"안전운전 교육 부족",corrective_actions:["안전운전 재교육"],preventive_measures:["후방 카메라 설치 검토"],reported_by:"당사자",investigated_by:"안전관리자 이안전",investigation_date:"2024-06-25",status:"reported",follow_up_required:!1,cost_estimate:2e5,lost_work_days:1,witnesses:["박주차"],photos_attached:!0,medical_treatment_required:!1,government_notification_required:!1,government_reported:!1,notes:"경미한 교통사고"}])}catch(T){console.error("사고보고 목록 조회 실패:",T)}finally{s(!1)}},b=()=>{w("create"),y(null),j(!0)},f=T=>{w("edit"),y(T),j(!0)},C=T=>{y(T),p(!0)},_=async T=>{try{if(g==="create")try{await u("/accidents",{method:"POST",body:JSON.stringify(T)})}catch(U){console.log("API 생성 실패, 로컬 데이터에 추가:",U);const Q={...T,id:Math.max(...e.map(M=>M.id),0)+1,report_number:T.report_number||`ACC-${new Date().getFullYear()}-${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`};t(M=>[Q,...M])}else if(d)try{await u(`/accidents/${d.id}`,{method:"PUT",body:JSON.stringify(T)})}catch(U){console.log("API 수정 실패, 로컬 데이터 수정:",U),t(Q=>Q.map(M=>M.id===d.id?{...M,...T}:M))}j(!1),g==="create"&&await x()}catch(U){console.error("사고 보고서 저장 실패:",U)}},z=T=>{switch(T){case"minor":return r.jsx($,{className:"bg-green-100 text-green-800",children:"경미"});case"moderate":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"보통"});case"severe":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"중상"});case"fatal":return r.jsx($,{className:"bg-red-100 text-red-800",children:"사망"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},B=T=>{switch(T){case"reported":return r.jsx($,{className:"bg-blue-100 text-blue-800",children:"신고됨"});case"investigating":return r.jsx($,{className:"bg-yellow-100 text-yellow-800",children:"조사중"});case"action_required":return r.jsx($,{className:"bg-orange-100 text-orange-800",children:"조치필요"});case"completed":return r.jsx($,{className:"bg-green-100 text-green-800",children:"완료"});case"closed":return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"종료"});default:return r.jsx($,{className:"bg-gray-100 text-gray-800",children:"미확인"})}},k=e.filter(T=>{const U=T.injured_person.toLowerCase().includes(l.toLowerCase())||T.location.toLowerCase().includes(l.toLowerCase())||T.report_number.toLowerCase().includes(l.toLowerCase())||T.accident_type.toLowerCase().includes(l.toLowerCase()),Q=i==="all"||T.severity===i,M=o==="all"||T.status===o;return U&&Q&&M}),F=e.length,S=e.filter(T=>T.severity==="severe"||T.severity==="fatal").length,H=e.filter(T=>T.status==="investigating"||T.status==="action_required").length,P=e.reduce((T,U)=>T+(U.lost_work_days||0),0);return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"산업재해 관리"}),r.jsxs(I,{onClick:b,className:"flex items-center gap-2",children:[r.jsx(Ve,{className:"w-4 h-4"}),"사고 신고"]})]}),r.jsx(R,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"부상자명, 장소, 신고번호, 사고유형으로 검색...",value:l,onChange:T=>a(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:i,onChange:T=>c(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 심각도"}),r.jsx("option",{value:"minor",children:"경미"}),r.jsx("option",{value:"moderate",children:"보통"}),r.jsx("option",{value:"severe",children:"중상"}),r.jsx("option",{value:"fatal",children:"사망"})]}),r.jsxs("select",{value:o,onChange:T=>m(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"전체 상태"}),r.jsx("option",{value:"reported",children:"신고됨"}),r.jsx("option",{value:"investigating",children:"조사중"}),r.jsx("option",{value:"action_required",children:"조치필요"}),r.jsx("option",{value:"completed",children:"완료"}),r.jsx("option",{value:"closed",children:"종료"})]}),r.jsx(I,{variant:"outline",onClick:x,children:"새로고침"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ce,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 사고건수"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(lt,{className:"w-8 h-8 text-red-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"중대사고"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:S})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wt,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"처리대기"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:H})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(br,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"총 휴업일수"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[P,"일"]})]})]})})]}),r.jsx(R,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"신고정보"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"부상자/장소"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"사고유형"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"심각도"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"처리상태"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"휴업일수"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"조사자"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"로딩 중..."})}):k.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"사고 보고서가 없습니다."})}):k.map(T=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.report_number}),r.jsxs("p",{className:"text-sm text-gray-500",children:["발생: ",T.incident_date]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["신고: ",T.report_date]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.injured_person}),r.jsx("p",{className:"text-sm text-gray-500",children:T.department}),r.jsx("p",{className:"text-xs text-gray-400",children:T.location})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:T.accident_type}),r.jsx("p",{className:"text-sm text-gray-500",children:T.injury_type})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z(T.severity)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[B(T.status),T.follow_up_required&&r.jsxs("p",{className:"text-xs text-orange-600",children:["후속조치: ",T.follow_up_date]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-900",children:[T.lost_work_days||0,"일"]}),T.cost_estimate&&r.jsxs("p",{className:"text-xs text-gray-500",children:["비용: ",T.cost_estimate.toLocaleString(),"원"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-900",children:T.investigated_by}),r.jsxs("p",{className:"text-xs text-gray-500",children:["조사: ",T.investigation_date]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>C(T),children:[r.jsx(Qt,{size:14}),"상세"]}),r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>f(T),children:[r.jsx(er,{size:14}),"편집"]})]})})]},T.id))})]})})}),r.jsx(R,{children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-900 mb-1",children:"산업재해 신고 의무"}),r.jsxs("div",{className:"text-sm text-red-700 space-y-1",children:[r.jsxs("p",{children:["• ",r.jsx("strong",{children:"즉시 신고"}),": 사망, 3일 이상 요양, 동일 원인 2명 이상 부상"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"월간 신고"}),": 4일 이상 요양 재해 (매월 말일까지)"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"신고 기관"}),": 관할 지방고용노동청"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"조사 의무"}),": 재해 원인 조사 및 재발방지 대책 수립"]}),r.jsxs("p",{children:["• ",r.jsx("strong",{children:"미신고 시"}),": 1천만원 이하 과태료 부과"]})]})]})]})})}),r.jsx(vx,{isOpen:N,onClose:()=>j(!1),onSubmit:_,initialData:d,mode:g}),h&&d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"사고 상세 정보"}),r.jsx(I,{variant:"outline",onClick:()=>p(!1),children:"닫기"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"기본 정보"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"신고번호:"})," ",d.report_number]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"발생일:"})," ",d.incident_date]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"신고일:"})," ",d.report_date]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"장소:"})," ",d.location]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"부상자:"})," ",d.injured_person]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"부서:"})," ",d.department]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"사고 정보"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"사고유형:"})," ",d.accident_type]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"심각도:"})," ",z(d.severity)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"부상유형:"})," ",d.injury_type]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"휴업일수:"})," ",d.lost_work_days||0,"일"]}),d.cost_estimate&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"예상비용:"})," ",d.cost_estimate.toLocaleString(),"원"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"처리 상태"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"상태:"})," ",B(d.status)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"조사자:"})," ",d.investigated_by]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"조사일:"})," ",d.investigation_date]}),d.follow_up_required&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"후속조치일:"})," ",d.follow_up_date]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"사고 경위"}),r.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:d.description})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"원인 분석"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"직접원인:"})," ",d.immediate_cause]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"근본원인:"})," ",d.root_cause]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"시정 조치사항"}),r.jsx("ul",{className:"text-sm space-y-1",children:d.corrective_actions.map((T,U)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),T]},U))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"예방 대책"}),r.jsx("ul",{className:"text-sm space-y-1",children:d.preventive_measures.map((T,U)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-2 flex-shrink-0"}),T]},U))})]}),d.witnesses.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"목격자"}),r.jsx("div",{className:"text-sm",children:d.witnesses.join(", ")})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"추가 정보"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"의료치료:"})," ",d.medical_treatment_required?"필요":"불필요"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"정부신고:"})," ",d.government_notification_required?"대상":"비대상"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"신고완료:"})," ",d.government_reported?"완료":"미완료"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"사진첨부:"})," ",d.photos_attached?"있음":"없음"]}),d.notes&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"비고:"})," ",d.notes]})]})]})]})]})]})})]})}const Nx={company_name:"text",department:"text",manager:"text",worker_name:"text",employee_id:"text",position:"text",visit_date:"date",exam_date:"date",creation_date:"date",date:"date",signature_date:"date",worker_count:"number",quantity:"number",quantity_2:"number",exposure_time:"number",cas_number:"text",cas_number_2:"text",phone:"tel",email:"email",description:"textarea",work_description:"textarea",counseling_topic:"textarea",health_issues:"textarea",work_environment:"textarea",improvement_suggestions:"textarea",immediate_actions:"textarea",follow_up_actions:"textarea",next_visit_plan:"textarea",safety_measures:"textarea",emergency_procedures:"textarea"},Po={company_name:"회사명",department:"부서",manager:"관리자",worker_name:"근로자명",employee_id:"사번",position:"직위",visit_date:"방문일자",exam_date:"검진일자",creation_date:"작성일자",date:"일자",signature_date:"서명일자",worker_count:"근로자 수",quantity:"수량",quantity_2:"수량2",exposure_time:"노출시간",cas_number:"CAS 번호",cas_number_2:"CAS 번호2",site_name:"현장명",counselor:"상담자",work_type:"작업종류",participant_1:"참석자1",participant_2:"참석자2",participant_3:"참석자3",participant_4:"참석자4",counseling_topic:"상담주제",health_issues:"건강문제",work_environment:"작업환경",improvement_suggestions:"개선제안",immediate_actions:"즉시조치",follow_up_actions:"후속조치",next_visit_plan:"다음방문계획",counselor_signature:"상담자서명",manager_signature:"관리자서명",chemical_name:"화학물질명",chemical_name_2:"화학물질명2",manufacturer:"제조회사",manufacturer_2:"제조회사2",usage:"용도",usage_2:"용도2",storage_location:"보관장소",storage_location_2:"보관장소2",hazard_class:"위험등급",hazard_class_2:"위험등급2",msds_date:"MSDS 일자",msds_version:"MSDS 버전",update_date:"갱신일자",safety_measures:"안전조치",emergency_procedures:"응급처치",prepared_by:"작성자",approved_by:"승인자",year:"연도",exam_agency:"검진기관",exam_result:"검진결과",opinion:"의견",substance_name:"물질명",work_date:"작업일자",protection_equipment:"보호장비"},_x=e=>e.includes("date")?br:e.includes("name")||e.includes("worker")?hr:e.includes("company")||e.includes("department")?kl:e.includes("location")||e.includes("site")?ad:e.includes("phone")?id:e.includes("email")||e.includes("mail")?od:e.includes("number")||e.includes("count")||e.includes("quantity")?cd:e.includes("time")||e.includes("hour")?Wt:e.includes("signature")||e.includes("approved")?ud:Ft;function wx({form:e,onClose:t,onSave:n}){const[s,l]=E.useState({}),[a,i]=E.useState(!1),[c,o]=E.useState(!1),[m,N]=E.useState({}),{fetchApi:j}=Fe();E.useEffect(()=>{const u={};e.fields.forEach(x=>{x.includes("date")?u[x]=new Date().toISOString().split("T")[0]:u[x]=""}),l(u)},[e]);const g=(u,x)=>{l(b=>({...b,[u]:x})),m[u]&&N(b=>{const f={...b};return delete f[u],f})},w=()=>{const u={};return["company_name","date","worker_name"].forEach(b=>{e.fields.includes(b)&&!s[b]&&(u[b]="필수 입력 항목입니다.")}),N(u),Object.keys(u).length===0},d=async()=>{if(!w()){alert("필수 항목을 모두 입력해주세요.");return}i(!0);try{const u=await j(`/api/v1/documents/fill-pdf/${e.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entries:[s]})});if(u.status==="success"){const x=JSON.stringify(u,null,2),b=new Blob([x],{type:"application/json"}),f=window.URL.createObjectURL(b),C=document.createElement("a");C.href=f,C.download=`${e.name_korean}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(C),C.click(),window.URL.revokeObjectURL(f),document.body.removeChild(C),alert(`양식이 성공적으로 처리되었습니다.
처리된 필드: ${u.processed_fields.length}개`)}n==null||n(s),alert("PDF가 성공적으로 생성되었습니다.")}catch(u){console.error("PDF 생성 실패:",u),alert("PDF 생성 중 오류가 발생했습니다.")}finally{i(!1)}},y=()=>{if(!w()){alert("필수 항목을 모두 입력해주세요.");return}o(!0)},h=()=>{if(confirm("입력한 내용을 모두 초기화하시겠습니까?")){const u={};e.fields.forEach(x=>{x.includes("date")?u[x]=new Date().toISOString().split("T")[0]:u[x]=""}),l(u),N({})}},p=u=>{const x=Nx[u]||"text",b=Po[u]||u,f=_x(u),C=!!m[u],_={id:u,value:s[u]||"",onChange:z=>g(u,z.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${C?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:`${b} 입력`};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:u,className:"flex items-center text-sm font-medium text-gray-700",children:[r.jsx(f,{size:16,className:"mr-2 text-gray-500"}),b,["company_name","date","worker_name"].includes(u)&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),x==="textarea"?r.jsx("textarea",{..._,rows:3}):x==="number"?r.jsx("input",{..._,type:"number",min:"0",onChange:z=>g(u,parseInt(z.target.value)||0)}):r.jsx("input",{..._,type:x}),C&&r.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[r.jsx(kr,{size:14,className:"mr-1"}),m[u]]})]},u)};return c?r.jsx(dt,{onClose:()=>o(!1),children:r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold",children:[e.name_korean," - 미리보기"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{onClick:d,disabled:a,children:[r.jsx(Bt,{size:16,className:"mr-2"}),"PDF 생성"]}),r.jsx(I,{variant:"outline",onClick:()=>o(!1),children:"수정하기"})]})]}),r.jsx(R,{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:e.fields.map(u=>{const x=Po[u]||u,b=s[u];return r.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[r.jsxs("span",{className:"font-medium text-gray-700",children:[x,":"]}),r.jsx("span",{className:"text-gray-900",children:b||"-"})]},u)})})})]})}):r.jsx(dt,{onClose:t,children:r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ft,{className:"text-green-600 mr-3",size:24}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.name_korean}),r.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]}),r.jsxs($,{color:"blue",children:[e.fields.length,"개 필드"]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{onClick:y,variant:"outline",disabled:a,children:[r.jsx(Qt,{size:16,className:"mr-2"}),"미리보기"]}),r.jsxs(I,{onClick:h,variant:"outline",children:[r.jsx(ld,{size:16,className:"mr-2"}),"초기화"]})]}),r.jsx(I,{onClick:d,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"생성 중..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:16,className:"mr-2"}),"PDF 생성"]})})]}),r.jsx(R,{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.fields.map(p)})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx(kr,{size:14,className:"inline mr-1"}),r.jsx("span",{className:"text-red-500",children:"*"})," 표시된 항목은 필수 입력 항목입니다."]})})]})})}const bx=[{id:"legal_forms",name:"법정서식",icon:r.jsx(Ce,{className:"w-5 h-5"}),color:"blue",description:"법령에서 요구하는 필수 서식 및 양식",count:0,templates:0},{id:"health_checkups",name:"건강진단",icon:r.jsx(Ft,{className:"w-5 h-5"}),color:"green",description:"건강진단 관련 서류 및 결과서",count:0,templates:0},{id:"safety_education",name:"안전교육",icon:r.jsx(md,{className:"w-5 h-5"}),color:"orange",description:"안전보건 교육자료 및 이수증",count:0,templates:0},{id:"accident_reports",name:"사고보고서",icon:r.jsx(kr,{className:"w-5 h-5"}),color:"red",description:"산업재해 및 사고 관련 보고서",count:0,templates:0},{id:"msds",name:"MSDS",icon:r.jsx(Io,{className:"w-5 h-5"}),color:"purple",description:"화학물질 안전보건자료",count:0,templates:0},{id:"certificates",name:"인증서류",icon:r.jsx(Ht,{className:"w-5 h-5"}),color:"indigo",description:"각종 자격증 및 인증서",count:0,templates:0},{id:"policies",name:"정책문서",icon:r.jsx(Yr,{className:"w-5 h-5"}),color:"gray",description:"회사 정책 및 규정 문서",count:0,templates:0},{id:"templates",name:"서식템플릿",icon:r.jsx(pd,{className:"w-5 h-5"}),color:"yellow",description:"재사용 가능한 문서 템플릿",count:0,templates:0}],Yn=[{value:"draft",label:"초안",color:"gray"},{value:"review",label:"검토중",color:"yellow"},{value:"approved",label:"승인됨",color:"green"},{value:"archived",label:"보관됨",color:"blue"},{value:"expired",label:"만료됨",color:"red"}],kx=[{value:"grid",label:"카드뷰",icon:r.jsx(xd,{size:16})},{value:"list",label:"목록뷰",icon:r.jsx(fd,{size:16})}];function Mo({onDocumentSelect:e,selectedDocuments:t=[],mode:n="management"}){const[s,l]=E.useState([]),[a,i]=E.useState(bx),[c,o]=E.useState(!0),[m,N]=E.useState(""),[j,g]=E.useState(""),[w,d]=E.useState("grid"),[y,h]=E.useState({status:"",type:"",created_by:"",date_from:"",date_to:"",tags:"",is_template:!1}),[p,u]=E.useState(!1),[x,b]=E.useState(!1),[f,C]=E.useState(new Set),{fetchApi:_}=Fe();E.useEffect(()=>{z(),B()},[m,y]);const z=async()=>{try{o(!0);const v=new URLSearchParams;m&&v.append("category",m),j&&v.append("search",j),y.status&&v.append("status",y.status),y.type&&v.append("type",y.type),y.created_by&&v.append("created_by",y.created_by),y.date_from&&v.append("date_from",y.date_from),y.date_to&&v.append("date_to",y.date_to),y.tags&&v.append("tags",y.tags),y.is_template&&v.append("is_template","true");const D=await _(`/documents?${v}`);l(D.items||[])}catch(v){console.error("문서 목록 조회 실패:",v)}finally{o(!1)}},B=async()=>{try{const v=await _("/documents/categories/stats");i(D=>D.map(A=>{var Y,Ye;return{...A,count:((Y=v[A.id])==null?void 0:Y.count)||0,templates:((Ye=v[A.id])==null?void 0:Ye.templates)||0}}))}catch(v){console.error("카테고리 통계 조회 실패:",v)}},k=v=>{n==="selection"?e==null||e(v):F(v)},F=v=>{v.mime_type.includes("pdf")||v.mime_type.includes("image")?window.open(`/api/v1/documents/${v.id}/preview`,"_blank"):S(v.id)},S=async v=>{var D;try{const A=await fetch(`/api/v1/documents/${v}/download`),Y=await A.blob(),Ye=window.URL.createObjectURL(Y),Ae=document.createElement("a");Ae.href=Ye,Ae.download=((D=A.headers.get("Content-Disposition"))==null?void 0:D.split("filename=")[1])||"document",Ae.click(),window.URL.revokeObjectURL(Ye)}catch(A){console.error("문서 다운로드 실패:",A)}},H=async v=>{if(confirm("정말 삭제하시겠습니까?"))try{await _(`/documents/${v}`,{method:"DELETE"}),await z(),await B()}catch(D){console.error("문서 삭제 실패:",D)}},P=async v=>{if(f.size===0)return;const D=Array.from(f);try{switch(v){case"delete":if(!confirm(`선택된 ${D.length}개 문서를 삭제하시겠습니까?`))return;await _("/documents/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({document_ids:D})});break;case"archive":await _("/documents/bulk-archive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({document_ids:D})});break;case"download":await _("/documents/bulk-download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({document_ids:D})});break}C(new Set),await z(),await B()}catch(A){console.error("일괄 작업 실패:",A)}},T=v=>{const D=new Set(f);D.has(v)?D.delete(v):D.add(v),C(D)},U=v=>{if(v===0)return"0 B";const D=1024,A=["B","KB","MB","GB"],Y=Math.floor(Math.log(v)/Math.log(D));return parseFloat((v/Math.pow(D,Y)).toFixed(2))+" "+A[Y]},Q=v=>{const D=Yn.find(A=>A.value===v);return(D==null?void 0:D.color)||"gray"},M=s.filter(v=>{var D;return j?v.title.toLowerCase().includes(j.toLowerCase())||((D=v.description)==null?void 0:D.toLowerCase().includes(j.toLowerCase()))||v.tags.some(A=>A.toLowerCase().includes(j.toLowerCase())):!0});return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"통합 문서 관리"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"모든 문서를 한 곳에서 관리하고 처리하세요"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(I,{variant:"secondary",onClick:()=>b(!x),icon:r.jsx(dd,{size:16}),children:"필터"}),r.jsx(I,{onClick:()=>u(!0),icon:r.jsx(Sl,{size:16}),children:"문서 업로드"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[r.jsx(R,{className:`p-4 cursor-pointer transition-colors ${m===""?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>N(""),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-600 mb-2",children:r.jsx(Yr,{className:"w-6 h-6 mx-auto"})}),r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"전체"}),r.jsxs("div",{className:"text-xs text-gray-500",children:[s.length,"개"]})]})}),a.map(v=>r.jsx(R,{className:`p-4 cursor-pointer transition-colors ${m===v.id?`ring-2 ring-${v.color}-500 bg-${v.color}-50`:"hover:bg-gray-50"}`,onClick:()=>N(v.id),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-${v.color}-600 mb-2`,children:v.icon}),r.jsx("div",{className:"text-sm font-medium text-gray-700",children:v.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[v.count,"개",v.templates>0&&r.jsxs("span",{className:"text-blue-500",children:[" (+",v.templates,")"]})]})]})},v.id))]}),r.jsxs(R,{className:"p-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"문서명, 내용, 태그로 검색...",value:j,onChange:v=>g(v.target.value),onKeyPress:v=>v.key==="Enter"&&z(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsx("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:kx.map(v=>r.jsxs("button",{onClick:()=>d(v.value),className:`px-3 py-2 flex items-center gap-2 text-sm ${v.value===v?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[v.icon,v.label]},v.value))}),f.size>0&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("span",{className:"flex items-center text-sm text-gray-600",children:[f.size,"개 선택됨"]}),r.jsx(I,{variant:"secondary",size:"sm",onClick:()=>P("download"),icon:r.jsx(Bt,{size:14}),children:"다운로드"}),r.jsx(I,{variant:"secondary",size:"sm",onClick:()=>P("archive"),icon:r.jsx(Io,{size:14}),children:"보관"}),r.jsx(I,{variant:"secondary",size:"sm",onClick:()=>P("delete"),icon:r.jsx(Je,{size:14}),children:"삭제"})]})]}),x&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"상태"}),r.jsxs("select",{value:y.status,onChange:v=>h(D=>({...D,status:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"모든 상태"}),Yn.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"생성자"}),r.jsx("input",{type:"text",value:y.created_by,onChange:v=>h(D=>({...D,created_by:v.target.value})),placeholder:"생성자명",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"시작일"}),r.jsx("input",{type:"date",value:y.date_from,onChange:v=>h(D=>({...D,date_from:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"종료일"}),r.jsx("input",{type:"date",value:y.date_to,onChange:v=>h(D=>({...D,date_to:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"태그"}),r.jsx("input",{type:"text",value:y.tags,onChange:v=>h(D=>({...D,tags:v.target.value})),placeholder:"태그명 (쉼표로 구분)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:y.is_template,onChange:v=>h(D=>({...D,is_template:v.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"템플릿만"})]})})]})})]}),r.jsx(R,{children:c?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"문서를 불러오는 중..."})]}):M.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Ce,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"문서가 없습니다"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"새 문서를 업로드하거나 템플릿을 생성해보세요."}),r.jsx("div",{className:"mt-6",children:r.jsx(I,{onClick:()=>u(!0),icon:r.jsx(Ve,{size:16}),children:"문서 업로드"})})]}):r.jsx("div",{className:w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-4":"p-4",children:w==="grid"?M.map(v=>{var D;return r.jsx(R,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${f.has(v.id)?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>n==="management"?T(v.id):k(v),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ce,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:v.title})]}),v.is_template&&r.jsx($,{color:"yellow",size:"sm",className:"mt-1",children:"템플릿"})]}),n==="management"&&r.jsx("input",{type:"checkbox",checked:f.has(v.id),onChange:A=>{A.stopPropagation(),T(v.id)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),v.description&&r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:v.description}),v.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.tags.slice(0,3).map(A=>r.jsx($,{color:"gray",size:"sm",children:A},A)),v.tags.length>3&&r.jsxs($,{color:"gray",size:"sm",children:["+",v.tags.length-3]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($,{color:Q(v.status),size:"sm",children:((D=Yn.find(A=>A.value===v.status))==null?void 0:D.label)||v.status}),r.jsx("span",{children:U(v.file_size)})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wt,{className:"w-3 h-3"}),r.jsx("span",{children:new Date(v.updated_at).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex gap-1 pt-2 border-t",children:[r.jsxs("button",{onClick:A=>{A.stopPropagation(),F(v)},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[r.jsx(Qt,{className:"w-3 h-3"}),"미리보기"]}),r.jsxs("button",{onClick:A=>{A.stopPropagation(),S(v.id)},className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 text-xs text-green-600 hover:bg-green-50 rounded",children:[r.jsx(Bt,{className:"w-3 h-3"}),"다운로드"]}),n==="management"&&r.jsx("button",{onClick:A=>{A.stopPropagation(),H(v.id)},className:"flex items-center justify-center gap-1 px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded",children:r.jsx(Je,{className:"w-3 h-3"})})]})]})},v.id)}):r.jsx(Xu,{columns:[{key:"select",header:n==="management"?r.jsx("input",{type:"checkbox",checked:f.size===M.length,onChange:v=>{v.target.checked?C(new Set(M.map(D=>D.id))):C(new Set)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):"",render:v=>n==="management"?r.jsx("input",{type:"checkbox",checked:f.has(v.id),onChange:()=>T(v.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):null},{key:"title",header:"문서명",render:v=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ce,{className:"w-4 h-4 text-gray-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:v.title}),v.description&&r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:v.description})]}),v.is_template&&r.jsx($,{color:"yellow",size:"sm",children:"템플릿"})]})},{key:"category",header:"카테고리",render:v=>{const D=a.find(A=>A.id===v.category);return D?r.jsx($,{color:D.color,children:D.name}):r.jsx("span",{className:"text-gray-500",children:v.category})}},{key:"status",header:"상태",render:v=>{var D;return r.jsx($,{color:Q(v.status),children:((D=Yn.find(A=>A.value===v.status))==null?void 0:D.label)||v.status})}},{key:"size",header:"크기",render:v=>U(v.file_size)},{key:"created_by",header:"생성자",render:v=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(hr,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{className:"text-sm",children:v.created_by})]})},{key:"updated_at",header:"수정일",render:v=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{className:"text-sm",children:new Date(v.updated_at).toLocaleDateString()})]})},{key:"actions",header:"작업",render:v=>r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>F(v),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"미리보기",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>S(v.id),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"다운로드",children:r.jsx(Bt,{className:"w-4 h-4"})}),n==="management"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{},className:"p-1 text-orange-600 hover:bg-orange-50 rounded",title:"편집",children:r.jsx(er,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>H(v.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"삭제",children:r.jsx(Je,{className:"w-4 h-4"})})]})]})}],data:M,loading:c,emptyMessage:"조건에 맞는 문서가 없습니다."})})}),p&&r.jsx(dt,{isOpen:p,onClose:()=>u(!1),maxWidth:"2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"문서 업로드"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[r.jsx(Sl,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"파일을 드래그 앤 드롭하거나 클릭하여 업로드하세요"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"지원 형식: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, 이미지 파일"})]})]})})]})}const Sx=[{id:"msds_register",name:"MSDS Management Register",korean_name:"MSDS 관리대장",description:"화학물질 안전보건자료 관리대장",category:"03-관리대장",file_path:"03-관리대장/001_MSDS_관리대장.xls",fields:["chemical_name","supplier","date_received","manager","location"],template_type:"form",required_fields:["chemical_name","date_received"]},{id:"health_consultation_log",name:"Health Consultation Visit Log",korean_name:"건강관리 상담방문 일지",description:"보건관리자 현장방문 및 상담 기록",category:"03-관리대장",file_path:"03-관리대장/002_건강관리_상담방문_일지.xls",fields:["visit_date","visitor_name","consultation_type","findings","recommendations"],template_type:"form",required_fields:["visit_date","visitor_name"]},{id:"health_findings_register",name:"Health Findings Management Register",korean_name:"유소견자 관리대장",description:"건강진단 유소견자 관리 및 추적",category:"03-관리대장",file_path:"03-관리대장/003_유소견자_관리대장.xlsx",fields:["worker_name","exam_date","findings","follow_up_date","status"],template_type:"form",required_fields:["worker_name","exam_date","findings"]},{id:"special_substance_log",name:"Special Substance Handling Log",korean_name:"특별관리물질 취급일지",description:"특별관리물질 취급 기록 일지 (별표7 양식)",category:"07-특별관리물질",file_path:"07-특별관리물질/001_특별관리물질_취급일지_별표7_양식.pdf",fields:["date","worker_name","substance_name","handling_type","duration","ppe_used"],template_type:"fillable",required_fields:["date","worker_name","substance_name"]},{id:"special_substance_log_a",name:"Special Substance Log Type A",korean_name:"특별관리물질 취급일지 A형",description:"특별관리물질 취급일지 A형 양식",category:"07-특별관리물질",file_path:"07-특별관리물질/003_특별관리물질_취급일지_A형.docx",fields:["date","worker_name","substance_name","work_content","duration"],template_type:"form",required_fields:["date","worker_name","substance_name"]},{id:"special_substance_log_b",name:"Special Substance Log Type B",korean_name:"특별관리물질 취급일지 B형",description:"특별관리물질 취급일지 B형 양식",category:"07-특별관리물질",file_path:"07-특별관리물질/004_특별관리물질_취급일지_B형.docx",fields:["date","worker_name","substance_name","work_content","duration"],template_type:"form",required_fields:["date","worker_name","substance_name"]},{id:"safety_checklist_01",name:"Safety Management Responsibility Checklist",korean_name:"안전보건관리책임자 체크리스트",description:"안전보건관리책임자 업무 체크리스트",category:"02-법정서식",file_path:"02-법정서식/분리된_서식들/01_3 안전보건관리책임자  36   서울시 중대산업재해 예_p1-1.pdf",fields:["check_date","inspector","items_checked","remarks"],template_type:"checklist",required_fields:["check_date","inspector"]},{id:"safety_checklist_02",name:"Management System Checklist",korean_name:"안전보건관리체계 체크리스트",description:"안전보건관리체계 구축 체크리스트",category:"02-법정서식",file_path:"02-법정서식/분리된_서식들/02_Ⅱ 안전보건관리체계 구축 3 7관리감독자 업무 수행 평_p2-2.pdf",fields:["check_date","inspector","system_status","improvements"],template_type:"checklist",required_fields:["check_date","inspector"]},{id:"integrated_safety_checklist",name:"Integrated Safety Management Checklist",korean_name:"안전보건관리체계 통합체크리스트",description:"안전보건관리체계 통합 점검 체크리스트",category:"02-법정서식",file_path:"02-법정서식/체크리스트_모음/01_안전보건관리체계_통합체크리스트.pdf",fields:["inspection_date","inspector","department","checklist_items","score","recommendations"],template_type:"checklist",required_fields:["inspection_date","inspector"]},{id:"risk_assessment_checklist",name:"Risk Assessment Integrated Checklist",korean_name:"위험요인 조사 통합체크리스트",description:"위험요인 조사 및 평가 통합 체크리스트",category:"02-법정서식",file_path:"02-법정서식/체크리스트_모음/02_위험요인_조사_통합체크리스트.pdf",fields:["assessment_date","assessor","work_area","hazards_identified","risk_level","controls"],template_type:"checklist",required_fields:["assessment_date","assessor","work_area"]},{id:"accident_response_checklist",name:"Accident Response Integrated Checklist",korean_name:"산업재해 대응 통합체크리스트",description:"산업재해 발생시 대응 절차 체크리스트",category:"02-법정서식",file_path:"02-법정서식/체크리스트_모음/04_산업재해_대응_통합체크리스트.pdf",fields:["incident_date","responder","incident_type","response_actions","followup_required"],template_type:"checklist",required_fields:["incident_date","responder","incident_type"]},{id:"health_checklist",name:"Health Related Checklist",korean_name:"보건관련 체크리스트",description:"현장 보건관리 점검 체크리스트",category:"04-체크리스트",file_path:"04-체크리스트/001_보건관련_체크리스트.pdf",fields:["check_date","checker","health_items","compliance_status","corrective_actions"],template_type:"checklist",required_fields:["check_date","checker"]}],wl=[{id:"manual",name:"01-업무매뉴얼",description:"업무 매뉴얼 및 지침서"},{id:"legal",name:"02-법정서식",description:"법정 서식 및 양식"},{id:"register",name:"03-관리대장",description:"각종 관리대장"},{id:"checklist",name:"04-체크리스트",description:"점검 체크리스트"},{id:"education",name:"05-교육자료",description:"안전보건교육 자료"},{id:"msds",name:"06-MSDS관련",description:"MSDS 관련 자료"},{id:"special",name:"07-특별관리물질",description:"특별관리물질 관련"},{id:"health",name:"08-건강관리",description:"건강관리 관련 문서"},{id:"reference",name:"09-참고자료",description:"참고 자료 및 문서"},{id:"latest",name:"10-최신자료_2024-2025",description:"최신 자료 및 업데이트"}];function Cx(){const[e,t]=E.useState("workspace"),[n,s]=E.useState(Sx),[l,a]=E.useState([]),[i,c]=E.useState(!1),[o,m]=E.useState(""),[N,j]=E.useState(""),[g,w]=E.useState(!1),[d,y]=E.useState(null);E.useState({});const{fetchApi:h}=Fe();E.useEffect(()=>{p()},[e]);const p=async()=>{c(!0);try{switch(e){case"editable-forms":break;case"categories":await u();break}}catch(k){console.error("Failed to load data:",k)}finally{c(!1)}},u=async()=>{try{const k=await h("/api/v1/documents/categories");a(k||wl.map(F=>({...F,file_count:0,last_updated:new Date().toISOString()})))}catch(k){console.error("Failed to load categories:",k),a(wl.map(F=>({...F,file_count:0,last_updated:new Date().toISOString()})))}},x=k=>{t(k),m(""),j("")},b=async(k,F)=>{switch(k){case"edit":y(F),w(!0);break;case"view":try{const S=await fetch(`/api/v1/document-editor/view/${F.file_path}`);if(S.ok){const H=await S.blob(),P=window.URL.createObjectURL(H);window.open(P,"_blank")}}catch(S){console.error("View failed:",S),alert("문서 보기에 실패했습니다.")}break;case"download":try{const S=await fetch(`/api/v1/document-editor/download/${F.file_path}`);if(S.ok){const H=await S.blob(),P=window.URL.createObjectURL(H),T=document.createElement("a");T.href=P,T.download=`${F.korean_name}_template.${F.file_path.split(".").pop()}`,document.body.appendChild(T),T.click(),window.URL.revokeObjectURL(P),document.body.removeChild(T)}}catch(S){console.error("Download failed:",S),alert("다운로드에 실패했습니다.")}break}};files.filter(k=>{const F=!o||k.name.toLowerCase().includes(o.toLowerCase()),S=!N||k.category===N;return F&&S});const f=n.filter(k=>{const F=!o||k.korean_name.toLowerCase().includes(o.toLowerCase())||k.name.toLowerCase().includes(o.toLowerCase())||k.description.toLowerCase().includes(o.toLowerCase()),S=!N||k.category===N;return F&&S}),C=()=>{switch(e){case"workspace":return r.jsx(Mo,{});case"editable-forms":return _();case"categories":return z();case"analytics":return B();default:return r.jsx(Mo,{})}},_=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"편집 양식 검색...",value:o,onChange:k=>m(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:N,onChange:k=>j(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"모든 카테고리"}),wl.map(k=>r.jsx("option",{value:k.name,children:k.name},k.id))]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(I,{onClick:()=>p(),variant:"outline",children:[r.jsx(Et,{size:16,className:"mr-2"}),"새로고침"]})})]}),i?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(Et,{className:"animate-spin",size:32})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map(k=>r.jsx(R,{className:"p-6 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx(Ft,{className:"text-green-600 mr-3 flex-shrink-0",size:24}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:k.korean_name}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:k.description})]})]}),r.jsx($,{color:"blue",className:"ml-2 flex-shrink-0",children:k.template_type})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:k.category})}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.file_path})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>b("view",k),className:"flex-1",children:[r.jsx(Qt,{size:16,className:"mr-1"}),"보기"]}),r.jsxs(I,{size:"sm",onClick:()=>b("edit",k),className:"flex-1",children:[r.jsx(er,{size:16,className:"mr-1"}),"편집"]}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>b("download",k),children:r.jsx(Bt,{size:16})})]})]})},k.id))}),f.length===0&&!i&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ft,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"편집 가능한 양식이 없습니다"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"검색 조건을 변경하여 다시 시도하세요."})]})]}),z=()=>r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map(k=>r.jsx(R,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Yr,{className:"text-blue-600 mr-3",size:28}),r.jsx("div",{children:r.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:k.name})})]}),r.jsxs($,{color:"gray",className:"flex-shrink-0",children:[k.file_count,"개 파일"]})]}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:k.description}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"최근 업데이트"}),r.jsx("span",{className:"text-xs text-gray-600 font-medium",children:new Date(k.last_updated).toLocaleDateString()})]})]})},k.id))})}),B=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(R,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"총 문서"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:files.length})]}),r.jsx(Ce,{className:"text-blue-600",size:32})]})}),r.jsx(R,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"PDF 양식"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:pdfForms.length})]}),r.jsx(Ft,{className:"text-green-600",size:32})]})}),r.jsx(R,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"카테고리"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l.length})]}),r.jsx(Yr,{className:"text-orange-600",size:32})]})}),r.jsx(R,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"활성 사용자"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"12"})]}),r.jsx(Ds,{className:"text-purple-600",size:32})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(R,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"카테고리별 문서 분포"}),r.jsx("div",{className:"space-y-3",children:l.map(k=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:k.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(k.file_count/Math.max(...l.map(F=>F.file_count),1)*100,100)}%`}})}),r.jsx("span",{className:"text-sm font-medium",children:k.file_count})]})]},k.id))})]}),r.jsxs(R,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"최근 활동"}),r.jsx("div",{className:"space-y-3",children:[{action:"업로드",file:"건강검진 결과서.pdf",user:"김관리자",time:"2시간 전"},{action:"편집",file:"안전교육 이수증",user:"이담당자",time:"4시간 전"},{action:"다운로드",file:"MSDS 신청서",user:"박보건",time:"6시간 전"},{action:"승인",file:"사고보고서 양식",user:"최관리자",time:"1일 전"}].map((k,F)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium",children:k.user}),"가",r.jsx("span",{className:"text-blue-600 mx-1",children:k.file}),"를",k.action,"했습니다"]}),r.jsx("p",{className:"text-xs text-gray-500",children:k.time})]})]},F))})]})]}),r.jsxs(R,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"문서 사용 추세"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[r.jsx(vi,{className:"mx-auto text-gray-400",size:48}),r.jsx("p",{className:"text-gray-600 mt-2",children:"문서 사용 통계 차트"}),r.jsx("p",{className:"text-sm text-gray-500",children:"차트 라이브러리 통합 예정"})]})]})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"통합 문서관리"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs($,{color:"green",children:[r.jsx(Ht,{size:14,className:"mr-1"}),"통합완료"]})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"workspace",name:"통합 작업공간",icon:wr},{id:"editable-forms",name:"편집 양식",icon:Ft},{id:"categories",name:"카테고리",icon:Yr},{id:"analytics",name:"분석",icon:vi}].map(k=>{const F=k.icon;return r.jsxs("button",{onClick:()=>x(k.id),className:`
                  whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2
                  ${e===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[r.jsx(F,{size:16}),k.name]},k.id)})})}),C(),showUploadModal&&r.jsx(dt,{onClose:()=>setShowUploadModal(!1),children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"파일 업로드"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx(Sl,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"파일을 여기에 드래그하거나 클릭하여 선택하세요"})]})]})}),g&&d&&r.jsx(wx,{form:d,onClose:()=>{w(!1),y(null)},onSave:k=>{console.log("Form saved:",k),w(!1),y(null)}})]})}function Ex(){const[e,t]=E.useState("dashboard"),[n,s]=E.useState("month"),[l,a]=E.useState([]),[i,c]=E.useState([]),[o,m]=E.useState([]),[N,j]=E.useState(!1),[g,w]=E.useState({start:"",end:""}),{fetchApi:d}=Fe();E.useEffect(()=>{y()},[e,n]);const y=async()=>{j(!0);try{const[_,z,B]=await Promise.all([d(`/api/v1/reports?type=${e}&range=${n}`),d(`/api/v1/reports/metrics?type=${e}&range=${n}`),d("/api/v1/reports/compliance")]);a(_||[]),c(z||[]),m(B||[])}catch(_){console.error("Failed to load report data:",_),h()}finally{j(!1)}},h=()=>{const _=[{id:"1",title:"월간 근로자 건강현황 보고서",description:"근로자 건강진단 결과 및 현황 분석",type:"health",last_generated:"2024-01-15T10:00:00Z",status:"available",download_count:15},{id:"2",title:"작업환경측정 결과 보고서",description:"유해요인 측정 결과 및 개선사항",type:"environment",last_generated:"2024-01-10T14:30:00Z",status:"available",download_count:8},{id:"3",title:"안전사고 현황 및 분석",description:"산업재해 발생현황 및 예방대책",type:"safety",last_generated:"2024-01-12T09:15:00Z",status:"available",download_count:22}],z=[{label:"총 근로자 수",value:245,change:5,trend:"up",color:"blue"},{label:"건강진단 완료율",value:"95%",change:3,trend:"up",color:"green"},{label:"안전교육 이수율",value:"87%",change:-2,trend:"down",color:"yellow"},{label:"산업재해 건수",value:2,change:-1,trend:"down",color:"green"},{label:"법령 준수율",value:"98%",change:1,trend:"up",color:"green"},{label:"작업환경 적정률",value:"92%",change:0,trend:"stable",color:"blue"}],B=[{requirement:"특수건강진단 실시",status:"compliant",due_date:"2024-06-30",responsible:"보건관리자"},{requirement:"작업환경측정",status:"pending",due_date:"2024-03-15",responsible:"환경관리자"},{requirement:"안전보건교육 실시",status:"compliant",due_date:"2024-02-28",responsible:"안전관리자"}];a(_),c(z),m(B)},p=async _=>{try{j(!0);const z=await d("/api/v1/reports/generate",{method:"POST",body:JSON.stringify({type:_,time_range:n,custom_range:n==="custom"?g:null})});z!=null&&z.download_url&&window.open(z.download_url,"_blank"),await y()}catch(z){console.error("Failed to generate report:",z)}finally{j(!1)}},u=_=>{window.open(`/api/v1/reports/download/${_}`,"_blank")},x=_=>{switch(_){case"available":return"green";case"generating":return"yellow";case"error":return"red";default:return"gray"}},b=_=>{switch(_){case"compliant":return"green";case"non_compliant":return"red";case"pending":return"yellow";default:return"gray"}},f=_=>{switch(_){case"up":return r.jsx(ln,{size:16,className:"text-green-600"});case"down":return r.jsx(ln,{size:16,className:"text-red-600 rotate-180"});default:return r.jsx(Wt,{size:16,className:"text-gray-400"})}},C=[{id:"dashboard",name:"종합현황",icon:bl,color:"text-blue-600"},{id:"workers",name:"근로자관리",icon:Ds,color:"text-purple-600"},{id:"health",name:"건강관리",icon:Ro,color:"text-red-600"},{id:"environment",name:"작업환경",icon:wr,color:"text-green-600"},{id:"safety",name:"안전관리",icon:lt,color:"text-orange-600"},{id:"compliance",name:"법령준수",icon:Ht,color:"text-teal-600"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"종합보고서 시스템"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs($,{color:"blue",children:[r.jsx(bl,{size:14,className:"mr-1"}),"강화된 분석"]})})]}),r.jsx("div",{className:"flex flex-wrap gap-2 p-4 bg-gray-50 rounded-lg",children:C.map(_=>{const z=_.icon;return r.jsxs("button",{onClick:()=>t(_.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-lg transition-all
                ${e===_.id?"bg-white shadow-md border-2 border-blue-200":"hover:bg-white hover:shadow-sm"}
              `,children:[r.jsx(z,{size:16,className:_.color}),r.jsx("span",{className:"font-medium",children:_.name})]},_.id)})}),r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{size:16,className:"text-gray-600"}),r.jsx("span",{className:"font-medium",children:"기간 선택:"})]}),r.jsx("div",{className:"flex gap-2",children:[{value:"week",label:"최근 1주"},{value:"month",label:"최근 1개월"},{value:"quarter",label:"분기"},{value:"year",label:"연간"},{value:"custom",label:"사용자 지정"}].map(_=>r.jsx("button",{onClick:()=>s(_.value),className:`
                  px-3 py-1 rounded-md text-sm transition-all
                  ${n===_.value?"bg-blue-100 text-blue-700 border border-blue-300":"hover:bg-gray-100"}
                `,children:_.label},_.value))}),n==="custom"&&r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("input",{type:"date",value:g.start,onChange:_=>w(z=>({...z,start:_.target.value})),className:"px-3 py-1 border rounded-md"}),r.jsx("span",{children:"~"}),r.jsx("input",{type:"date",value:g.end,onChange:_=>w(z=>({...z,end:_.target.value})),className:"px-3 py-1 border rounded-md"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((_,z)=>r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:_.label}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.value}),_.change!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[f(_.trend),r.jsxs("span",{className:`text-sm ${_.trend==="up"?"text-green-600":_.trend==="down"?"text-red-600":"text-gray-600"}`,children:[Math.abs(_.change),"% 전월 대비"]})]})]}),r.jsx($,{color:_.color,children:_.color==="green"?"양호":_.color==="yellow"?"주의":_.color==="red"?"위험":"정상"})]})},z))}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"사용 가능한 보고서"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{onClick:()=>y(),variant:"outline",children:[r.jsx(Et,{size:16,className:"mr-2"}),"새로고침"]}),r.jsxs(I,{onClick:()=>p(e),children:[r.jsx(Ce,{size:16,className:"mr-2"}),"보고서 생성"]})]})]}),N?r.jsx("div",{className:"flex justify-center items-center h-32",children:r.jsx(Et,{className:"animate-spin",size:32})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(_=>r.jsxs(R,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:_.title}),r.jsx("p",{className:"text-sm text-gray-600",children:_.description})]}),r.jsx($,{color:x(_.status),children:_.status==="available"?"사용가능":_.status==="generating"?"생성중":"오류"})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[r.jsxs("div",{children:["생성일: ",new Date(_.last_generated).toLocaleDateString()]}),r.jsxs("div",{children:["다운로드: ",_.download_count,"회"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(I,{size:"sm",variant:"outline",onClick:()=>window.open(`/api/v1/reports/preview/${_.id}`,"_blank"),children:r.jsx(Qt,{size:14})}),r.jsx(I,{size:"sm",onClick:()=>u(_.id),disabled:_.status!=="available",children:r.jsx(Bt,{size:14})})]})]},_.id))})]}),r.jsxs(R,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"법령 준수 현황"}),r.jsx("div",{className:"space-y-3",children:o.map((_,z)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[_.status==="compliant"?r.jsx(Ht,{size:16,className:"text-green-600"}):_.status==="pending"?r.jsx(Wt,{size:16,className:"text-yellow-600"}):r.jsx(hd,{size:16,className:"text-red-600"}),r.jsx($,{color:b(_.status),children:_.status==="compliant"?"준수":_.status==="pending"?"대기":"미준수"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:_.requirement}),r.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",_.responsible,")"]})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["마감일: ",new Date(_.due_date).toLocaleDateString()]})]},z))})]})]})}function zx(){const[e,t]=E.useState("system"),[n,s]=E.useState(null),[l,a]=E.useState(null),[i,c]=E.useState(!0),[o,m]=E.useState(!1),{fetchApi:N}=Fe();E.useEffect(()=>{j()},[]);const j=async()=>{try{c(!0);const h={company_name:"안전건설 주식회사",company_address:"서울특별시 강남구 테헤란로 123",company_phone:"02-1234-5678",company_registration_number:"123-45-67890",business_type:"건설업",total_employees:150,safety_manager:"이안전",health_manager:"김보건",representative_name:"박대표",auto_backup_enabled:!0,backup_frequency:"daily",notification_enabled:!0,email_notifications:!0,sms_notifications:!1,report_language:"korean",data_retention_period:36,audit_log_enabled:!0,password_policy_enabled:!0,session_timeout:120,api_access_enabled:!1,maintenance_mode:!1},p={user_name:"관리자",user_email:"admin@company.com",user_phone:"010-1234-5678",user_role:"시스템 관리자",department:"안전관리팀",notification_preferences:{accidents:!0,health_exams:!0,education_reminders:!0,report_deadlines:!0,system_updates:!1},dashboard_layout:"default",theme:"light",language:"korean",timezone:"Asia/Seoul"};s(h),a(p)}catch(h){console.error("설정 조회 실패:",h)}finally{c(!1)}},g=async()=>{try{m(!0);try{await N("/settings",{method:"PUT",body:JSON.stringify({system:n,user:l})}),console.log("API 설정 저장 성공")}catch(h){console.log("API 저장 실패, 로컬 저장소 사용:",h),localStorage.setItem("healthSystem_settings",JSON.stringify({system:n,user:l,saved_at:new Date().toISOString()}))}alert("설정이 저장되었습니다.")}catch(h){console.error("설정 저장 실패:",h),alert("설정 저장에 실패했습니다.")}finally{m(!1)}},w=(h,p)=>{n&&s({...n,[h]:p})},d=(h,p)=>{l&&a({...l,[h]:p})},y=(h,p)=>{l&&a({...l,notification_preferences:{...l.notification_preferences,[h]:p}})};return i?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"설정"}),r.jsx(R,{children:r.jsx("p",{className:"text-gray-600",children:"설정을 불러오는 중..."})})]}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"시스템 설정"}),r.jsxs(I,{onClick:g,disabled:o,className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4"}),o?"저장 중...":"설정 저장"]})]}),r.jsx(R,{children:r.jsx("div",{className:"flex space-x-1 border-b",children:[{id:"system",label:"시스템 정보",icon:kl},{id:"user",label:"사용자 설정",icon:hr},{id:"security",label:"보안 설정",icon:is},{id:"backup",label:"백업 및 알림",icon:ji}].map(h=>r.jsxs("button",{onClick:()=>t(h.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg transition-colors ${e===h.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[r.jsx(h.icon,{className:"w-4 h-4"}),h.label]},h.id))})}),e==="system"&&n&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(kl,{className:"w-5 h-5"}),"회사 정보"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"회사명"}),r.jsx("input",{type:"text",value:n.company_name,onChange:h=>w("company_name",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주소"}),r.jsx("input",{type:"text",value:n.company_address,onChange:h=>w("company_address",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),r.jsx("input",{type:"text",value:n.company_phone,onChange:h=>w("company_phone",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사업자등록번호"}),r.jsx("input",{type:"text",value:n.company_registration_number,onChange:h=>w("company_registration_number",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"업종"}),r.jsxs("select",{value:n.business_type,onChange:h=>w("business_type",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"건설업",children:"건설업"}),r.jsx("option",{value:"제조업",children:"제조업"}),r.jsx("option",{value:"서비스업",children:"서비스업"}),r.jsx("option",{value:"기타",children:"기타"})]})]})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"관리자 정보"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"대표자명"}),r.jsx("input",{type:"text",value:n.representative_name,onChange:h=>w("representative_name",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"안전관리자"}),r.jsx("input",{type:"text",value:n.safety_manager,onChange:h=>w("safety_manager",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"보건관리자"}),r.jsx("input",{type:"text",value:n.health_manager,onChange:h=>w("health_manager",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"총 근로자 수"}),r.jsx("input",{type:"number",value:n.total_employees,onChange:h=>w("total_employees",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"보고서 언어"}),r.jsxs("select",{value:n.report_language,onChange:h=>w("report_language",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"korean",children:"한국어"}),r.jsx("option",{value:"english",children:"영어"}),r.jsx("option",{value:"both",children:"한국어/영어"})]})]})]})]})})]}),e==="user"&&l&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"개인 정보"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사용자명"}),r.jsx("input",{type:"text",value:l.user_name,onChange:h=>d("user_name",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),r.jsx("input",{type:"email",value:l.user_email,onChange:h=>d("user_email",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),r.jsx("input",{type:"text",value:l.user_phone,onChange:h=>d("user_phone",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"역할"}),r.jsx("input",{type:"text",value:l.user_role,onChange:h=>d("user_role",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"부서"}),r.jsx("input",{type:"text",value:l.department,onChange:h=>d("department",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(sn,{className:"w-5 h-5"}),"알림 설정"]}),r.jsx("div",{className:"space-y-3",children:Object.entries({accidents:"사고 발생",health_exams:"건강진단 일정",education_reminders:"교육 알림",report_deadlines:"보고서 제출 기한",system_updates:"시스템 업데이트"}).map(([h,p])=>r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:l.notification_preferences[h],onChange:u=>y(h,u.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:p})]},h))}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"테마"}),r.jsxs("select",{value:l.theme,onChange:h=>d("theme",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"light",children:"라이트"}),r.jsx("option",{value:"dark",children:"다크"}),r.jsx("option",{value:"auto",children:"자동"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"대시보드 레이아웃"}),r.jsxs("select",{value:l.dashboard_layout,onChange:h=>d("dashboard_layout",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"default",children:"기본"}),r.jsx("option",{value:"compact",children:"컴팩트"}),r.jsx("option",{value:"detailed",children:"상세"})]})]})]})})]})})]}),e==="security"&&n&&r.jsx(R,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(is,{className:"w-5 h-5"}),"보안 설정"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:"인증 설정"}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.password_policy_enabled,onChange:h=>w("password_policy_enabled",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"강력한 비밀번호 정책 사용"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"세션 타임아웃 (분)"}),r.jsx("input",{type:"number",value:n.session_timeout,onChange:h=>w("session_timeout",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.api_access_enabled,onChange:h=>w("api_access_enabled",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"API 접근 허용"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:"감사 로그"}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.audit_log_enabled,onChange:h=>w("audit_log_enabled",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"감사 로그 기록"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"데이터 보존 기간 (개월)"}),r.jsx("input",{type:"number",value:n.data_retention_period,onChange:h=>w("data_retention_period",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"법적 요구사항: 최소 36개월"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.maintenance_mode,onChange:h=>w("maintenance_mode",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"유지보수 모드"})]})]})]})]})}),e==="backup"&&n&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(ji,{className:"w-5 h-5"}),"백업 설정"]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.auto_backup_enabled,onChange:h=>w("auto_backup_enabled",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"자동 백업 활성화"})]}),n.auto_backup_enabled&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"백업 주기"}),r.jsxs("select",{value:n.backup_frequency,onChange:h=>w("backup_frequency",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"daily",children:"매일"}),r.jsx("option",{value:"weekly",children:"매주"}),r.jsx("option",{value:"monthly",children:"매월"})]})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(I,{variant:"outline",onClick:()=>console.log("수동 백업 실행"),className:"flex items-center gap-2",children:[r.jsx(Et,{className:"w-4 h-4"}),"수동 백업 실행"]})})]})}),r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(sn,{className:"w-5 h-5"}),"시스템 알림"]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.notification_enabled,onChange:h=>w("notification_enabled",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"시스템 알림 활성화"})]}),n.notification_enabled&&r.jsxs("div",{className:"space-y-3 pl-6",children:[r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.email_notifications,onChange:h=>w("email_notifications",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"이메일 알림"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:n.sms_notifications,onChange:h=>w("sms_notifications",h.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"SMS 알림"})]})]})]})})]}),r.jsx(R,{children:r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"시스템 정보"}),r.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("p",{children:"• 버전: SafeWork Pro v2.0.1"}),r.jsx("p",{children:"• 빌드: 2024.06.25.001"}),r.jsx("p",{children:"• 데이터베이스: PostgreSQL 15.3"}),r.jsx("p",{children:"• 마지막 백업: 2024-06-25 02:00:00"}),r.jsxs("p",{children:["• 시스템 상태: ",r.jsx($,{className:"bg-green-100 text-green-800",children:"정상"})]})]})]})]})})})]})}const Tx={}.VITE_API_URL||window.location.origin;class Lx extends E.Component{constructor(t){super(t),this.errorId="",this.reportError=async(n,s)=>{this.setState({isReporting:!0});try{const l={message:n.message,name:n.name,stack:n.stack||"No stack trace available",filename:this.extractFilename(n.stack),url:window.location.href,userAgent:navigator.userAgent,severity:"error",component:"frontend",customData:{componentStack:s.componentStack,timestamp:new Date().toISOString(),userId:this.getCurrentUserId()}},a=await fetch(`${Tx}/api/v1/error-reporting/frontend-error`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(a.ok){const i=await a.json();this.errorId=i.error_id,this.setState({reportSent:!0}),console.log("Error report sent successfully:",i)}else console.error("Failed to send error report:",a.statusText)}catch(l){console.error("Error while reporting error:",l)}finally{this.setState({isReporting:!1})}},this.extractFilename=n=>{if(!n)return"unknown";const s=n.match(/https?:\/\/[^)]+/);return s&&s[0]&&s[0].split("/").pop()||"unknown"},this.getCurrentUserId=()=>{try{const n=localStorage.getItem("user");if(n)return JSON.parse(n).id}catch{}},this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,isReporting:!1,reportSent:!1})},this.state={hasError:!1,error:null,errorInfo:null,isReporting:!1,reportSent:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null,isReporting:!1,reportSent:!1}}componentDidCatch(t,n){this.setState({error:t,errorInfo:n}),this.reportError(t,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-red-100 rounded-full p-4",children:r.jsx(lt,{className:"h-12 w-12 text-red-600"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"앗! 문제가 발생했습니다"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["예상치 못한 오류가 발생했습니다. 불편을 드려 죄송합니다.",this.state.reportSent&&r.jsxs("span",{className:"block mt-2 text-sm text-green-600",children:["✅ 오류가 개발팀에 자동으로 보고되었습니다 (ID: ",this.errorId,")"]})]}),!1,r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:this.handleReload,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[r.jsx(Et,{className:"h-5 w-5 mr-2"}),"페이지 새로고침"]}),r.jsx("button",{onClick:this.handleReset,className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"다시 시도"}),!this.state.reportSent&&r.jsx("button",{onClick:()=>this.reportError(this.state.error,this.state.errorInfo),disabled:this.state.isReporting,className:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center disabled:bg-gray-400",children:this.state.isReporting?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"리포트 전송 중..."]}):r.jsxs(r.Fragment,{children:[r.jsx(gd,{className:"h-5 w-5 mr-2"}),"에러 리포트 보내기"]})})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsxs("p",{className:"text-sm text-gray-500",children:["문제가 계속 발생하면"," ",r.jsx("a",{href:"mailto:support@safework.com",className:"text-blue-600 hover:underline",children:"고객지원팀"}),"에 문의하세요."]})})]})}):this.props.children}}function Dx(){const[e,t]=E.useState("dashboard"),[n,s]=E.useState(!1),l=()=>{switch(e){case"dashboard":return r.jsx(Do,{});case"workers":return r.jsx(sx,{});case"health":return r.jsx(ox,{});case"environment":return r.jsx(dx,{});case"education":return r.jsx(xx,{});case"chemicals":return r.jsx(yx,{});case"accidents":return r.jsx(jx,{});case"unified-documents":return r.jsx(Cx,{});case"reports":return r.jsx(Ex,{});case"monitoring":return r.jsx(rx,{});case"settings":return r.jsx(zx,{});default:return r.jsx(Do,{})}};return r.jsx(Lx,{children:r.jsx(tx,{sidebarOpen:n,setSidebarOpen:s,activeMenu:e,setActiveMenu:t,children:l()})})}Cl.createRoot(document.getElementById("root")).render(r.jsx(Md.StrictMode,{children:r.jsx(Dx,{})}));
