# SafeWork Pro 서비스 재설계 및 리팩토링 계획

## 개요
이 문서는 SafeWork Pro 보건관리시스템의 포괄적인 서비스 재설계 및 프론트엔드 리팩토링 계획을 제시합니다. 현대적 OHS(Occupational Health & Safety) 플랫폼 구축을 위한 상세한 실행 계획입니다.

## 1. 현재 상태 분석

### 1.1 기존 시스템의 문제점
- 데이터베이스 중심의 구조로 인한 사용자 경험 저하
- 모바일 반응형 디자인 부재
- 복잡한 메뉴 구조와 높은 인지 부하
- 통합되지 않은 워크플로우
- 일관성 없는 UI/UX

### 1.2 핵심 개선 영역
1. **정보 구조(IA)**: 과업 중심 구조로 전환
2. **디자인 시스템**: Ant Design 기반 통합 시스템 구축
3. **모바일 우선**: 반응형 디자인 전면 적용
4. **기술 스택**: 현대적 프론트엔드 아키텍처 도입

## 2. 핵심 기능 도메인 재정의

### 2.1 주요 기능 도메인
```
1. 건강 감시 및 모니터링
   - 채용 전 건강 검진
   - 정기 건강 검진
   - 예방 접종 추적
   - 생체 정보 모니터링

2. 사고 및 사례 관리
   - 부상/아차사고 보고 및 조사
   - 근본 원인 분석
   - 업무 복귀 계획

3. 위험 및 유해 요인 관리
   - 위험성 평가(HIRA)
   - 유해 요인 식별
   - 완화 계획 및 안전 관찰

4. 규정 준수 및 규제 관리
   - OSHA/ISO 45001 기록 관리
   - 감사 관리
   - 허가 추적
   - 자동화된 보고

5. 교육 및 참여
   - 교육 관리
   - 자격증 추적
   - 안전 회의 문서화
   - 직원 웰니스 프로그램
```

### 2.2 사용자 페르소나
1. **보건안전 관리자**: 동향 모니터링, 사례 관리, 규정 준수 확인
2. **임원/관리자**: KPI 대시보드, 전략적 의사결정
3. **일반 직원**: 사고 보고, 건강 검진 일정, 안전 교육
4. **산업 보건 전문가**: 임상 데이터 관리, 건강 검진 수행

## 3. 새로운 정보 구조(IA)

### 3.1 과업 중심 내비게이션
```
├── 대시보드 (개인화된 랜딩 페이지)
├── 작업자 관리
│   ├── 직원 건강 기록
│   ├── 검진 관리
│   └── 교육 관리
├── 운영 관리
│   ├── 사고/사례 관리
│   ├── 위험성 평가
│   └── 감사 관리
├── 규정 준수
│   ├── 규제 보고서
│   ├── 문서 관리
│   └── 표준 관리
├── 분석 및 보고서
└── 설정
```

### 3.2 정보 구조 원칙
- **선택의 원칙**: 의사결정 피로 방지를 위한 옵션 제한
- **공개의 원칙**: 점진적 정보 공개 (드릴다운)
- **다중 분류의 원칙**: 여러 경로를 통한 정보 접근
- **집중된 내비게이션**: 현재 과업에 집중

## 4. 디자인 시스템 구축

### 4.1 Ant Design 채택
- **이유**: 데이터 집약적 엔터프라이즈 애플리케이션에 특화
- **장점**: 풍부한 컴포넌트 세트, 일관된 디자인 언어
- **구현**: 아토믹 디자인 방법론 적용

### 4.2 아토믹 디자인 계층
```
원자(Atoms): Button, Icon, Typography
↓
분자(Molecules): Input.Search, DatePicker, Select
↓
유기체(Organisms): Table, Form, Card, PageHeader
↓
템플릿(Templates): 페이지 레이아웃
↓
페이지(Pages): 실제 구현된 화면
```

### 4.3 시각 디자인 원칙
- **명확성**: 충분한 여백, 명확한 계층 구조
- **카드 기반 UI**: 벤토 그리드 레이아웃
- **마이크로인터랙션**: 의미 있는 피드백
- **접근성**: WCAG 2.1 AA 준수

## 5. 반응형 디자인 전략

### 5.1 브레이크포인트
| 디바이스 | 최소 너비 | 열(Columns) | 여백(Gutters) | 마진(Margins) |
|---------|----------|------------|--------------|--------------|
| xs (Mobile) | 0px | 4 | 16px | 16px |
| sm (Tablet) | 600px | 8 | 24px | 24px |
| md (Laptop) | 960px | 12 | 24px | 24px |
| lg (Desktop) | 1280px | 12 | 24px | 32px |
| xl (Large) | 1920px | 12 | 24px | 32px |

### 5.2 내비게이션 패턴
- **데스크톱**: 고정된 접이식 수직 사이드바
- **태블릿**: 아이콘 전용 축소 사이드바
- **모바일**: 햄버거 메뉴 + 하단 탭 바 (핵심 기능)

### 5.3 데이터 테이블 반응형
- 접이식 행 패턴(Collapsible Row Pattern) 적용
- 모바일: 핵심 3-4개 열만 표시, 나머지는 확장 가능

## 6. 기술 스택 권장사항

### 6.1 핵심 기술
```javascript
{
  "framework": "React 18+",
  "ui-library": "Ant Design 5.x",
  "state-management": {
    "server-state": "React Query (TanStack Query)",
    "client-state": "Redux Toolkit"
  },
  "styling": "CSS-in-JS (styled-components)",
  "build-tool": "Vite",
  "typescript": true,
  "testing": {
    "unit": "Jest + React Testing Library",
    "e2e": "Playwright"
  }
}
```

### 6.2 아키텍처 원칙
1. **서버 상태 vs 클라이언트 상태 분리**
2. **컴포넌트 재사용성 극대화**
3. **타입 안정성 보장**
4. **성능 최적화 내장**

## 7. 핵심 화면 재설계

### 7.1 역할 기반 대시보드
```typescript
// 보건안전 관리자 대시보드
interface HSManagerDashboard {
  widgets: [
    "처리 대기 중인 사고 보고서",
    "기한 초과 시정 조치",
    "규정 준수 현황",
    "예정된 감사",
    "실시간 안전 관찰"
  ];
}

// 임원 대시보드
interface ExecutiveDashboard {
  kpis: [
    "시간 손실 재해율(LTIFR)",
    "총 기록 재해율(TRIR)",
    "전체 위험 점수",
    "교육 이수율"
  ];
}
```

### 7.2 데이터 테이블 컴포넌트
```typescript
interface DataTableFeatures {
  sorting: true;
  filtering: "advanced";
  pagination: true;
  rowSelection: true;
  columnVisibility: "customizable";
  inlineEditing: true;
  exportOptions: ["excel", "pdf"];
}
```

## 8. 구현 로드맵

### Phase 1: 기반 구축 (1-3개월)
- [ ] 새 리포지토리 및 프로젝트 구조 설정
- [ ] Ant Design 기반 디자인 시스템 구축
- [ ] 아토믹 컴포넌트 라이브러리 개발
- [ ] 파일럿 모듈 선정 및 구현

### Phase 2: 핵심 기능 재구축 (4-9개월)
- [ ] 역할 기반 대시보드 구현
- [ ] 사고 관리 워크플로우 재설계
- [ ] 위험성 평가 도구 현대화
- [ ] 반응형 데이터 테이블 구현

### Phase 3: 전체 마이그레이션 (10-12개월)
- [ ] 남은 모듈 체계적 리팩토링
- [ ] 레거시 시스템 병렬 운영
- [ ] 사용자 인수 테스트(UAT)
- [ ] 전체 출시 및 레거시 폐기

## 9. 성공 지표

### 9.1 기술적 지표
- 페이지 로드 시간 50% 감소
- 모바일 사용성 점수 90+ (Lighthouse)
- 코드 재사용률 70% 이상
- 테스트 커버리지 80% 이상

### 9.2 비즈니스 지표
- 사용자 작업 완료 시간 30% 단축
- 시스템 채택률 95% 이상
- 사용자 만족도 4.5/5.0 이상
- 교육 시간 40% 감소

## 10. 리스크 관리

### 10.1 기술적 리스크
- **레거시 시스템 통합**: API 버전 관리 전략 수립
- **데이터 마이그레이션**: 단계적 마이그레이션 계획
- **성능 이슈**: 프로파일링 및 최적화 지속

### 10.2 조직적 리스크
- **변화 저항**: 조기 사용자 참여 및 교육
- **기술 역량**: 팀 교육 및 외부 전문가 활용
- **일정 지연**: 애자일 방법론으로 유연한 대응

## 11. 다음 단계

1. **즉시 실행**
   - 기술 스택 최종 확정
   - 파일럿 모듈 선정
   - 개발 환경 구축

2. **1주 이내**
   - 디자인 시스템 초기 구축
   - 첫 번째 아토믹 컴포넌트 개발
   - CI/CD 파이프라인 설정

3. **1개월 이내**
   - 파일럿 모듈 프로토타입 완성
   - 사용자 피드백 수집
   - 로드맵 조정

---
*이 계획은 살아있는 문서로서, 프로젝트 진행에 따라 지속적으로 업데이트됩니다.*

**문서 버전**: 1.0.0  
**작성일**: 2025-07-26  
**작성자**: SafeWork Pro 개발팀